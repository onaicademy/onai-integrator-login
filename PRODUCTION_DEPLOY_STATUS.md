# üîç –ü–û–õ–ù–´–ô –ß–ï–ö–ê–ü –ü–†–û–î–ê–ö–®–ù –í–ï–†–°–ò–ò

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 17 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ù–ï –ó–ê–î–ï–ü–õ–û–ï–ù–û**

---

## ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚ö†Ô∏è –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ù–ï –ó–ê–î–ï–ü–õ–û–ï–ù–´ –ù–ê –ü–†–û–î–ê–ö–®–ù

**22 –∫–æ–º–º–∏—Ç–∞** –≤–ø–µ—Ä–µ–¥–∏ `origin/main` - **–ù–ï –ó–ê–ü–£–®–ï–ù–´**!

```bash
Your branch is ahead of 'origin/main' by 22 commits.
```

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã (–ª–æ–∫–∞–ª—å–Ω–æ):**
```
242aad1 Add debug logs for homework button click
b4fa43c FIX CRITICAL: Google Forms in lesson 67 (Module 1), not 68
f7a4044 Update Google Forms URL for Module 1 homework
b38a0ec Add Google Forms for Module 1 homework
b5b7917 Add homework checkpoint: track submission status
1fa155a Improve homework UI: always visible button
b115bfc Add homework UI: dialog + button with success notification
a31da52 Add homework API: routes for student homework submissions
```

**–ß—Ç–æ –ù–ï –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:**
- ‚ùå Module3CompleteModal (–º–æ–¥–∞–ª–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–æ–¥—É–ª—è 3)
- ‚ùå Debug –ª–æ–≥–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (Achievements.tsx)
- ‚ùå –°–∫—Ä–∏–ø—Ç —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (reset-all-students-progress.ts)
- ‚ùå Homework —Å–∏—Å—Ç–µ–º–∞
- ‚ùå –í—Å–µ —Ñ–∏–∫—Å—ã –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 22 –∫–æ–º–º–∏—Ç–æ–≤

---

### 2. ‚ö†Ô∏è –û–¢–°–£–¢–°–¢–í–£–ï–¢ `TRIPWIRE_SERVICE_KEY` –í `backend/env.env`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∫–ª—é—á–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Tripwire Supabase –ë–î!

```bash
grep "TRIPWIRE_SERVICE_KEY" backend/env.env
# No matches found
```

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:** 
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚ùå Backend –Ω–∞ –ª–æ–∫–∞–ª–∏ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å Tripwire –ë–î

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ `backend/env.env`:
```bash
TRIPWIRE_SERVICE_KEY=<YOUR_SERVICE_KEY>
```

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

### 1. ‚úÖ –ü—Ä–æ–¥–∞–∫—à–Ω —Å–∞–π—Ç –æ–Ω–ª–∞–π–Ω

```bash
curl https://onai.academy/integrator
# HTTP 200 OK
```

### 2. ‚úÖ Backend —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç

```
PM2 Status:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ name            ‚îÇ mode    ‚îÇ pid     ‚îÇ uptime   ‚îÇ cpu    ‚îÇ mem      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 0  ‚îÇ onai-backend    ‚îÇ cluster ‚îÇ 135520  ‚îÇ 3h       ‚îÇ 0%     ‚îÇ 58.0mb   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. ‚úÖ –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `src/components/tripwire/Module3CompleteModal.tsx` (132 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ `backend/scripts/reset-all-students-progress.ts` (205 —Å—Ç—Ä–æ–∫)
- ‚úÖ `ACHIEVEMENTS_DEBUG_FIX.md`
- ‚úÖ `TRIPWIRE_PRODUCTION_DEPLOY_CHANGES.md`

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `src/pages/tripwire/components/Achievements.tsx` (debug –ª–æ–≥–∏)
- ‚úÖ `src/pages/tripwire/TripwireLesson.tsx` (Module 3 modal logic)
- ‚úÖ `backend/src/routes/tripwire-lessons.ts` (Groq API key update)

---

## ‚ùì –ù–ï–ò–ó–í–ï–°–¢–ù–´–ô –°–¢–ê–¢–£–°

### 1. ‚ùì –°–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

**–ù–µ –º–æ–≥—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑ `TRIPWIRE_SERVICE_KEY`:**
- –°–∫–æ–ª—å–∫–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –ë–î?
- –û–±–Ω—É–ª–µ–Ω—ã –ª–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å—ã?
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ª–∏ –º–æ–¥—É–ª–∏?
- –ö—Ç–æ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥—É–ª—è–º 2-3?

**–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Supabase Dashboard:**
```
https://supabase.com/dashboard/project/pjmvxecykysfrzppdcto
```

**–¢–∞–±–ª–∏—Ü—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
1. `tripwire_users` - —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
2. `tripwire_progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º
3. `module_unlocks` - —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
4. `user_achievements` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

---

## üìã –ß–ï–ö–õ–ò–°–¢: –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å `TRIPWIRE_SERVICE_KEY`

```bash
# –ù–∞–π—Ç–∏ –∫–ª—é—á –≤ Supabase Dashboard
# –î–æ–±–∞–≤–∏—Ç—å –≤ backend/env.env
echo "TRIPWIRE_SERVICE_KEY=<YOUR_KEY>" >> backend/env.env
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î

```bash
cd backend
npx tsx -e "
import { createClient } from '@supabase/supabase-js';
import dotenv from 'dotenv';
dotenv.config({ path: './env.env' });

const supabase = createClient(
  'https://pjmvxecykysfrzppdcto.supabase.co',
  process.env.TRIPWIRE_SERVICE_KEY
);

async function check() {
  const { data: users } = await supabase
    .from('tripwire_users')
    .select('id, email, full_name, role');
  
  console.log('–°—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –ë–î:', users?.length);
  
  const { data: progress } = await supabase
    .from('tripwire_progress')
    .select('*');
  
  console.log('–ó–∞–ø–∏—Å–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:', progress?.length);
  
  const { data: unlocks } = await supabase
    .from('module_unlocks')
    .select('*');
  
  console.log('–ó–∞–ø–∏—Å–µ–π —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:', unlocks?.length);
}

check();
"
```

### –®–∞–≥ 3: –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (–ï–°–õ–ò –ù–£–ñ–ù–û)

```bash
cd backend
npx tsx scripts/reset-all-students-progress.ts
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –£–¥–∞–ª–∏—Ç –í–°–ï –ø—Ä–æ–≥—Ä–µ—Å—Å—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –£–¥–∞–ª–∏—Ç –í–°–ï —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –º–æ–¥—É–ª–µ–π
- –£–¥–∞–ª–∏—Ç –í–°–ï –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –£–¥–∞–ª–∏—Ç –í–°–ï —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- –°–æ–∑–¥–∞—Å—Ç –∑–∞–Ω–æ–≤–æ –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –º–æ–¥—É–ª—è 1

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**
- `saint@onaiacademy.kz` (admin)
- Sales –º–µ–Ω–µ–¥–∂–µ—Ä—ã (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å email –≤ —Å–∫—Ä–∏–ø—Ç)

### –®–∞–≥ 4: Commit + Push

```bash
git add .
git commit -m "feat(tripwire): add Module 3 completion modal, achievements debug, student progress reset script"
git push origin main
```

### –®–∞–≥ 5: Deploy –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

#### 5.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö URL

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ù–ï–¢ localhost –≤ production –∫–æ–¥–µ
grep -r "localhost:8080" src/ --include="*.tsx" --include="*.ts" | grep -v "node_modules"
grep -r "localhost:3000" src/ --include="*.tsx" --include="*.ts" | grep -v "node_modules"
```

#### 5.2 Build –ª–æ–∫–∞–ª—å–Ω–æ

```bash
npm run build
```

#### 5.3 Deploy –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# Backup
ssh root@207.154.231.30 "cd /var/www/onai.academy && tar -czf /root/backup-onai-academy-$(date +%Y%m%d-%H%M).tar.gz dist/"

# Pull latest
ssh root@207.154.231.30 "cd /var/www/onai.academy && git pull origin main"

# Build frontend
ssh root@207.154.231.30 "cd /var/www/onai.academy && npm run build"

# Restart backend
ssh root@207.154.231.30 "cd /var/www/onai.academy/backend && npm install && pm2 restart onai-backend"

# Reload nginx
ssh root@207.154.231.30 "systemctl reload nginx"
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ Deploy

#### 6.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç

```bash
curl -I https://onai.academy/integrator
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

#### 6.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
ssh root@207.154.231.30 "pm2 logs onai-backend --lines 50"
```

#### 6.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–û—Ç–∫—Ä—ã—Ç—å DevTools (F12) ‚Üí Network:**

1. ‚úÖ –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –Ω–∞ `https://api.onai.academy`
2. ‚ùå –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ `localhost`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:**

1. **–õ–æ–≥–∏–Ω —Å—Ç—É–¥–µ–Ω—Ç–∞:**
   - –ó–∞–π—Ç–∏ –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª—å 1 –æ—Ç–∫—Ä—ã—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª–∏ 2-3 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã

2. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–æ–¥—É–ª—è 1:**
   - –î–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫ 67 –¥–æ –∫–æ–Ω—Ü–∞
   - –ù–∞–∂–∞—Ç—å "–ó–ê–í–ï–†–®–ò–¢–¨ –ú–û–î–£–õ–¨"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å confetti –∞–Ω–∏–º–∞—Ü–∏—é
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª—å 2 —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª—Å—è

3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–æ–¥—É–ª—è 3:**
   - –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ 69
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª–∫–∏ "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü–û–õ–£–ß–ò–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å

4. **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
   - –û—Ç–∫—Ä—ã—Ç—å Console (F12)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `üîç [Achievements]`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã

---

## üéØ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

### ‚ùå –ù–ï –ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£ –î–õ–Ø –°–¢–£–î–ï–ù–¢–û–í

**–ü—Ä–∏—á–∏–Ω—ã:**

1. ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω (22 –∫–æ–º–º–∏—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ)
2. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `TRIPWIRE_SERVICE_KEY` –≤ env.env
3. ‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
4. ‚ùå –ü—Ä–æ–≥—Ä–µ—Å—Å—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–µ —Å–±—Ä–æ—à–µ–Ω—ã (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
5. ‚ùå Module 3 –º–æ–¥–∞–ª–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ
6. ‚ùå Debug –ª–æ–≥–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –Ω–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

---

## üöÄ –ë–´–°–¢–†–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –í–∞—Ä–∏–∞–Ω—Ç A: –ë—ã—Å—Ç—Ä—ã–π Deploy (–±–µ–∑ —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å TRIPWIRE_SERVICE_KEY –≤ backend/env.env
# 2. Commit + Push
git add . && git commit -m "feat: tripwire production updates" && git push

# 3. Deploy
ssh root@207.154.231.30 "cd /var/www/onai.academy && git pull && npm run build && pm2 restart onai-backend && systemctl reload nginx"

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
curl -I https://onai.academy/integrator
```

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç  
**–†–∏—Å–∫–∏:** –ü—Ä–æ–≥—Ä–µ—Å—Å—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è

---

### –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–ª–Ω—ã–π Deploy (—Å–æ —Å–±—Ä–æ—Å–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å TRIPWIRE_SERVICE_KEY
# 2. –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ª–æ–∫–∞–ª—å–Ω–æ
cd backend && npx tsx scripts/reset-all-students-progress.ts

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
npx tsx -e "/* check DB query */"

# 4. Commit + Push
git add . && git commit -m "feat: tripwire full reset + production deploy" && git push

# 5. Deploy
# (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç A —à–∞–≥ 3)

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞
# (—Å–º. –®–∞–≥ 6 –≤—ã—à–µ)
```

**–í—Ä–µ–º—è:** ~30 –º–∏–Ω—É—Ç  
**–†–∏—Å–∫–∏:** –í–°–ï –ø—Ä–æ–≥—Ä–µ—Å—Å—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!

---

## üìû –ù–£–ñ–ù–û –†–ï–®–ï–ù–ò–ï –û–¢ –¢–ï–ë–Ø

**–í–æ–ø—Ä–æ—Å—ã:**

1. ‚ö†Ô∏è **–ù—É–∂–Ω–æ –ª–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å—ã –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤?**
   - –î–ê ‚Üí –í–∞—Ä–∏–∞–Ω—Ç B
   - –ù–ï–¢ ‚Üí –í–∞—Ä–∏–∞–Ω—Ç A

2. ‚ö†Ô∏è **–ì–¥–µ –≤–∑—è—Ç—å `TRIPWIRE_SERVICE_KEY`?**
   - Supabase Dashboard ‚Üí Settings ‚Üí API ‚Üí service_role key

3. ‚ö†Ô∏è **Email sales –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —Å–±—Ä–æ—Å–∞?**
   - –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `EXCLUDED_EMAILS` –≤ —Å–∫—Ä–∏–ø—Ç–µ

**–ñ–î–£ –û–¢–í–ï–¢–û–í –î–õ–Ø –ü–†–û–î–û–õ–ñ–ï–ù–ò–Ø!** üöÄ
