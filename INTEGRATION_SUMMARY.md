# üìä –†–µ–∑—é–º–µ: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Supabase –≤ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–î–∞—Ç–∞:** 4 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Supabase –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`/admin/activity`) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è **—Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –∏—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å–µ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤–º–µ—Å—Ç–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å —É—Ç–∏–ª–∏—Ç** (`src/lib/admin-utils.ts`)

–ù–æ–≤—ã–π —Ñ–∞–π–ª —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ Supabase:

#### –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:
- `getAllAchievements()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- `getUserAchievements(userId)` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getUserAchievementsWithDetails(userId)` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–º

#### –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
- `getUserProgress(userId)` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º
- `getUserStats(userId)` - –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  - –û–±—â–∏–π XP
  - –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —É—Ä–æ–∫–∏
  - –í—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - –¢–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫ (–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥)
  - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –≤ –¥–µ–Ω—å

#### –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- `getUserDailyActivity(userId, days)` - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –ø–µ—Ä–∏–æ–¥
- `getUserActivityLog(userId, limit)` - –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getUserLatestDiagnostics(userId)` - –ø–æ—Å–ª–µ–¥–Ω—è—è AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `getUserDiagnosticsHistory(userId)` - –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫

#### –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏:
- `getPlatformStats()` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `getWeeklyActivityData()` - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `getAllUsers()` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `seedAchievements()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

---

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** (`src/pages/admin/Activity.tsx`)

#### –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
```typescript
const [users, setUsers] = useState<UserWithStats[]>([]);
const [selectedUser, setSelectedUser] = useState<UserWithStats | null>(null);
const [showUserModal, setShowUserModal] = useState(false);
const [userAchievements, setUserAchievements] = useState<AchievementWithStatus[]>([]);
const [userDiagnostics, setUserDiagnostics] = useState<DiagnosticsData | null>(null);
const [activityData, setActivityData] = useState<any[]>([]);
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `fetchData()`:
- –¢–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase –≤–º–µ—Å—Ç–æ –º–æ–∫–æ–≤—ã—Ö
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (`getPlatformStats`)
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–¥–µ–ª—é (`getWeeklyActivityData`)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`getAllUsers`)

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleViewUser()`:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

---

### 3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

–ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:

- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - Email
  - –ò–º—è
  - –†–æ–ª—å (admin/student)
  - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Å–º–æ—Ç—Ä" (üëÅÔ∏è) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

---

### 4. **–°–æ–∑–¥–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ —Å 3 –≤–∫–ª–∞–¥–∫–∞–º–∏:

#### **–í–∫–ª–∞–¥–∫–∞ "–û–±–∑–æ—Ä":**
- 4 –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏:
  - ‚ö° –í—Å–µ–≥–æ XP
  - üéØ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Ä–æ–∫–æ–≤
  - üèÜ –ü–æ–ª—É—á–µ–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - ‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤ –¥–µ–Ω—å (–º–∏–Ω)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞:
  - Email, –∏–º—è, —Ä–æ–ª—å
  - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –¢–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫ üî•

#### **–í–∫–ª–∞–¥–∫–∞ "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è":**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è:
  - ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ (—è—Ä–∫–∏–µ, —Å –¥–∞—Ç–æ–π –ø–æ–ª—É—á–µ–Ω–∏—è)
  - ‚¨ú –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ (–∑–∞—Ç–µ–º–Ω—ë–Ω–Ω—ã–µ)
- –†–µ–¥–∫–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:
  - üü° Legendary
  - üü£ Epic
  - üîµ Rare
  - ‚ö™ Common

#### **–í–∫–ª–∞–¥–∫–∞ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞":**
- **–ú–µ—Ç—Ä–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è:**
  - –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Ä–æ–∫–æ–≤
  - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤ –¥–µ–Ω—å
  - –¢–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫
  - –§–ª–∞–≥ –Ω–∏–∑–∫–æ–π –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏
- **–ó–∞—Å—Ç—Ä—è–≤—à–∏–µ —É—Ä–æ–∫–∏** (–µ—Å–ª–∏ –µ—Å—Ç—å) - —Å–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "–∑–∞—Å—Ç—Ä—è–ª"
- **üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è AI** - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–æ–≤–µ—Ç –æ—Ç AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∞

---

### 5. **–°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

#### –§–∞–π–ª: `ADMIN_PANEL_SUPABASE_INTEGRATION.md`
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–∫–ª—é—á–∞–µ—Ç:
- –û–±–∑–æ—Ä –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü Supabase)
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–∞ –º–µ—Ç—Ä–∏–∫ (—Å—Ç—Ä–∏–∫, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏ —Ç.–¥.)
- –ü–ª–∞–Ω—ã –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é
- –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

#### –û–±–Ω–æ–≤–ª—ë–Ω: `README.md`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

---

## üìä –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã Supabase

1. **`users`** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
2. **`achievements`** - –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
3. **`user_achievements`** - —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
4. **`progress`** - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —É—Ä–æ–∫–∞–º (XP, –≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
5. **`daily_activity`** - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã, —É—Ä–æ–∫–∏, XP)
6. **`diagnostics_log`** - –ª–æ–≥ AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
7. **`user_activity`** - –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
8. **`admin_reports`** - –∏—Å—Ç–æ—Ä–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
9. **`dashboard_stats`** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üé® UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### –ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫:
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ñ–æ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏ (purple, green, orange, blue)
- –ò–∫–æ–Ω–∫–∏ –∏–∑ Lucide React
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ (2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, 4 –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)

### –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö
- –¶–≤–µ—Ç–æ–≤—ã–µ –±–µ–π–¥–∂–∏ –¥–ª—è —Ä–æ–ª–µ–π
- Tooltips –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:
- –í–∫–ª–∞–¥–∫–∏ (Tabs) –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω –¥–ª—è AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è "–∑–∞—Å—Ç—Ä—è–≤—à–∏—Ö" —É—Ä–æ–∫–æ–≤

---

## üî¢ –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –∏—Ö —Ä–∞—Å—á—ë—Ç

### –¢–µ–∫—É—â–∏–π —Å—Ç—Ä–∏–∫ (Current Streak)
```
–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π –≤ daily_activity
–°—á–∏—Ç–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–Ω–∏ —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é (minutes > 0)
–°—Ç—Ä–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–º –¥–Ω–µ
```

### –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤ –¥–µ–Ω—å
```
avg_minutes_per_day = (—Å—É–º–º–∞ minutes –∑–∞ 7 –¥–Ω–µ–π) / 7
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ —Ä–∏—Å–∫–µ –æ—Ç—Ç–æ–∫–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –∑–∞–ø–∏—Å–µ–π –≤ daily_activity –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
```

### –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–µ–≥–æ–¥–Ω—è
```
–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ user_id –≤ daily_activity —Å date = —Å–µ–≥–æ–¥–Ω—è –∏ minutes > 0
```

---

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
npm run dev
```

### 2. –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
```
http://localhost:5173/admin/activity
```

### 3. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

#### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
// –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
const { seedAchievements } = await import('/src/lib/admin-utils');
await seedAchievements();
```

#### –ò–ª–∏ –≤ Supabase SQL Editor:
–°–º. –ø—Ä–∏–º–µ—Ä—ã –≤ `ADMIN_PANEL_SUPABASE_INTEGRATION.md`

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–ª–∏–∫ –Ω–∞ "–ü—Ä–æ—Å–º–æ—Ç—Ä" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- ‚úÖ –í—Å–µ 3 –≤–∫–ª–∞–¥–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ)

---

## üì¶ –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã/—Å–æ–∑–¥–∞–Ω—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `src/lib/admin-utils.ts` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
2. `ADMIN_PANEL_SUPABASE_INTEGRATION.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
3. `INTEGRATION_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª (—Ä–µ–∑—é–º–µ)

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `src/pages/admin/Activity.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
2. `README.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–≤–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å:
1. ‚úÖ ~~–°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏~~ - –ì–û–¢–û–í–û
2. ‚úÖ ~~–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Supabase –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å~~ - –ì–û–¢–û–í–û
3. ‚úÖ ~~–°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è~~ - –ì–û–¢–û–í–û
4. ‚úÖ ~~–ù–∞–ø–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é~~ - –ì–û–¢–û–í–û
5. ‚è≥ **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase** - –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨
6. ‚è≥ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV/Excel
- –ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–û–±–∑–æ—Ä"
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–∏—Å–∫–µ
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

---

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–∞–±–ª–∏—Ü—ã –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ Supabase** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
2. **RLS –ø–æ–ª–∏—Ç–∏–∫–∏** - —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `anon` –∫–ª—é—á
3. **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è

---

## ‚ú® –ò—Ç–æ–≥

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–µ–ø–µ—Ä—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å Supabase** –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- ‚úÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö
- ‚úÖ –û–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–í—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å **–≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** –∏ –æ–∂–∏–¥–∞–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

**–°–æ–∑–¥–∞–Ω–æ:** 4 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant (Claude Sonnet 4.5)  
**–ü—Ä–æ–µ–∫—Ç:** onAI Academy Platform

