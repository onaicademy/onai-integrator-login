# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ù–ï –¢–†–û–ì–ê–¢–¨ –ü–£–ë–õ–ò–ß–ù–´–ï –õ–ï–ù–î–ò–ù–ì–ò!

## ‚õî **–ó–ê–ü–†–ï–©–ï–ù–û –í–ù–û–°–ò–¢–¨ –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –°–õ–ï–î–£–Æ–©–ò–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´:**

### üìã **LANDING PAGES (–ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Å–±–æ—Ä–∞ –∑–∞—è–≤–æ–∫):**

1. **ProfTest (–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç):**
   - `src/pages/tripwire/ProfTest.tsx` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨
   - –†–æ—É—Ç: `/integrator/proftest`
   - –†–æ—É—Ç: `/integrator/proftest/:slug` (–¥–ª—è UTM-–∫–∞–º–ø–∞–Ω–∏–π)
   
2. **ExpressCourse (–õ–µ–Ω–¥–∏–Ω–≥ –ø–æ–∫—É–ø–∫–∏):**
   - `src/pages/tripwire/TripwireLanding.tsx` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨
   - –†–æ—É—Ç: `/integrator/expresscourse`
   - –†–æ—É—Ç: `/expresscourse`

### üîó **BACKEND API ENDPOINTS:**

- `backend/src/routes/landing.ts` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨
  - `POST /api/landing/proftest` - –ü—Ä–∏–µ–º –∑–∞—è–≤–æ–∫ ProfTest
  - `POST /api/landing/submit` - –ü—Ä–∏–µ–º –∑–∞—è–≤–æ–∫ ExpressCourse
  
### üîß **–ò–ù–¢–ï–ì–†–ê–¶–ò–ò:**

- `backend/src/lib/amocrm.ts` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨
  - `findExistingLead()` - –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ email/phone
  - `createOrUpdateLead()` - –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫ –≤ AmoCRM
  - –õ–æ–≥–∏–∫–∞ —Å–∫–ª–µ–π–∫–∏ —Å–¥–µ–ª–æ–∫ –ø–æ —ç—Ç–∞–ø–∞–º (–ö–†–ò–¢–ò–ß–ù–û!)
  
- `backend/src/services/scheduledNotifications.ts` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨
  - SMS/Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 10 –º–∏–Ω—É—Ç
  - Persistent storage –≤ `scheduled_notifications` —Ç–∞–±–ª–∏—Ü–µ
  - Recovery –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ restart —Å–µ—Ä–≤–µ—Ä–∞

### üìä **–ë–ê–ó–ê –î–ê–ù–ù–´–•:**

- **Landing Supabase** (Landing DB):
  - –¢–∞–±–ª–∏—Ü–∞: `landing_leads` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨ –°–¢–†–£–ö–¢–£–†–£
  - –¢–∞–±–ª–∏—Ü–∞: `scheduled_notifications` ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨ –°–¢–†–£–ö–¢–£–†–£
  - –¢–∞–±–ª–∏—Ü–∞: `unified_lead_tracking` (Tripwire DB) ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨

---

## ‚ö†Ô∏è **–ü–û–ß–ï–ú–£ –ù–ï–õ–¨–ó–Ø –¢–†–û–ì–ê–¢–¨:**

1. **–ò–¥–µ—Ç –ø–ª–∞—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫** üí∞
   - –ö–∞–∂–¥–∞—è —Å–ª–æ–º–∞–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ = –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏
   - ProfTest/ExpressCourse —Å–æ–±–∏—Ä–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

2. **AmoCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** üîó
   - –°–¥–µ–ª–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–ª–µ–∏–≤–∞—é—Ç—Å—è –ø–æ email/phone
   - –≠—Ç–∞–ø—ã –≤–æ—Ä–æ–Ω–∫–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç `paymentMethod` (kaspi/halyk/robokassa)
   - –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ = –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ/–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–¥—ã

3. **SMS/Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç** üìßüì±
   - Persistent storage –≤ –ë–î (–Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ restart)
   - Recovery –º–µ—Ö–∞–Ω–∏–∑–º –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç pending —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –õ–æ–≥–∏–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞

4. **UTM-–º–µ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** üìä
   - –ö–∞–∂–¥–∞—è –∫–∞–º–ø–∞–Ω–∏—è –∏–º–µ–µ—Ç —Å–≤–æ–π slug (proftest_kenesary, proftest_arystan, etc.)
   - Tracking —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ü–∏—é

---

## ‚úÖ **–ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û:**

### ProfTest (`/integrator/proftest`):
- ‚úÖ –°–±–æ—Ä –∑–∞—è–≤–æ–∫ (name, email, phone, metadata)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã –û–¢–ö–õ–Æ–ß–ï–ù–ê (–º–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑)
- ‚úÖ Scheduled SMS/Email —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞ –≤ AmoCRM
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `landing_leads` + `unified_lead_tracking`
- ‚úÖ UTM-tracking (–∏—Å—Ç–æ—á–Ω–∏–∫: `proftest_{slug}`)

### ExpressCourse (`/integrator/expresscourse`):
- ‚úÖ –§–æ—Ä–º–∞ –ø–æ–∫—É–ø–∫–∏ (CheckoutForm)
- ‚úÖ –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã (Kaspi, Halyk, Robokassa)
- ‚úÖ AmoCRM: —Å–∫–ª–µ–π–∫–∞ —Å–¥–µ–ª–æ–∫ –ø–æ email/phone
- ‚úÖ AmoCRM: –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç—Ç–∞–ø –≤–æ—Ä–æ–Ω–∫–∏
- ‚úÖ Scheduled SMS/Email —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `landing_leads`

### AmoCRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- ‚úÖ –ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ª–∏–¥–æ–≤ –ø–æ email/phone
- ‚úÖ –°–∫–ª–µ–π–∫–∞ –¥—É–±–ª–µ–π –Ω–∞ –Ω—É–∂–Ω–æ–º —ç—Ç–∞–ø–µ (–ø–æ `paymentMethod`)
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã: `142` (Kaspi), `143` (Halyk), `144` (Robokassa)
- ‚úÖ Pipeline ID: `10350882` (–µ–¥–∏–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤)

### SMS/Email —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ Persistent storage –≤ `scheduled_notifications`
- ‚úÖ Recovery –ø—Ä–∏ restart backend
- ‚úÖ Status tracking: pending ‚Üí sent/failed
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É (`source_campaign`)

---

## üß™ **–¢–ï–°–¢–û–í–´–ï –î–ê–ù–ù–´–ï (–ù–µ —É–¥–∞–ª—è—Ç—å!):**

### –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- Email: `smmmcwin@gmail.com` / Phone: `+7 777 388-68-80` (Admin)
- Email: `zankachidix.ai@gmail.com` (–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞)
- Email: `icekvup@gmail.com` (–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞)

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–¥—ã:
1. alex (icekvup@gmail.com) - 14.12.2025, 06:21:46 ‚úÖ
2. –≠–ª—å–º–∏—Ä–∞ (ekadrali@gmail.com) - 14.12.2025, 06:23:04 ‚úÖ
3. –ò—Ä–∏–Ω–∞ (dexkaimer99@mal.ru) - 14.12.2025, 06:13:38 ‚úÖ

**–í—Å–µ –ø–æ–ª—É—á–∏–ª–∏ SMS + Email!** ‚úÖ

---

## üö´ **–ï–°–õ–ò –í–°–ï –ñ–ï –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨:**

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–°–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```
   ‚ö†Ô∏è –≠—Ç–æ –∏–∑–º–µ–Ω–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –ª–µ–Ω–¥–∏–Ω–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç –ø–ª–∞—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫.
   –í—ã —É–≤–µ—Ä–µ–Ω—ã? (–î–∞/–ù–µ—Ç)
   ```

2. **–°–æ–∑–¥–∞—Ç—å backup:**
   - –°–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–µ—Ç–∫—É `backup-landing-{date}`
   - Commit —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û –ª–æ–∫–∞–ª—å–Ω–æ:**
   - –ù–ï –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω –±–µ–∑ —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ–æ—Ä–º—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å AmoCRM integration
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SMS/Email

4. **–¢–µ—Å—Ç–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:**
   - [ ] –§–æ—Ä–º–∞ ProfTest —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –§–æ—Ä–º–∞ ExpressCourse —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –õ–∏–¥ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ AmoCRM
   - [ ] –°–¥–µ–ª–∫–∞ —Å–∫–ª–µ–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º email)
   - [ ] SMS –ø—Ä–∏—Ö–æ–¥–∏—Ç
   - [ ] Email –ø—Ä–∏—Ö–æ–¥–∏—Ç
   - [ ] Status –≤ –ë–î = "sent"

---

## üìù **–í–ê–ñ–ù–´–ï –ó–ê–ú–ï–¢–ö–ò:**

### –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º (–ù–ï –ü–û–í–¢–û–†–Ø–¢–¨!):
1. ‚ùå 13.12.2025 - Backend —É–ø–∞–ª –∏–∑-–∑–∞ `nodemon: not found` ‚Üí –ü–æ—Ç–µ—Ä—è–ª–∏ –ª–∏–¥—ã
2. ‚ùå 13.12.2025 - In-memory scheduler ‚Üí –ü–æ—Ç–µ—Ä—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ restart
3. ‚ùå 14.12.2025 - –ü—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç Supabase ‚Üí Crash ExpressCourse landing
4. ‚úÖ 14.12.2025 - –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ Backend —Å—Ç–∞–±–∏–ª–µ–Ω (PM2 —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π)
- ‚úÖ Scheduled notifications –≤ –ë–î (persistent)
- ‚úÖ Recovery –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ AmoCRM —Å–∫–ª–µ–π–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ SMS/Email –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è

---

## üîí **–ò–¢–û–ì–û:**

### ‚ùå –ù–ï –¢–†–û–ì–ê–¢–¨:
- ProfTest –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ —Ä–æ—É—Ç—ã
- ExpressCourse –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ —Ä–æ—É—Ç—ã
- Landing API endpoints
- AmoCRM integration
- Scheduled notifications
- –ë–î —Ç–∞–±–ª–∏—Ü—ã `landing_leads`, `scheduled_notifications`

### ‚úÖ –ú–û–ñ–ù–û –ò–ó–ú–ï–ù–Ø–¢–¨:
- Tripwire —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (`/integrator` –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞)
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (`/integrator/admin`)
- AI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏, —á–∞—Ç, –∏ —Ç.–¥.)
- Main –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (–µ—Å–ª–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ landing)

---

## üìû **–ö–û–ù–¢–ê–ö–¢–´ –î–õ–Ø –í–û–ü–†–û–°–û–í:**

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ª–µ–Ω–¥–∏–Ω–≥–∞–º:
- –í–ª–∞–¥–µ–ª–µ—Ü: smmmcwin@gmail.com
- **–í–°–ï–ì–î–ê —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏!**

---

**üî• –ó–ê–ü–û–ú–ù–ò: –≠—Ç–∏ –ª–µ–Ω–¥–∏–Ω–≥–∏ = –¥–µ–Ω—å–≥–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞. –ù–µ –ª–æ–º–∞–π —Ç–æ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

*–°–æ–∑–¥–∞–Ω–æ: 14 –¥–µ–∫–∞–±—Ä—è 2025*  
*–°—Ç–∞—Ç—É—Å: –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚úÖ*
