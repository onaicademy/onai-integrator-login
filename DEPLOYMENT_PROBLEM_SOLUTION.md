# üîß –ü–†–û–ë–õ–ï–ú–ê –ò –†–ï–®–ï–ù–ò–ï: –î–µ–ø–ª–æ–π –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –Ω–∞ Digital Ocean

**–î–∞—Ç–∞:** 6 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û**  
**–°–µ—Ä–≤–µ—Ä:** Digital Ocean (178.128.203.40)  
**–°–∞–π—Ç:** https://onai.academy

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã](#-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
2. [–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
3. [–†–µ—à–µ–Ω–∏–µ](#-—Ä–µ—à–µ–Ω–∏–µ)
4. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞](#-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
5. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ –±—É–¥—É—â–µ–º](#-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-–≤-–±—É–¥—É—â–µ–º)
6. [–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è](#-–∫–æ–º–∞–Ω–¥—ã-–¥–ª—è-–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è)

---

## üö® –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

### –°–∏–º–ø—Ç–æ–º—ã:

1. **–°—Ç–∞—Ä–∞—è –¥–∞—Ç–∞ Last-Modified:**
   ```
   Last-Modified: Tue, 04 Nov 2025 19:32:35 GMT  ‚ùå
   ```
   –í–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–π –¥–∞—Ç—ã 6 –Ω–æ—è–±—Ä—è 2025

2. **–°—Ç–∞—Ä—ã–π —Ö—ç—à JavaScript —Ñ–∞–π–ª–∞:**
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `index-DPqPWVg7.js` (814KB) ‚ùå
   - –û–∂–∏–¥–∞–ª–æ—Å—å: `index-mBC9421I.js` (1.16MB) ‚úÖ

3. **–°—Ç–∞—Ä—ã–π –∫–æ–º–º–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   ```
   22c8e64 Temporary: Disable auth checks for UI testing
   ```
   –í–º–µ—Å—Ç–æ –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ `c0bc9fd`

### –ü—Ä–∏—á–∏–Ω–∞:

**Digital Ocean —Å–µ—Ä–≤–µ—Ä –Ω–µ –±—ã–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å GitHub!**

- ‚úÖ –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ: –Ω–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ dist/ (6 –Ω–æ—è–±—Ä—è)
- ‚ùå –í GitHub: dist/ **–æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª** (–±—ã–ª –≤ .gitignore)
- ‚ùå –ù–∞ Digital Ocean: —Å—Ç–∞—Ä–∞—è —Å–±–æ—Ä–∫–∞ (4 –Ω–æ—è–±—Ä—è)

**–í—ã–≤–æ–¥:** –°–±–æ—Ä–∫–∞ –¥–µ–ª–∞–ª–∞—Å—å –¢–û–õ–¨–ö–û –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—Ä—É—á–Ω—É—é, –Ω–æ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∞ –≤ GitHub, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞—Å—å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è.

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ Last-Modified –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
ssh root@178.128.203.40
curl -I https://onai.academy/ | grep Last-Modified
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
curl: (7) Failed to connect to onai.academy port 443
```

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ #1: HTTPS –Ω–µ —Ä–∞–±–æ—Ç–∞–ª!**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx

```bash
systemctl status nginx
netstat -tlnp | grep -E '(:80|:443)'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
tcp  0.0.0.0:80   LISTEN  nginx  ‚úÖ
tcp  0.0.0.0:443  ---     ---    ‚ùå –ù–ï–¢!
```

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ #2: Nginx —Å–ª—É—à–∞–ª —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç 80 (HTTP), SSL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
cd /var/www/onai-integrator-login
ls -lh dist/assets/*.js
git log --oneline -1
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
-rw-r--r-- 1 root root 814K Nov 5 20:25 index-DPqPWVg7.js  ‚ùå –°–¢–ê–†–´–ô!
22c8e64 Temporary: Disable auth checks  ‚ùå –°–¢–ê–†–´–ô –ö–û–ú–ú–ò–¢!
```

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ #3: –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å—Ç–∞—Ä—ã–π –∫–æ–¥!**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ .gitignore

```bash
cat .gitignore | grep dist
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
dist  ‚ùå dist/ –≤ .gitignore!
```

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ #4: dist/ –Ω–µ –ø–æ–ø–∞–¥–∞–ª –≤ GitHub –∏–∑-–∑–∞ .gitignore!**

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –≠–¢–ê–ü 1: –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ push –≤ GitHub

#### 1.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

```bash
cd "/Users/miso/Documents/MVP onAI Academy Platform/onai-integrator-login"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ MOCK –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
grep -q "const topStudentsData = \[" src/pages/admin/Activity.tsx
echo $?  # 1 = –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úÖ
```

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —á–∏—Å—Ç—ã–π, MOCK –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç

#### 1.2 –£–¥–∞–ª–µ–Ω–∏–µ dist –∏–∑ .gitignore

**–§–∞–π–ª:** `.gitignore`

**–ë—ã–ª–æ:**
```
node_modules
dist        ‚ùå
dist-ssr
*.local
```

**–°—Ç–∞–ª–æ:**
```
node_modules
dist-ssr    ‚úÖ dist —É–¥–∞–ª—ë–Ω –∏–∑ .gitignore
*.local
```

#### 1.3 –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ dist/ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
rm -rf dist/ .vite/

# –°–±–æ—Ä–∫–∞
npm run build
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì 3326 modules transformed.
dist/index.html                     1.47 kB
dist/assets/index-DbJCms3L.css     96.57 kB
dist/assets/index-mBC9421I.js   1,157.62 kB  ‚úÖ –ù–û–í–´–ô –•–≠–®!
‚úì built in 2.92s
```

#### 1.4 –ö–æ–º–º–∏—Ç –∏ push –≤ GitHub

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
git add .gitignore dist/ REBUILD_DIST_SUCCESS.md rebuild_dist.sh

# –ö–æ–º–º–∏—Ç
git commit -m "üöÄ Rebuild dist/ with latest source code (Nov 6, 2025)

- Rebuilt dist/ from clean source (no MOCK data)
- Removed dist from .gitignore to track built files
- Build info: 3326 modules, 1.15MB JS bundle
- Ready for DigitalOcean deployment"

# Push –≤ GitHub
git push origin main
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[main c0bc9fd] üöÄ Rebuild dist/ with latest source code
9 files changed, 955 insertions(+), 1 deletion(-)
‚úÖ –£–°–ü–ï–®–ù–û –ó–ê–ü–£–®–ï–ù–û –í GITHUB!
```

---

### –≠–¢–ê–ü 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –Ω–∞ Digital Ocean

#### 2.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx

```bash
ssh root@178.128.203.40
cat /etc/nginx/sites-enabled/onai-integrator-login.conf
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–∏–≥ —Å–æ–¥–µ—Ä–∂–∞–ª —Ç–æ–ª—å–∫–æ HTTP (–ø–æ—Ä—Ç 80), HTTPS –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª

#### 2.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥:**

```nginx
# HTTP -> HTTPS redirect
server {
    listen 80;
    listen [::]:80;
    server_name onai.academy www.onai.academy;
    
    return 301 https://$host$request_uri;
}

# HTTPS server
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name onai.academy www.onai.academy;

    # SSL certificates
    ssl_certificate /etc/letsencrypt/live/onai.academy/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/onai.academy/privkey.pem;

    # SSL configuration
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # Root directory
    root /var/www/onai-integrator-login/dist;
    index index.html;

    # SPA routing
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Static files caching
    location ~* \.(?:js|css|png|jpg|jpeg|gif|svg|ico|woff2?|ttf)$ {
        try_files $uri =404;
        access_log off;
        add_header Cache-Control "public, max-age=31536000, immutable";
    }
}
```

#### 2.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nginx -t
# ‚úÖ nginx: configuration file test is successful

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
ss -tlnp | grep -E '(:80|:443)'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
LISTEN 0.0.0.0:443  nginx  ‚úÖ –ü–æ—Ä—Ç 443 –æ—Ç–∫—Ä—ã—Ç!
LISTEN 0.0.0.0:80   nginx  ‚úÖ –ü–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç!
```

---

### –≠–¢–ê–ü 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

#### 3.1 Git pull —Å GitHub

```bash
cd /var/www/onai-integrator-login

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ .env
git stash

# –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
git pull origin main
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Updating 22c8e64..c0bc9fd
Fast-forward
68 files changed, 14700 insertions(+), 370 deletions(-)
create mode 100644 dist/assets/index-mBC9421I.js  ‚úÖ –ù–û–í–´–ô –§–ê–ô–õ!
create mode 100644 dist/assets/index-DbJCms3L.css
create mode 100644 dist/index.html
...
```

#### 3.2 –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ .env –∏ –æ—á–∏—Å—Ç–∫–∞

```bash
# –í–æ–∑–≤—Ä–∞—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ .env
git stash pop
git checkout --ours .env
git add .env

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
rm -f dist/assets/index-DPqPWVg7.js
rm -f dist/assets/index-CW6Di1Ci.css
```

#### 3.3 –í—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

```bash
# –ü—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã
chown -R www-data:www-data dist/
chmod -R 755 dist/

# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ Nginx
rm -rf /var/cache/nginx/*

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
systemctl restart nginx
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS

```bash
curl -I https://onai.academy/
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
HTTP/2 200 ‚úÖ
server: nginx/1.24.0 (Ubuntu)
last-modified: Wed, 05 Nov 2025 20:33:22 GMT ‚úÖ
content-length: 1553
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript —Ñ–∞–π–ª–∞

```bash
curl -I https://onai.academy/assets/index-mBC9421I.js
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
HTTP/2 200 ‚úÖ
content-type: application/javascript
content-length: 1164751  ‚úÖ 1.16MB (–Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä!)
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML

```bash
cat /var/www/onai-integrator-login/dist/index.html | grep "index-"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```html
<script type="module" src="/assets/index-mBC9421I.js"></script> ‚úÖ
<link rel="stylesheet" href="/assets/index-DbJCms3L.css"> ‚úÖ
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ

```bash
ls -lh /var/www/onai-integrator-login/dist/assets/
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
-rwxr-xr-x 1 www-data www-data 1.2M Nov 5 20:33 index-mBC9421I.js ‚úÖ
-rwxr-xr-x 1 www-data www-data  95K Nov 5 20:33 index-DbJCms3L.css ‚úÖ
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–º–∏—Ç–∞

```bash
cd /var/www/onai-integrator-login
git log --oneline -1
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
c0bc9fd üöÄ Rebuild dist/ with latest source code (Nov 6, 2025) ‚úÖ
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï: –î–û vs –ü–û–°–õ–ï

| –ü–∞—Ä–∞–º–µ—Ç—Ä | **–î–û (–ø—Ä–æ–±–ª–µ–º–∞)** | **–ü–û–°–õ–ï (—Ä–µ—à–µ–Ω–æ)** |
|----------|-------------------|---------------------|
| **HTTPS** | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (curl error 7) | ‚úÖ **HTTP/2 200** |
| **Nginx –ø–æ—Ä—Ç—ã** | ‚ùå –¢–æ–ª—å–∫–æ 80 | ‚úÖ **80 –∏ 443** |
| **SSL** | ‚ùå –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω | ‚úÖ **TLS 1.2/1.3** |
| **Last-Modified** | ‚ùå Tue, 04 Nov 19:32 | ‚úÖ **Wed, 05 Nov 20:33** |
| **Git –∫–æ–º–º–∏—Ç** | ‚ùå 22c8e64 (—Å—Ç–∞—Ä—ã–π) | ‚úÖ **c0bc9fd (–Ω–æ–≤—ã–π)** |
| **JavaScript** | ‚ùå index-DPqPWVg7.js (814KB) | ‚úÖ **index-mBC9421I.js (1.16MB)** |
| **CSS** | ‚ùå index-CW6Di1Ci.css (91KB) | ‚úÖ **index-DbJCms3L.css (96KB)** |
| **dist/ –≤ GitHub** | ‚ùå –ù–ï–¢ (–≤ .gitignore) | ‚úÖ **–ï–°–¢–¨** |
| **MOCK –¥–∞–Ω–Ω—ã–µ** | ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ | ‚úÖ **–ù–ï–¢** |

---

## üöÄ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø –í –ë–£–î–£–©–ï–ú

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è (—Ä—É—á–Ω–æ–π):

```bash
# 1. –õ–æ–∫–∞–ª—å–Ω–æ
npm run build
git add .
git commit -m "Update"
git push origin main

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@178.128.203.40
cd /var/www/onai-integrator-login
git pull origin main
chown -R www-data:www-data dist/
systemctl restart nginx
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è):

–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `deploy-auto.sh`:

```bash
#!/bin/bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Digital Ocean

echo "üöÄ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è..."

# 1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
echo "1Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞..."
npm run build || exit 1

# 2. –ö–æ–º–º–∏—Ç –∏ push
echo "2Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ GitHub..."
git add .
git commit -m "Auto deploy: $(date '+%Y-%m-%d %H:%M:%S')"
git push origin main || exit 1

# 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
echo "3Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ Digital Ocean..."
ssh root@178.128.203.40 << 'EOF'
cd /var/www/onai-integrator-login
git pull origin main
chown -R www-data:www-data dist/
chmod -R 755 dist/
rm -rf /var/cache/nginx/*
systemctl restart nginx
echo "‚úÖ Nginx –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω"
EOF

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
echo "4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞..."
sleep 2
curl -I https://onai.academy/ | grep "HTTP\|Last-Modified"

echo ""
echo "‚úÖ –î–ï–ü–õ–û–ô –ó–ê–í–ï–†–®–Å–ù!"
echo "üåê –°–∞–π—Ç: https://onai.academy/"
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
chmod +x deploy-auto.sh
./deploy-auto.sh
```

---

## üìù –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ü–û–í–¢–û–†–ï–ù–ò–Ø

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–µ–ø–ª–æ—è –≤—Ä—É—á–Ω—É—é:

```bash
# ===================================
# –õ–û–ö–ê–õ–¨–ù–û (–Ω–∞ —Ç–≤–æ–µ–π –º–∞—à–∏–Ω–µ)
# ===================================

cd "/Users/miso/Documents/MVP onAI Academy Platform/onai-integrator-login"

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ MOCK –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
grep -q "const topStudentsData = \[" src/pages/admin/Activity.tsx
if [ $? -eq 0 ]; then
    echo "‚ö†Ô∏è  MOCK –¥–∞–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω—ã! –£–¥–∞–ª–∏ –∏—Ö –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π"
    exit 1
fi

# 2. –û—á–∏—Å—Ç–∫–∞ –∏ —Å–±–æ—Ä–∫–∞
rm -rf dist/ .vite/
npm run build

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
if [ ! -f "dist/index.html" ]; then
    echo "‚ùå –°–±–æ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å!"
    exit 1
fi

# 4. –ö–æ–º–º–∏—Ç –∏ push
git add .
git commit -m "Deploy: $(date '+%Y-%m-%d %H:%M:%S')"
git push origin main

echo "‚úÖ –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω –≤ GitHub!"

# ===================================
# –ù–ê –°–ï–†–í–ï–†–ï DIGITAL OCEAN
# ===================================

ssh root@178.128.203.40 << 'ENDSSH'

cd /var/www/onai-integrator-login

echo "üì• –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π..."
git stash  # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π .env
git pull origin main

echo "‚ôªÔ∏è  –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ .env..."
git stash pop
git checkout --ours .env
git add .env

echo "üóëÔ∏è  –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤..."
find dist/assets/ -name "index-*.js" -o -name "index-*.css" | \
  grep -v "$(grep -oE 'index-[^"]+\.(js|css)' dist/index.html | tr '\n' '|' | sed 's/|$//')" | \
  xargs rm -f

echo "üîí –í—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤..."
chown -R www-data:www-data dist/
chmod -R 755 dist/

echo "üóëÔ∏è  –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞..."
rm -rf /var/cache/nginx/*

echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx..."
systemctl restart nginx

echo ""
echo "‚úÖ –î–ï–ü–õ–û–ô –ó–ê–í–ï–†–®–Å–ù!"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞
echo "üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:"
curl -I http://localhost/ | head -5
echo ""
ls -lh dist/assets/*.js | tail -1
echo ""
git log --oneline -1

ENDSSH

# ===================================
# –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê
# ===================================

echo ""
echo "üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–∞:"
curl -I https://onai.academy/ | grep -E "(HTTP|Last-Modified)"

echo ""
echo "‚úÖ –í–°–Å –ì–û–¢–û–í–û!"
echo "üîó –°–∞–π—Ç: https://onai.academy/"
```

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ï –ö–û–ú–ê–ù–î–´

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∞–π—Ç–∞:

```bash
# HTTPS —Å—Ç–∞—Ç—É—Å
curl -I https://onai.academy/

# Last-Modified
curl -I https://onai.academy/ | grep Last-Modified

# –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript
curl -I https://onai.academy/assets/index-mBC9421I.js

# –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
curl -s https://onai.academy/ | grep -oE 'index-[^"]+\.(js|css)'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh root@178.128.203.40

# –¢–µ–∫—É—â–∏–π –∫–æ–º–º–∏—Ç
cd /var/www/onai-integrator-login
git log --oneline -1

# –§–∞–π–ª—ã dist/
ls -lh dist/index.html
ls -lh dist/assets/

# –°—Ç–∞—Ç—É—Å Nginx
systemctl status nginx
ss -tlnp | grep -E '(:80|:443)'

# Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
cat /etc/nginx/sites-enabled/onai-integrator-login.conf

# –õ–æ–≥–∏ Nginx (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã)
tail -50 /var/log/nginx/error.log
tail -50 /var/log/nginx/access.log
```

---

## üÜò –ß–ê–°–¢–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Failed to connect to onai.academy port 443"

**–ü—Ä–∏—á–∏–Ω–∞:** Nginx –Ω–µ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 443 (HTTPS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –µ—Å—Ç—å "listen 443 ssl"
cat /etc/nginx/sites-enabled/onai-integrator-login.conf | grep "443 ssl"

# –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å SSL –±–ª–æ–∫ (—Å–º. –≠–¢–ê–ü 2.2 –≤—ã—à–µ)
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Nginx
systemctl restart nginx
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Git pull –≤—ã–¥–∞—ë—Ç –æ—à–∏–±–∫—É "local changes"

**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–∫–∞–ª—å–Ω—ã–π `.env` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–µ—Ä—Å–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash

# –ü–æ–¥—Ç—è–Ω—É—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull origin main

# –í–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π .env
git stash pop
git checkout --ours .env
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°—Ç–∞—Ä—ã–µ JS —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ dist/

**–ü—Ä–∏—á–∏–Ω–∞:** Git pull –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã, –Ω–æ –Ω–µ —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π—Ç–∏ –∫–∞–∫–æ–π —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ HTML
grep -oE 'index-[^"]+\.js' dist/index.html

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ JS —Ñ–∞–π–ª—ã –∫—Ä–æ–º–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ
cd dist/assets/
ls index-*.js | grep -v "$(grep -oE 'index-[^"]+\.js' ../index.html | xargs basename)" | xargs rm -f
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: 404 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–ü—Ä–∏—á–∏–Ω–∞:** SPA —Ä–æ—É—Ç–∏–Ω–≥ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Nginx

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
cat /etc/nginx/sites-enabled/onai-integrator-login.conf | grep "try_files"

# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞:
# try_files $uri $uri/ /index.html;

# –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å –≤ location /
nginx -t && systemctl restart nginx
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: MOCK –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –í `src/` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç MOCK –∫–æ–¥

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
grep -n "const topStudentsData" src/pages/admin/Activity.tsx

# –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ - —É–¥–∞–ª–∏—Ç—å MOCK –±–ª–æ–∫ –∏–∑ –∫–æ–¥–∞
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –∑–∞–Ω–æ–≤–æ
```

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´

### –§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

- `REBUILD_DIST_SUCCESS.md` - –æ—Ç—á—ë—Ç –æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `GITHUB_PUSH_SUCCESS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é —Å GitHub
- `README.md` - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `DEPLOY_NOW.md` - –±—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é

### –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

- `rebuild_dist.sh` - –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ dist/ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `manual-deploy.sh` - —Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
- `server-deploy.sh` - –¥–µ–ø–ª–æ–π —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- `update-server.sh` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

---

## ‚úÖ –ò–¢–û–ì

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **–£–¥–∞–ª—ë–Ω `dist` –∏–∑ `.gitignore`** - —Ç–µ–ø–µ—Ä—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è Git
2. ‚úÖ **–ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω `dist/` –ª–æ–∫–∞–ª—å–Ω–æ** - –Ω–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º
3. ‚úÖ **–ó–∞–ø—É—à–µ–Ω–æ –≤ GitHub** - –∫–æ–º–º–∏—Ç `c0bc9fd`
4. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω SSL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** - –¥–æ–±–∞–≤–ª–µ–Ω HTTPS –±–ª–æ–∫ –≤ Nginx
5. ‚úÖ **–ü–æ–¥—Ç—è–Ω—É—Ç –∫–æ–¥ –Ω–∞ Digital Ocean** - `git pull origin main`
6. ‚úÖ **–ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω Nginx** - –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç:

- üåê **–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:** https://onai.academy/
- ‚úÖ **HTTPS –≤–∫–ª—é—á—ë–Ω:** HTTP/2 200
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞:** –∫–æ–º–º–∏—Ç `c0bc9fd`
- ‚úÖ **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:** `index-mBC9421I.js` (1.16MB)
- ‚úÖ **MOCK –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç**

### –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è —Ç–µ–ø–µ—Ä—å:

```
–õ–æ–∫–∞–ª—å–Ω–æ ‚Üí GitHub ‚Üí Digital Ocean ‚Üí –°–∞–π—Ç –æ–±–Ω–æ–≤–ª—ë–Ω
(2 –º–∏–Ω)   (10 —Å–µ–∫)   (30 —Å–µ–∫)      (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
```

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 6 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant (Cursor)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

