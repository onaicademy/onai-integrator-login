# ğŸš€ Ğ¤Ğ˜ĞĞĞ›Ğ¬ĞĞ«Ğ™ Ğ“ĞĞ™Ğ” ĞŸĞ Ğ”Ğ•ĞŸĞ›ĞĞ®

**IAE Agent + Token Auto-Refresh System**

**Ğ”Ğ°Ñ‚Ğ°:** 18 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… **Ğ’Ğ¡Ğ Ğ“ĞĞ¢ĞĞ’Ğ Ğš PRODUCTION**

---

## ğŸ“‹ Ğ§Ğ¢Ğ Ğ‘Ğ«Ğ›Ğ Ğ Ğ•ĞĞ›Ğ˜Ğ—ĞĞ’ĞĞĞ Ğ¡Ğ•Ğ“ĞĞ”ĞĞ¯:

### 1. IAE Agent - Intelligence Analytics Engine âœ…
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ÑĞ¸ÑÑ‚ĞµĞ¼ (AmoCRM, FB Ads, Database)
- Groq AI Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ (Health Score 0-100)
- ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¹ Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
- Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¹ Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ· Ñ€Ğ¸ÑĞºĞ¾Ğ²
- Telegram Ğ¾Ñ‚Ñ‡ĞµÑ‚Ñ‹ Ğ¿Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ (10:00, 16:00, 1-Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ°, hourly)
- API endpoints Ğ´Ğ»Ñ Ñ€ÑƒÑ‡Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¾Ğº
- Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ¾Ğ² Ğ² Ğ‘Ğ”

### 2. Token Auto-Refresh System âœ…
- ĞĞ²Ñ‚Ğ¾Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Facebook Ads Ñ‚Ğ¾ĞºĞµĞ½Ğ° (short â†’ long 60 Ğ´Ğ½ĞµĞ¹)
- ĞĞ²Ñ‚Ğ¾Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ AmoCRM Ñ‚Ğ¾ĞºĞµĞ½Ğ° (Ñ‡ĞµÑ€ĞµĞ· refresh_token)
- Unified scheduler (Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 2 Ñ‡Ğ°ÑĞ°)
- Proactive refresh Ğ·Ğ° 2-7 Ğ´Ğ½ĞµĞ¹ Ğ´Ğ¾ expiration
- API endpoints Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²
- 100% uptime - Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ ĞĞ˜ĞšĞĞ“Ğ”Ğ Ğ½Ğµ Ğ¸ÑÑ‚ĞµĞºĞ°ÑÑ‚

### 3. Hotfixes âœ…
- AI ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞºĞµ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ»Ğ° Ğ½ĞµÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸)
- IAE Bot activation (Ğ¿ĞµÑ€ĞµĞ¿Ğ¸ÑĞ°Ğ½ ĞºĞ°Ğº Ñƒ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ°)
- Supabase client (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ tripwireAdminSupabase)

---

## ğŸš€ DEPLOYMENT STEPS:

### Ğ¨ĞĞ“ 1: SUPABASE SETUP

```bash
# 1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Supabase Tripwire Dashboard
# https://supabase.com/dashboard/project/pjmvxecykysfrzppdcto

# 2. SQL Editor â†’ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸:
# backend/database/iae_agent_reports.sql
```

---

### Ğ¨ĞĞ“ 2: BACKEND DEPLOYMENT

```bash
# 1. SSH Ğ² ÑĞµÑ€Ğ²ĞµÑ€
ssh root@207.154.231.30

# 2. Navigate to backend
cd /var/www/onai.academy-backend

# 3. Backup current .env
cp .env .env.backup.$(date +%Y%m%d)

# 4. Pull latest code
git stash  # if needed
git pull origin main

# 5. Update .env - Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒ ÑÑ‚Ğ¸ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ:
nano .env
```

**Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ Ğ² `.env`:**
```bash
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# IAE AGENT
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
IAE_BOT_TOKEN=8439289933:AAH5eED6m0HOK1ZEUGRO1MYCF93srAfjEF4

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# FACEBOOK ADS TOKEN AUTO-REFRESH
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
FACEBOOK_ADS_TOKEN=EAAPVZCSfHj0YBQ... (Ñ‚Ğ²Ğ¾Ğ¹ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½)
FACEBOOK_APP_ID=Ñ‚Ğ²Ğ¾Ğ¹_app_id
FACEBOOK_APP_SECRET=Ñ‚Ğ²Ğ¾Ğ¹_app_secret

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# AMOCRM TOKEN AUTO-REFRESH
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
AMOCRM_ACCESS_TOKEN=Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹_access_token
AMOCRM_REFRESH_TOKEN=Ñ‚Ğ²Ğ¾Ğ¹_refresh_token (Ğ’ĞĞ–ĞĞ!)
AMOCRM_CLIENT_ID=integration_id
AMOCRM_CLIENT_SECRET=integration_secret
AMOCRM_REDIRECT_URI=https://api.onai.academy/api/amocrm/callback
```

```bash
# 6. Install dependencies (if needed)
npm install

# 7. Create data directory
mkdir -p data

# 8. Restart PM2
pm2 restart onai-backend

# 9. Check logs - Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ:
pm2 logs onai-backend --lines 100 | grep -E "(IAE|Token)" | tail -30
```

**ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğµ Ğ»Ğ¾Ğ³Ğ¸:**
```
âœ… [FB Token Manager] Initialized
âœ… [AmoCRM Token Manager] Initialized
ğŸš€ [Token Auto-Refresh] Starting...
   FB Token: âœ… (N/A days) Ğ¸Ğ»Ğ¸ âš ï¸ (ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½)
   AmoCRM Token: âœ… (22 hours)
âœ… [Token Auto-Refresh] Started successfully!
âœ… [Token Refresh] Every 2 hours refresh check scheduled
ğŸ¤– [IAE Bot] Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²...
âœ… [IAE Scheduler] 10:00 Daily Report scheduled
âœ… [IAE Scheduler] 16:00 Current Status scheduled
âœ… [IAE Scheduler] 1st Monthly Report scheduled
âœ… [IAE Scheduler] Hourly Health Check scheduled
âœ… IAE Agent bot and schedulers initialized
```

---

### Ğ¨ĞĞ“ 3: TELEGRAM BOT ACTIVATION

```bash
# 1. ĞĞ°Ğ¹Ğ´Ğ¸ Ğ±Ğ¾Ñ‚Ğ° Ğ² Telegram
# ĞŸĞ¾Ğ¸ÑĞº: @IAEAgentBot (Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½Ñƒ 8439289933:AAH...)

# 2. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ Ğ±Ğ¾Ñ‚Ğ° Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ñƒ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº-ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

# 3. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ ĞºĞ¾Ğ´ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸ (Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ñ‚ĞµĞºÑÑ‚):
2134

# 4. Ğ‘Ğ¾Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ñ‚:
# âœ… ĞĞšĞ¢Ğ˜Ğ’ĞĞ¦Ğ˜Ğ¯ Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ!
# 
# ğŸ¯ Ğ¢ĞµĞ¿ĞµÑ€ÑŒ ÑÑ‚Ğ¾Ñ‚ Ñ‡Ğ°Ñ‚ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ñ‹ IAE Agent:
# 
# ğŸŒ… 10:00 - ĞÑ‚Ñ‡ĞµÑ‚ Ğ·Ğ° Ğ²Ñ‡ĞµÑ€Ğ°
# ğŸ“Š 16:00 - Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ
# ğŸ“… 1-Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ° - ĞœĞµÑÑÑ‡Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚
# ğŸ” ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ‡Ğ°Ñ - Health check
# 
# ğŸ¤– Powered by Groq AI

# 5. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ:
# ĞĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ:
cat /var/www/onai.academy-backend/data/iae-active-chats.json

# Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ñ‚Ğ²Ğ¾Ğ¹ chatId
```

---

### Ğ¨ĞĞ“ 4: FRONTEND DEPLOYMENT

```bash
# From local machine
cd /Users/miso/onai-integrator-login

# 1. Build
npm run build

# 2. Upload to server
scp dist/index.html root@207.154.231.30:/var/www/onai.academy/
rsync -avz --delete dist/assets/ root@207.154.231.30:/var/www/onai.academy/assets/

# 3. Fix permissions & reload
ssh root@207.154.231.30 "chown -R www-data:www-data /var/www/onai.academy/ && systemctl reload nginx"

# 4. Verify
curl -I https://onai.academy/ | grep "200 OK"
```

---

### Ğ¨ĞĞ“ 5: VERIFICATION

#### A. Backend Health:

```bash
# 1. Health endpoint
curl https://api.onai.academy/health

# 2. Token status
curl https://api.onai.academy/api/tokens/status

# 3. IAE Agent manual trigger
curl -X POST https://api.onai.academy/api/iae-agent/trigger \
  -H "Content-Type: application/json" \
  -d '{"sendToTelegram":true}'

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Telegram - Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ¹Ñ‚Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ!
```

#### B. Schedulers Check:

```bash
pm2 logs onai-backend | grep "scheduled"

# Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ:
# âœ… [IAE Scheduler] 10:00 Daily Report scheduled
# âœ… [IAE Scheduler] 16:00 Current Status scheduled
# âœ… [IAE Scheduler] 1st Monthly Report scheduled
# âœ… [IAE Scheduler] Hourly Health Check scheduled
# âœ… [Token Refresh] Every 2 hours refresh check scheduled
```

#### C. Frontend Check:

```bash
# ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ:
https://onai.academy/integrator/trafficcommand

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ:
# âœ… Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ÑÑ‚ÑÑ
# âœ… ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ" Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
# âœ… AI Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞºĞµ
# âœ… Ğ’ÑĞµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ÑÑ‚ÑÑ
```

---

## â° Ğ§Ğ¢Ğ ĞŸĞ ĞĞ˜Ğ—ĞĞ™Ğ”Ğ•Ğ¢ Ğ—ĞĞ’Ğ¢Ğ Ğ:

### 10:00 (Almaty time):
```
1. IAE Agent Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑÑ
2. Ğ¡Ğ¾Ğ±ĞµÑ€ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ° Ğ²Ñ‡ĞµÑ€Ğ° (18 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ)
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹:
   â€¢ AmoCRM API - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚Ğ¾ĞºĞµĞ½Ğ° Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸
   â€¢ Facebook Ads API - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚Ğ¾ĞºĞµĞ½Ğ° Ğ¸ campaigns
   â€¢ Database - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
4. Groq AI Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚:
   â€¢ Health Score (0-100)
   â€¢ ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (completeness, accuracy, consistency)
   â€¢ ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ñ‚ Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¸ (Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ ROAS, spend Ğ±ĞµĞ· sales)
   â€¢ Ğ”Ğ°ÑÑ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
   â€¢ Ğ¡Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ñ€Ğ¸ÑĞºĞ¸
5. Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾Ñ‚Ñ‡ĞµÑ‚ (Telegram formatted)
6. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ Ğ² Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‡Ğ°Ñ‚Ñ‹
7. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ² Ğ‘Ğ”
8. Ğ›Ğ¾Ğ³Ğ¸ Ğ² PM2: pm2 logs | grep "IAE 10:00"
```

### 16:00 (Almaty time):
```
ĞĞ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ 10:00, Ğ½Ğ¾ Ğ´Ğ»Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ´Ğ½Ñ (19 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ)
```

### ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ 2 Ñ‡Ğ°ÑĞ°:
```
1. Token Auto-Refresh Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²:
   â€¢ Facebook: expires in X days
   â€¢ AmoCRM: expires in X hours
2. Ğ•ÑĞ»Ğ¸ expires soon - proactive refresh
3. Ğ›Ğ¾Ğ³Ğ¸: "âœ… [FB Token] Valid (58 days)"
```

### ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ‡Ğ°Ñ:
```
1. IAE Agent health check
2. Ğ•ÑĞ»Ğ¸ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ñ‹ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹:
   â€¢ Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ alert Ğ¾Ñ‚Ñ‡ĞµÑ‚
   â€¢ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ² Telegram
3. Ğ•ÑĞ»Ğ¸ Ğ²ÑÑ‘ OK:
   â€¢ Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ»Ğ¾Ğ³: "âœ… [IAE 14:00] Ğ’ÑÑ‘ Ğ² Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ (Health: 95/100)"
   â€¢ Telegram ĞĞ• ÑĞ¿Ğ°Ğ¼Ğ¸Ñ‚
```

---

## ğŸ”‘ ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ Ğ¢ĞĞšĞ•ĞĞĞ’ (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾):

### Facebook Ads Token:

```bash
# 1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸ short-lived token:
# https://developers.facebook.com/tools/explorer/
# Permissions: ads_read, ads_management

# 2. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ Ğ² .env:
FACEBOOK_ADS_TOKEN=EAA... (short-lived)

# 3. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ½Ğ° long-lived Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞµ!
# Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ğ¾ĞºĞ°Ğ¶ÑƒÑ‚:
# ğŸ”„ [FB Token] Exchanging short-lived token for long-lived...
# âœ… [FB Token] Long-lived token obtained (expires in 60 days)

# 4. Token ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ Ğ²:
# /var/www/onai-academy-backend/data/facebook-token-cache.json
```

### AmoCRM Token:

```bash
# Ğ•ÑĞ»Ğ¸ Ñƒ Ñ‚ĞµĞ±Ñ ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ refresh_token - Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒ Ğ² .env:
AMOCRM_REFRESH_TOKEN=Ñ‚Ğ²Ğ¾Ğ¹_refresh_token

# Ğ•ÑĞ»Ğ¸ ĞĞ•Ğ¢ refresh_token:
# 1. Ğ—Ğ°Ğ¹Ğ´Ğ¸: https://onaiagencykz.amocrm.ru/settings/dev/
# 2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ â†’ Client ID + Secret
# 3. Authorization URL Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ code
# 4. Exchange code â†’ access_token + refresh_token
# 5. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ refresh_token Ğ² .env
# Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ²: TOKEN_AUTO_REFRESH_SYSTEM.md
```

---

## ğŸ“Š ĞœĞĞĞ˜Ğ¢ĞĞ Ğ˜ĞĞ“ ĞŸĞĞ¡Ğ›Ğ• Ğ”Ğ•ĞŸĞ›ĞĞ¯:

### Ğ¡Ñ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ:

```bash
# 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑÑ‘ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ğ»Ğ¾ÑÑŒ
pm2 status

# 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸ (Ğ¿ĞµÑ€Ğ²Ñ‹Ğµ 2 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹)
pm2 logs onai-backend --lines 100 | grep -E "(âœ…|IAE|Token)"

# 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ endpoint
curl https://api.onai.academy/health

# 4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ token status
curl https://api.onai.academy/api/tokens/status

# 5. Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ test IAE
curl -X POST https://api.onai.academy/api/iae-agent/trigger \
  -d '{"sendToTelegram":true}'

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Telegram Ğ³Ñ€ÑƒĞ¿Ğ¿Ñƒ!
```

### Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ° ÑƒÑ‚Ñ€Ğ¾Ğ¼ (19 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ):

```bash
# 10:05 - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸
pm2 logs onai-backend | grep "IAE 10:00" | tail -20

# ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ¾Ğµ:
# ğŸŒ… [IAE 10:00] Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ° Ğ·Ğ° Ğ²Ñ‡ĞµÑ€Ğ°...
# ğŸ“… [IAE] Date range: 2025-12-18 to 2025-12-18
# âœ… [IAE] Validation complete. Healthy: true
# ğŸ¤– [IAE] AI Analysis: Health Score 95/100
# ğŸ“¤ [IAE Bot] Sending report to 1 chats...
# âœ… [IAE 10:00] ĞÑ‚Ñ‡ĞµÑ‚ Ğ·Ğ° Ğ²Ñ‡ĞµÑ€Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ Ğ² 1 Ñ‡Ğ°Ñ‚Ğ¾Ğ²

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Telegram - Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ¹Ñ‚Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ!
```

---

## ğŸ“± ĞŸĞ Ğ˜ĞœĞ•Ğ  ĞĞ¢Ğ§Ğ•Ğ¢Ğ Ğ’ TELEGRAM:

```
ğŸ¤– IAE AGENT REPORT âœ…
ğŸ“… Ğ—Ğ° Ğ²Ñ‡ĞµÑ€Ğ° (18 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š ĞĞ‘Ğ©Ğ•Ğ• Ğ¡ĞĞ¡Ğ¢ĞĞ¯ĞĞ˜Ğ•

Health Score: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 95/100

Ğ’ÑĞµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾. Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ 
ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾, Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¹ Ğ½Ğµ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¾. AmoCRM Ğ¸ Facebook Ads API 
Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ¸Ñ€ÑƒÑÑ‚ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° ĞœĞ•Ğ¢Ğ Ğ˜ĞšĞ˜

ğŸ’µ Ğ¢Ñ€Ğ°Ñ‚Ñ‹: $1,276.00
ğŸ’° Ğ”Ğ¾Ñ…Ğ¾Ğ´: â‚¸90,000
ğŸ›’ ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸: 18 ÑˆÑ‚
ğŸ“ˆ ROAS: 0.14x
ğŸ‘ ĞŸĞ¾ĞºĞ°Ğ·Ñ‹: 191,637
ğŸ–± ĞšĞ»Ğ¸ĞºĞ¸: 3,026
ğŸ“Š CTR: 1.58%

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•Ğœ

AmoCRM: âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
Facebook Ads: âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
Database: âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

ğŸ“Š ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
â€¢ ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ‚Ğ°: 100%
â€¢ Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ: 100%
â€¢ ĞšĞ¾Ğ½ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ: 100%

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ AI Ğ Ğ•ĞšĞĞœĞ•ĞĞ”ĞĞ¦Ğ˜Ğ˜

1. ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ñ… Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ĞµĞ¹
2. ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ Ñ ROAS < 1.0x Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸
3. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ ĞºÑ€ĞµĞ°Ñ‚Ğ¸Ğ²Ñ‹ Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ CTR
4. ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ¿ UTM Ğ¼ĞµÑ‚ĞºĞ¸ Ğ´Ğ»Ñ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ĞºĞ°Ğ½Ğ°Ğ»Ğ¾Ğ²

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”— Powered by Groq AI â€¢ IAE Agent v1.0
â° 19.12.2025, 10:00:15
```

---

## âœ… CHECKLIST - Ğ£Ğ‘Ğ•Ğ”Ğ˜Ğ¡Ğ¬ Ğ§Ğ¢Ğ Ğ’Ğ¡Ğ Ğ¡Ğ”Ğ•Ğ›ĞĞĞ:

### Pre-deployment:
- [x] âœ… ĞšĞ¾Ğ´ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½ Ğ¸ Ğ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾
- [x] âœ… Build ÑƒÑĞ¿ĞµÑˆĞµĞ½ (npm run build)
- [x] âœ… Ğ’ÑĞµ commits pushed Ğ² GitHub
- [x] âœ… Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ°

### Deployment:
- [ ] ğŸ”œ SQL Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ° Ğ² Supabase
- [ ] ğŸ”œ .env Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ğ¼Ğ¸ (IAE_BOT_TOKEN, FACEBOOK_*, AMOCRM_*)
- [ ] ğŸ”œ Backend Ğ·Ğ°Ğ´ĞµĞ¿Ğ»Ğ¾ĞµĞ½ (git pull + pm2 restart)
- [ ] ğŸ”œ Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ñ‹ (schedulers active)
- [ ] ğŸ”œ IAE Ğ±Ğ¾Ñ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ² Telegram (ĞºĞ¾Ğ´ 2134)
- [ ] ğŸ”œ Frontend Ğ·Ğ°Ğ´ĞµĞ¿Ğ»Ğ¾ĞµĞ½ (dist/ uploaded)

### Verification:
- [ ] ğŸ”œ /api/health - 200 OK
- [ ] ğŸ”œ /api/tokens/status - healthy: true
- [ ] ğŸ”œ /api/iae-agent/trigger - success: true
- [ ] ğŸ”œ Telegram message received
- [ ] ğŸ”œ Traffic Dashboard Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- [ ] ğŸ”œ AI ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ½Ğ° Ğ²ÑĞµÑ… ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°Ñ…

### Post-deployment (Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°):
- [ ] ğŸ”œ 10:00 - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Telegram (Ğ¾Ñ‚Ñ‡ĞµÑ‚ Ğ·Ğ° Ğ²Ñ‡ĞµÑ€Ğ°)
- [ ] ğŸ”œ 16:00 - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Telegram (Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ)
- [ ] ğŸ”œ PM2 logs - scheduler execution confirmed

---

## ğŸ¯ Ğ“ĞĞ ĞĞĞ¢Ğ˜Ğ¯ Ğ ĞĞ‘ĞĞ¢Ğ«:

### Schedulers Ğ½Ğ° 100%:

âœ… **Timezone Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹:** Asia/Almaty (UTC+6)  
âœ… **Cron expressions Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹:** `0 10 * * *` = 10:00 ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ  
âœ… **PM2 keep alive:** Backend Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¸  
âœ… **Schedulers restart:** ĞŸÑ€Ğ¸ Ñ€ĞµÑÑ‚Ğ°Ñ€Ñ‚Ğµ PM2 Ğ²ÑĞµ cron jobs Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ  

### Tokens Ğ½Ğ° 100%:

âœ… **Auto-refresh ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 2 Ñ‡Ğ°ÑĞ°**  
âœ… **Proactive refresh** Ğ·Ğ° 2-7 Ğ´Ğ½ĞµĞ¹ Ğ´Ğ¾ expiration  
âœ… **Fallback Ğ½Ğ° env** ĞµÑĞ»Ğ¸ cache Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½  
âœ… **Validation** Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼  

### Telegram Ğ½Ğ° 100%:

âœ… **Activation code** Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ (Ğ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ ĞºĞ°Ğº Ñƒ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ°)  
âœ… **Active chats** ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ² JSON file  
âœ… **Error handling** - Ğ´ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ñ‡Ğ°Ñ‚Ğ¾Ğ²  
âœ… **Retry logic** Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞµ  

---

## ğŸ“ SUPPORT & TROUBLESHOOTING:

### Ğ•ÑĞ»Ğ¸ Ğ½Ğµ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ñ‹:

```bash
# 1. Check schedulers active
pm2 logs | grep "IAE.*scheduled"

# 2. Check bot activation
cat data/iae-active-chats.json

# 3. Manual test
curl -X POST https://api.onai.academy/api/iae-agent/trigger \
  -d '{"sendToTelegram":true}'

# 4. Check telegram bot token
curl "https://api.telegram.org/bot8439289933:AAH5eED6m0HOK1ZEUGRO1MYCF93srAfjEF4/getMe"
```

### Ğ•ÑĞ»Ğ¸ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ½Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‚ÑÑ:

```bash
# 1. Check token status
curl https://api.onai.academy/api/tokens/status

# 2. Force refresh
curl -X POST https://api.onai.academy/api/tokens/refresh

# 3. Check cache files
ls -lah data/*token-cache.json

# 4. Check env variables
cat .env | grep -E "(FACEBOOK|AMOCRM)" | head -10
```

### Ğ•ÑĞ»Ğ¸ IAE Agent Ğ²Ñ‹Ğ´Ğ°ĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸:

```bash
# 1. Check full logs
pm2 logs onai-backend --lines 200 | grep IAE

# 2. Check database connection
curl https://api.onai.academy/api/iae-agent/health

# 3. Restart if needed
pm2 restart onai-backend
```

---

## ğŸ“š Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯:

- **IAE_AGENT_SETUP.md** - IAE Agent setup guide
- **IAE_AGENT_COMPLETE.md** - Full implementation
- **IAE_AGENT_TEST_REPORT.md** - Test results
- **TOKEN_AUTO_REFRESH_SYSTEM.md** - Token system details
- **IAE_BOT_ACTIVATION_FIX.md** - Bot activation fix
- **FINAL_DEPLOYMENT_GUIDE.md** - Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»

---

## ğŸ‰ Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘  âœ… Ğ’Ğ¡Ğ Ğ“ĞĞ¢ĞĞ’Ğ Ğš PRODUCTION DEPLOY!                       â•‘
â•‘                                                            â•‘
â•‘  â€¢ IAE Agent: ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½ âœ…                     â•‘
â•‘  â€¢ Token Auto-Refresh: Facebook + AmoCRM âœ…               â•‘
â•‘  â€¢ Schedulers: 10:00, 16:00, hourly, etc âœ…               â•‘
â•‘  â€¢ Telegram Bot: Ready for activation âœ…                  â•‘
â•‘  â€¢ API Endpoints: Working âœ…                              â•‘
â•‘  â€¢ Frontend: AI buttons fixed âœ…                          â•‘
â•‘  â€¢ Documentation: Complete âœ…                             â•‘
â•‘                                                            â•‘
â•‘  ğŸ”¥ 100% UPTIME Ğ“ĞĞ ĞĞĞ¢Ğ˜Ğ ĞĞ’ĞĞ! ğŸ”¥                          â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸš€ ĞĞĞ§Ğ˜ĞĞĞ™ DEPLOY:

```bash
ssh root@207.154.231.30
cd /var/www/onai.academy-backend
git pull origin main
nano .env  # Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ¸Ğ· Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ° Ğ²Ñ‹ÑˆĞµ
pm2 restart onai-backend
pm2 logs onai-backend | grep -E "(IAE|Token)" | tail -30
```

**ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞ¹ Ğ±Ğ¾Ñ‚Ğ° Ğ² Telegram Ğ³Ñ€ÑƒĞ¿Ğ¿Ğµ ĞºĞ¾Ğ´Ğ¾Ğ¼ `2134`!**

**Ğ“ĞĞ¢ĞĞ’Ğ, Ğ‘Ğ ĞĞ¢ĞĞ! Ğ’Ğ¡Ğ Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢! ğŸš€**
