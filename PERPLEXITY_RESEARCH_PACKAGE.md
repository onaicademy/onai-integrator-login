# üì¶ –ü–ê–ö–ï–¢ –î–û–ö–£–ú–ï–ù–¢–û–í –î–õ–Ø PERPLEXITY AI

## üéØ –¶–µ–ª—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

–ù–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å PostgREST schema cache –≤ Supabase, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–π RPC —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∏—Ö —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üìÅ –§–ê–ô–õ–´ –í –≠–¢–û–ú –ü–ê–ö–ï–¢–ï

### 1Ô∏è‚É£ `PERPLEXITY_QUERY.md` (–î–ï–¢–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢)
**–†–∞–∑–º–µ—Ä:** ~8 KB  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ —Ä–µ—à–µ–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ (SQL, TypeScript)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- –°–ø–∏—Å–æ–∫ –≥–∏–ø–æ—Ç–µ–∑ –æ –ø—Ä–∏—á–∏–Ω–∞—Ö
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∫ Perplexity

**üìç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:** –ì–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø–æ–ª—É—á–µ–Ω–∏—è comprehensive —Ä–µ—à–µ–Ω–∏—è

---

### 2Ô∏è‚É£ `PERPLEXITY_SHORT_QUERY.txt` (–ö–†–ê–¢–ö–ò–ô –ó–ê–ü–†–û–°)
**–†–∞–∑–º–µ—Ä:** ~2 KB  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –°–∂–∞—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ö–ª—é—á–µ–≤—ã–µ —Å–∏–º–ø—Ç–æ–º—ã
- –ß—Ç–æ —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π reproducible example
- –°—Ä–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**üìç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:** –ë—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Perplexity –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è immediate —Ä–µ—à–µ–Ω–∏—è

---

### 3Ô∏è‚É£ `RPC_EXAMPLE_FOR_PERPLEXITY.sql` (SQL –ü–†–ò–ú–ï–†–´)
**–†–∞–∑–º–µ—Ä:** ~4 KB  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º–Ω–æ–π RPC —Ñ—É–Ω–∫—Ü–∏–∏
- SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Ç–æ–º —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —á—Ç–æ –Ω–µ—Ç
- –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ —á–µ—Ä–µ–∑ Supabase JS

**üìç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è executable –ø—Ä–∏–º–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

### 4Ô∏è‚É£ `backend/src/scripts/fix-rpc-parameters-order.sql` (–¢–ï–ö–£–©–ï–ï –†–ï–®–ï–ù–ò–ï)
**–†–∞–∑–º–µ—Ä:** ~10 KB  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –í—Å–µ 5 RPC —Ñ—É–Ω–∫—Ü–∏–π —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- GRANT statements
- NOTIFY –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è cache

**üìç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:** –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≥–æ —á—Ç–æ –º—ã —É–∂–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ best practices

---

## üîç –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –≠–¢–û–¢ –ü–ê–ö–ï–¢

### –í–∞—Ä–∏–∞–Ω—Ç A: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å
1. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `PERPLEXITY_SHORT_QUERY.txt`
2. –í—Å—Ç–∞–≤—å –≤ Perplexity AI
3. –î–æ–±–∞–≤—å: "Please provide step-by-step solution with code examples"

### –í–∞—Ä–∏–∞–Ω—Ç B: –î–µ—Ç–∞–ª—å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
1. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `PERPLEXITY_QUERY.md`
2. –í—Å—Ç–∞–≤—å –≤ Perplexity AI
3. –î–æ–±–∞–≤—å —Ñ–∞–π–ª `RPC_EXAMPLE_FOR_PERPLEXITY.sql` –∫–∞–∫ attachment (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
4. –ü–æ–ø—Ä–æ—Å–∏: "Please analyze this issue in detail and provide:
   - Root cause analysis
   - Step-by-step solution
   - Working code examples
   - Best practices for Supabase RPC functions"

### –í–∞—Ä–∏–∞–Ω—Ç C: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
1. –ù–∞—á–Ω–∏ —Å SHORT_QUERY –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
2. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, –∏—Å–ø–æ–ª—å–∑—É–π DETAILED QUERY
3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å SQL –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è clarification

---

## ‚ùì –ö–õ–Æ–ß–ï–í–´–ï –í–û–ü–†–û–°–´ –î–õ–Ø PERPLEXITY

1. **–ü–æ—á–µ–º—É PostgREST –Ω–µ –≤–∏–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏?**
   - –§—É–Ω–∫—Ü–∏–∏ —Ç–æ—á–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ pg_proc
   - NOTIFY pgrst, 'reload schema' –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

2. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –º—ã —Å–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏?**
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   - SECURITY DEFINER
   - GRANT EXECUTE –∫ –Ω—É–∂–Ω—ã–º —Ä–æ–ª—è–º

3. **–ï—Å—Ç—å –ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã?**
   - –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Views –≤–º–µ—Å—Ç–æ RPC?
   - –ú–æ–∂–µ—Ç –ø—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ PostgREST?
   - –ú–æ–∂–µ—Ç REST endpoints –≤–º–µ—Å—Ç–æ RPC?

4. **–≠—Ç–æ –±–∞–≥ Supabase?**
   - –ò–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞?
   - Workarounds?
   - –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç —Ñ–∏–∫—Å?

---

## üìä –ú–ï–¢–†–ò–ö–ò –ü–†–û–ë–õ–ï–ú–´

- **–í—Ä–µ–º—è –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ:** 3+ —á–∞—Å–∞
- **–ü–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è:** 5 —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
- **–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:** 5 –∏–∑ 5 (100%)
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ:** Production deployment
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢ –û–¢ PERPLEXITY

### –ú–∏–Ω–∏–º—É–º:
- ‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Working solution —Å –ø—Ä–∏–º–µ—Ä–æ–º –∫–æ–¥–∞
- ‚úÖ –®–∞–≥–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è

### –ò–¥–µ–∞–ª—å–Ω–æ:
- ‚úÖ Root cause analysis
- ‚úÖ Multiple solutions (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ Best practices –¥–ª—è Supabase RPC
- ‚úÖ How to prevent —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –≤ –±—É–¥—É—â–µ–º
- ‚úÖ Performance considerations
- ‚úÖ Security recommendations

---

## üìû –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –ö–û–ù–¢–ï–ö–°–¢

- **–ü—Ä–æ–µ–∫—Ç:** onAI Academy Sales Dashboard
- **–¢–∏–ø:** Production SaaS
- **Users affected:** Sales managers (3 —á–µ–ª–æ–≤–µ–∫–∞)
- **Impact:** –ù–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- **Deadline:** ASAP

---

## üöÄ –ü–û–°–õ–ï –ü–û–õ–£–ß–ï–ù–ò–Ø –†–ï–®–ï–ù–ò–Ø

1. [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
3. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ browser console
4. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ù–ï–¢ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
5. [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ dashboard
6. [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ
7. [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ memory –¥–ª—è –±—É–¥—É—â–µ–≥–æ

---

## üìé –°–°–´–õ–ö–ò –ù–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Æ

- Supabase RPC: https://supabase.com/docs/guides/database/functions
- PostgREST: https://postgrest.org/en/stable/references/api/functions.html
- PostgreSQL Functions: https://www.postgresql.org/docs/current/sql-createfunction.html

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-12-04  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** üî¥ –¢–†–ï–ë–£–ï–¢ –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ì–û –†–ï–®–ï–ù–ò–Ø

