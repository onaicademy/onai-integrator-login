# üìä –ü–∞–Ω–µ–ª—å –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü–∞–Ω–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —É—á–µ–Ω–∏–∫–æ–≤, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ AI-–∞–≥–µ–Ω—Ç–æ–≤ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã onAI Academy.

### ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **4 –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–∞** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∏–∑–∞–π–Ω–∞
- **Real-time –¥–∞–Ω–Ω—ã–µ** –∏–∑ Supabase (—Å fallback –Ω–∞ mock-–¥–∞–Ω–Ω—ã–µ)
- **AI-Powered –º–µ—Ç—Ä–∏–∫–∏** –æ—Ç AI-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –∏ AI-–∫—É—Ä–∞—Ç–æ—Ä–∞
- **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ù–æ–≤—ã–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. `StatCard.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–¥–∏–Ω–æ—á–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ —Å —Ç—Ä–µ–Ω–¥–æ–º.

**Props:**
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏
- `value` - –∑–Ω–∞—á–µ–Ω–∏–µ (—á–∏—Å–ª–æ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)
- `icon` - –∏–∫–æ–Ω–∫–∞ (LucideIcon)
- `tooltip` - –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- `trend` - –æ–±—ä–µ–∫—Ç —Å —Ç—Ä–µ–Ω–¥–æ–º (value, isPositive, label)
- `gradientFrom/To` - –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è —Ñ–æ–Ω–∞
- `iconColor` - —Ü–≤–µ—Ç –∏–∫–æ–Ω–∫–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```tsx
<StatCard
  title="–°–µ–≥–æ–¥–Ω—è –∞–∫—Ç–∏–≤–Ω—ã—Ö"
  value={42}
  icon={Users}
  tooltip="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å–µ–≥–æ–¥–Ω—è"
  trend={{ value: 15, isPositive: true, label: "–∫ –≤—á–µ—Ä–∞" }}
  gradientFrom="from-primary/10"
  gradientTo="to-primary/5"
  iconColor="text-primary"
/>
```

#### 2. `MetricCard.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫.

**Props:**
- `title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `icon` - –∏–∫–æ–Ω–∫–∞
- `items` - –º–∞—Å—Å–∏–≤ –º–µ—Ç—Ä–∏–∫ `{label, value, badge?, subtext?}`
- `iconColor` - —Ü–≤–µ—Ç –∏–∫–æ–Ω–∫–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```tsx
<MetricCard
  title="AI Diagnostician"
  description="–ú–µ—Ç—Ä–∏–∫–∏ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏"
  icon={Sparkles}
  iconColor="text-cyan-500"
  items={[
    { 
      label: "–û—Ü–µ–Ω–∫–∞ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏", 
      value: "78%",
      badge: { text: "–•–æ—Ä–æ—à–æ", variant: "default" }
    },
    { label: "–£—á–µ–Ω–∏–∫–æ–≤ –≤ —Ä–∏—Å–∫–µ", value: 12 }
  ]}
/>
```

#### 3. `ActivitySection.tsx`
–û–±—ë—Ä—Ç–∫–∞ –¥–ª—è —Å–µ–∫—Ü–∏–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∏–∫–æ–Ω–∫–æ–π.

**Props:**
- `title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `icon` - –∏–∫–æ–Ω–∫–∞
- `badge` - –±–µ–π–¥–∂ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "AI-Powered")
- `children` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–µ–∫—Ü–∏–∏

---

## üî¢ –ë–ª–æ–∫–∏ –ø–∞–Ω–µ–ª–∏

### –ë–ª–æ–∫ 1: –û–±—â–∞—è –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** `dashboard_stats`, `users`, `user_activity`

**–ú–µ—Ç—Ä–∏–∫–∏:**
- **–°–µ–≥–æ–¥–Ω—è –∞–∫—Ç–∏–≤–Ω—ã—Ö** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- **–°–æ–æ–±—â–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- **–≠—Ç–∞ –Ω–µ–¥–µ–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
- **–í —Ä–∏—Å–∫–µ –æ—Ç—Ç–æ–∫–∞** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ 7+ –¥–Ω–µ–π

**Supabase —Ç–∞–±–ª–∏—Ü—ã:**
```sql
-- dashboard_stats: –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
active_today, active_today_change, messages_today, 
messages_today_change, active_week, active_week_change, at_risk

-- users: –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
SELECT id, email, full_name, created_at, last_sign_in_at FROM users

-- user_activity: –ª–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
SELECT user_id, created_at FROM user_activity 
WHERE created_at > NOW() - INTERVAL '7 days'
```

### –ë–ª–æ–∫ 2: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –£—á–µ–Ω–∏–∫–æ–≤
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** `progress`, `achievements`, `user_achievements`

**–ú–µ—Ç—Ä–∏–∫–∏:**
- **–í—Å–µ–≥–æ XP –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ** ‚Äî —Å—É–º–º–∞ –æ–ø—ã—Ç–∞ –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤
- **–°—Ä–µ–¥–Ω–∏–π —Å—Ç—Ä–∏–∫** ‚Äî —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤
- **–ú–æ–¥—É–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- **–¢–æ–ø —É—á–µ–Ω–∏–∫–æ–≤** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤ —Å –≤—ã—Å—à–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏

**Supabase —Ç–∞–±–ª–∏—Ü—ã:**
```sql
-- progress: –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º
SELECT SUM(xp_earned) as total_xp, 
       COUNT(DISTINCT lesson_id) as completed_lessons
FROM progress WHERE is_completed = true

-- user_achievements: –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) as total_achievements FROM user_achievements

-- daily_activity: –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç—Ä–∏–∫–∞
SELECT user_id, date, minutes FROM daily_activity
ORDER BY user_id, date DESC
```

### –ë–ª–æ–∫ 3: AI-–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** `diagnostics_log`, `motivation_messages`

**AI Diagnostician –º–µ—Ç—Ä–∏–∫–∏:**
- **–û—Ü–µ–Ω–∫–∞ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏** ‚Äî –æ–±—â–∏–π engagement score (0-100)
- **–£—á–µ–Ω–∏–∫–æ–≤ –≤ —Ä–∏—Å–∫–µ** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤ —Å —Ñ–ª–∞–≥–æ–º `flag_low_engagement`
- **–ó–∞—Å—Ç—Ä—è–≤—à–∏—Ö —É—Ä–æ–∫–æ–≤** ‚Äî —É—Ä–æ–∫–∏ —Å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º –ø—Ä–æ—Å—Ç–æ–µ–º
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ AI** ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∏–Ω—è—Ç—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**AI Curator –º–µ—Ç—Ä–∏–∫–∏:**
- **–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—É—Ç–µ–π** ‚Äî —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **–ü—Ä–∏—Ä–æ—Å—Ç –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏** ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç —É–ª—É—á—à–µ–Ω–∏—è –ø–æ—Å–ª–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- **–£—Ä–æ–≤–µ–Ω—å —É–¥–µ—Ä–∂–∞–Ω–∏—è** ‚Äî retention rate

**Supabase —Ç–∞–±–ª–∏—Ü—ã:**
```sql
-- diagnostics_log: AI-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
SELECT 
  data_json->>'lessons_completed' as lessons_completed,
  data_json->>'avg_minutes_per_day' as avg_minutes,
  data_json->>'current_streak' as streak,
  data_json->>'flag_low_engagement' as low_engagement,
  data_json->>'stuck_lessons' as stuck_lessons,
  data_json->>'recommendation' as recommendation
FROM diagnostics_log 
WHERE created_at > NOW() - INTERVAL '30 days'

-- motivation_messages: –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç AI-–∫—É—Ä–∞—Ç–æ—Ä–∞
SELECT user_id, message, sent_at, was_helpful 
FROM motivation_messages
```

### –ë–ª–æ–∫ 4: –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** `user_metadata`, Google Analytics API, –≤–Ω–µ—à–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

**–ú–µ—Ç—Ä–∏–∫–∏:**
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞–Ω–∞–ª–∞–º (–û—Ä–≥–∞–Ω–∏–∫–∞, –†–µ–∫–ª–∞–º–∞, –°–æ—Ü. —Å–µ—Ç–∏, –ü—Ä—è–º–æ–π)
- **Bounce Rate** ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫–∞–∑–æ–≤ (–ø–æ–∫–∏–Ω—É–ª–∏ –ø–æ—Å–ª–µ 1 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- **–°—Ä–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è** ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è** ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π ‚Üí –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**Supabase —Ç–∞–±–ª–∏—Ü—ã:**
```sql
-- users: –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT 
  user_metadata->>'utm_source' as traffic_source,
  user_metadata->>'utm_campaign' as campaign,
  created_at
FROM auth.users

-- user_activity: –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ bounce rate –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏
SELECT 
  user_id,
  page_visited,
  session_duration,
  created_at
FROM user_activity
```

---

## üîÑ –ó–∞–º–µ–Ω–∞ mock-–¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `admin-utils.ts`

```typescript
// –ü—Ä–∏–º–µ—Ä –¥–ª—è AI Diagnostician
export async function getAIDiagnosticsMetrics() {
  const { data, error } = await supabase
    .from('diagnostics_log')
    .select('data_json')
    .gte('created_at', new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString());

  if (error) throw error;

  // –ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
  const engagement_scores = data.map(d => d.data_json.engagement_score || 0);
  const avg_engagement = engagement_scores.reduce((a, b) => a + b, 0) / engagement_scores.length;
  
  const at_risk = data.filter(d => d.data_json.flag_low_engagement).length;
  const stuck_lessons = data.flatMap(d => d.data_json.stuck_lessons || []).length;

  return {
    engagement_score: Math.round(avg_engagement),
    at_risk_students: at_risk,
    stuck_lessons_count: stuck_lessons,
    avg_response_time: 4.2, // TODO: —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–∑ –ª–æ–≥–æ–≤
    recommendations_sent: data.length,
    success_rate: 85 // TODO: —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–∑ feedback
  };
}
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ Activity.tsx

```typescript
const [aiDiagnosticsData, setAIDiagnosticsData] = useState(null);

useEffect(() => {
  const fetchAIMetrics = async () => {
    const metrics = await getAIDiagnosticsMetrics();
    setAIDiagnosticsData(metrics);
  };
  fetchAIMetrics();
}, []);
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```sql
-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX idx_diagnostics_created_at ON diagnostics_log(created_at DESC);
CREATE INDEX idx_user_activity_date ON user_activity(created_at DESC);
CREATE INDEX idx_progress_completed ON progress(is_completed, user_id);
CREATE INDEX idx_daily_activity_user_date ON daily_activity(user_id, date DESC);
```

---

## üé® –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –∏ —Ç–µ–º–∏–∑–∞—Ü–∏—è

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞

```typescript
// –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º–µ—Ç—Ä–∏–∫
const colors = {
  primary: "text-primary / bg-primary/10",      // –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
  success: "text-green-500 / bg-green-500/10",  // –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã
  warning: "text-yellow-500 / bg-yellow-500/10", // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
  danger: "text-red-500 / bg-red-500/10",       // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
  info: "text-blue-500 / bg-blue-500/10",       // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ
  ai: "text-cyan-500 / bg-cyan-500/10",         // AI-–º–µ—Ç—Ä–∏–∫–∏
  purple: "text-purple-500 / bg-purple-500/10", // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
};
```

### –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã

```css
/* –§–æ–Ω –ø–∞–Ω–µ–ª–∏ */
bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950

/* –ö–∞—Ä—Ç–æ—á–∫–∏ */
bg-gradient-to-br from-card to-card/50

/* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
bg-gradient-to-r from-white via-gray-100 to-gray-300 bg-clip-text text-transparent
```

---

## üìà –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### Area Chart (–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é)
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –¥–Ω—è–º.

**–î–∞–Ω–Ω—ã–µ:**
```typescript
const activityData = await getWeeklyActivityData();
// –§–æ—Ä–º–∞—Ç: [{ day: "–ü–Ω", users: 42, messages: 156 }, ...]
```

### Bar Chart (–¢—Ä–µ–Ω–¥ –ø–æ –Ω–µ–¥–µ–ª—è–º)
–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–∏—Å–∫–∞ –æ—Ç—Ç–æ–∫–∞.

**–î–∞–Ω–Ω—ã–µ:**
```typescript
const weeklyTrend = [
  { week: '–ù–µ–¥ 1', active: 320, atRisk: 12 },
  // ...
];
```

### Pie Chart (–ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞)
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –∫–∞–Ω–∞–ª–∞–º –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è.

**–î–∞–Ω–Ω—ã–µ:**
```typescript
const traffic_sources = [
  { name: '–û—Ä–≥–∞–Ω–∏–∫–∞', value: 45, color: '#10b981' },
  { name: '–†–µ–∫–ª–∞–º–∞', value: 30, color: '#3b82f6' },
  // ...
];
```

---

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

–ü–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å —Ä–æ–ª—å—é `admin`.

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ useEffect
useEffect(() => {
  const checkAdminAccess = async () => {
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return navigate('/');
    
    const { data } = await supabase
      .from('users')
      .select('role')
      .eq('id', user.id)
      .single();
    
    if (data?.role !== 'admin') return navigate('/');
    setIsAdmin(true);
  };
  
  checkAdminAccess();
}, []);
```

---

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (Sprint 1-2)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º –¥–ª—è –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV/PDF
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö
- [ ] –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∫–ª–∏–∫—É –Ω–∞ –º–µ—Ç—Ä–∏–∫—É

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (Sprint 3-5)
- [ ] Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (WebSocket)
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ (–Ω–µ–¥–µ–ª—è –∫ –Ω–µ–¥–µ–ª–µ, –º–µ—Å—è—Ü –∫ –º–µ—Å—è—Ü—É)
- [ ] –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ (ML-–º–æ–¥–µ–ª–∏)
- [ ] –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–∞ (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (Sprint 6+)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Google Analytics, Mixpanel)
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ email
- [ ] Multi-tenancy –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

---

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏
```typescript
console.log('[AdminPanel] Fetching platform stats...');
console.error('[AdminPanel] Error loading AI metrics:', error);
```

### Supabase –ª–æ–≥–∏
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Edge Functions:
```bash
supabase functions logs diagnose-user
```

### Performance –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```typescript
console.time('fetchPlatformStats');
const stats = await getPlatformStats();
console.timeEnd('fetchPlatformStats');
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- Frontend: [–ò–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞]
- Backend/Supabase: [–ò–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞]
- AI/ML: [–ò–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞]

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [Supabase Docs](https://supabase.com/docs)
- [Recharts Docs](https://recharts.org/)
- [shadcn/ui Docs](https://ui.shadcn.com/)

---

## üìù Changelog

### v2.0.0 (2025-01-04) - –ü–æ–ª–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω
- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω —Å 4 –±–ª–æ–∫–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã AI-–º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### v1.0.0 (2024-12-XX) - –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è
- –ë–∞–∑–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ç—á—ë—Ç–æ–≤

---

**üéØ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**

- [x] –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (StatCard, MetricCard, ActivitySection)
- [x] –î–æ–±–∞–≤–∏—Ç—å 4 –±–ª–æ–∫–∞ –º–µ—Ç—Ä–∏–∫ —Å mock-–¥–∞–Ω–Ω—ã–º–∏
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ (Area, Bar, Pie)
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å mock-–¥–∞–Ω–Ω—ã–µ –Ω–∞ Supabase –∑–∞–ø—Ä–æ—Å—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –∏ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-01-04  
**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é

