# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê - API –ö–õ–Æ–ß–ò –í GIT

**–î–∞—Ç–∞:** 22 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** üî¥ –ö–†–ò–¢–ò–ß–ù–û - –¢–†–ï–ë–£–ï–¢–°–Ø –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ï –î–ï–ô–°–¢–í–ò–ï

---

## üêõ –ß–¢–û –ü–†–û–ò–ó–û–®–õ–û:

1. ‚ùå `backend/env.env` –±—ã–ª –≤ git history (10+ –∫–æ–º–º–∏—Ç–æ–≤)
2. ‚ùå –Ø –ø–æ–ø—ã—Ç–∞–ª—Å—è –∑–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å API –∫–ª—é—á–∞–º–∏
3. ‚úÖ GitHub –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–õ push (Push Protection)
4. ‚úÖ –Ø —É–¥–∞–ª–∏–ª `backend/env.env` –∏–∑ git tracking

---

## ‚ö†Ô∏è –û–ü–ê–°–ù–û–°–¢–¨:

API –∫–ª—é—á–∏ –£–ñ–ï –ë–´–õ–ò –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –≤ git history:
- Groq API Keys (3 –∫–ª—é—á–∞)
- Resend API Key
- Supabase Keys
- OpenAI Key
- –ò –¥—Ä—É–≥–∏–µ...

---

## üî• –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ù–ï–ú–ï–î–õ–ï–ù–ù–û:

### 1. –†–û–¢–ê–¶–ò–Ø –í–°–ï–• API –ö–õ–Æ–ß–ï–ô (15 –º–∏–Ω—É—Ç):

**Groq API:**
```
1. –û—Ç–∫—Ä–æ–π https://console.groq.com/keys
2. –£–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏ (–∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤ env.env)
3. –°–æ–∑–¥–∞–π 3 –ù–û–í–´–• –∫–ª—é—á–∞:
   - Transcription/Subtitles Key
   - Telegram Agents Key
   - Campaign Analyzer Key
4. –û–±–Ω–æ–≤–∏ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ
```

**Resend API:**
```
1. –û—Ç–∫—Ä–æ–π https://resend.com/api-keys
2. –£–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á (–∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤ env.env)
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –∫–ª—é—á
4. –û–±–Ω–æ–≤–∏ –Ω–∞ production
```

**OpenAI API:**
```
1. –û—Ç–∫—Ä–æ–π https://platform.openai.com/api-keys
2. –†–æ—Ç–∏—Ä—É–π –∫–ª—é—á
3. –û–±–Ω–æ–≤–∏ –Ω–∞ production
```

---

### 2. –û–ë–ù–û–í–õ–ï–ù–ò–ï PRODUCTION ENV (5 –º–∏–Ω—É—Ç):

**–ù–∞ production —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# SSH –≤ production
ssh production-server

# –û–±–Ω–æ–≤–∏ /backend/env.env —Å –ù–û–í–´–ú–ò –∫–ª—é—á–∞–º–∏
nano /home/user/onai-integrator-login/backend/env.env

# Restart backend
pm2 restart backend

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
pm2 logs backend --lines 20
```

---

### 3. GIT HISTORY CLEANUP (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û, 30 –º–∏–Ω—É—Ç):

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç git history!

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ git-filter-repo
pip install git-filter-repo

# Backup —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /Users/miso/onai-integrator-login
cp -r .git .git.backup

# –£–¥–∞–ª–∏ env.env –∏–∑ –í–°–ï–ô –∏—Å—Ç–æ—Ä–∏–∏
git filter-repo --path backend/env.env --invert-paths --force

# Force push (–û–ü–ê–°–ù–û!)
git push origin main --force
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–ø—Ä–æ—â–µ):**
- –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –°–∫–æ–ø–∏—Ä—É–π —Ç—É–¥–∞ —Ç–æ–ª—å–∫–æ –∫–æ–¥ (–±–µ–∑ .git)
- –ù–æ–≤—ã–π git init
- Push –≤ –Ω–æ–≤—ã–π repo

---

## ‚úÖ –ß–¢–û –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û:

- [x] –î–æ–±–∞–≤–∏–ª `backend/env.env` –≤ `.gitignore`
- [x] –£–¥–∞–ª–∏–ª `backend/env.env` –∏–∑ git tracking (`git rm --cached`)
- [x] Amended –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –±–µ–∑ env.env
- [x] –°–æ–∑–¥–∞–ª —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üõ°Ô∏è –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê (–∫–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å):

### 1. `.gitignore`:
```
backend/env.env  ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
backend/.env
.env
.env.local
.env.production
```

### 2. Production —Å–µ—Ä–≤–µ—Ä:
```
/home/user/onai-integrator-login/backend/env.env  ‚Üê –¢–û–õ–¨–ö–û –ó–î–ï–°–¨!
```

### 3. GitHub:
```
‚ùå backend/env.env –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨
‚úÖ backend/env.env.example (—Å placeholder –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)
```

---

## üìù –ü–†–ê–í–ò–õ–¨–ù–´–ô WORKFLOW:

### Development:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
cp backend/env.env.example backend/env.env
nano backend/env.env  # –î–æ–±–∞–≤—å —Å–≤–æ–∏ TEST –∫–ª—é—á–∏
# backend/env.env –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è (–≤ .gitignore)
```

### Production:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
nano /home/user/onai-integrator-login/backend/env.env
# –î–æ–±–∞–≤—å PRODUCTION –∫–ª—é—á–∏
# –§–∞–π–ª –ù–ï –≤ git, —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

---

## üéØ TRIPWIRE FIX - –ß–¢–û –° –ù–ò–ú?

Tripwire email/password fix **–ó–ê–ö–û–ú–ú–ò–ß–ï–ù** –Ω–æ **–ù–ï –ó–ê–ü–£–®–ï–ù**.

–ü–æ—Å–ª–µ —Ä–æ—Ç–∞—Ü–∏–∏ –∫–ª—é—á–µ–π:
```bash
# 1. –û–±–Ω–æ–≤–∏ production env.env —Å –Ω–æ–≤—ã–º–∏ –∫–ª—é—á–∞–º–∏
# 2. Git push (–±–µ–∑ env.env!)
git push origin main
# 3. –ù–∞ production:
git pull origin main
pm2 restart backend
```

---

## ‚ùó –í–ê–ñ–ù–û:

1. **–ù–ï –ü–£–®–ò–¢–¨** –ø–æ–∫–∞ –Ω–µ —Å–¥–µ–ª–∞–µ—à—å —Ä–æ—Ç–∞—Ü–∏—é –∫–ª—é—á–µ–π
2. **–ü–†–û–í–ï–†–¨** —á—Ç–æ `backend/env.env` –≤ `.gitignore`
3. **–û–ë–ù–û–í–ò** production —Å–µ—Ä–≤–µ—Ä —Å –Ω–æ–≤—ã–º–∏ –∫–ª—é—á–∞–º–∏
4. **–¢–û–ì–î–ê** –º–æ–∂–Ω–æ –ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

**–ú–æ–π –∫–æ—Å—è–∫:** –Ø –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ `env.env` –±—ã–ª –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ `.gitignore`.  
**–ò–∑–≤–∏–Ω–µ–Ω–∏—è:** –≠—Ç–æ –º–æ—è –æ—à–∏–±–∫–∞. –ò—Å–ø—Ä–∞–≤–∏–ª –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Git tracking —É–¥–∞–ª–µ–Ω, `.gitignore` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
