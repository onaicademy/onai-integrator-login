# üöÄ DEPLOYMENT WORKFLOW - –ü–û–õ–ù–û–ï –ü–û–ù–ò–ú–ê–ù–ò–ï

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-18  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ

---

## –ö–†–ò–¢–ò–ß–ù–û: –ù–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç 3 –æ–∫—Ä—É–∂–µ–Ω–∏—è:

### 1Ô∏è‚É£ LOCALHOST (—Ç–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä):

```
Frontend: http://localhost:5173 (Vite dev server)
Backend: http://localhost:3000 (Node.js + Express)
–ë–∞–∑–∞: Supabase (–æ–±–ª–∞–∫–æ, –æ–±—â–∞—è –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π)
–í–∏–¥–µ–æ: Bunny CDN (–æ–±–ª–∞–∫–æ, –æ–±—â–µ–µ)
```

### 2Ô∏è‚É£ DIGITAL OCEAN (backend production):

```
–°–µ—Ä–≤–µ—Ä: 207.154.231.30
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: root
–ü—É—Ç—å: /var/www/onai-integrator-login-main/backend
Backend URL: https://api.onai.academy
Process Manager: PM2
Node.js: v18+
```

### 3Ô∏è‚É£ VERCEL (frontend production):

```
Frontend URL: https://onai.academy
Auto-deploy: –ü—Ä–∏ push –≤ main –≤–µ—Ç–∫—É (GitHub integration)
Environment Variables: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel Dashboard
Build: npm run build
Output: dist/
```

---

## üì¶ –ü–û–õ–ù–´–ô –¶–ò–ö–õ –î–ï–ü–õ–û–Ø:

### –≠–¢–ê–ü 1: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ localhost

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ
git branch  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: dev –∏–ª–∏ feature/–Ω–∞–∑–≤–∞–Ω–∏–µ

# 2. –î–µ–ª–∞–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
# ... –ø–∏—à–∏ –∫–æ–¥ ...

# 3. –¢–µ—Å—Ç–∏—Ä—É–π –ª–æ–∫–∞–ª—å–Ω–æ
npm run dev  # Frontend
cd backend && npm run dev  # Backend (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

# 4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
# - –û—Ç–∫—Ä–æ–π http://localhost:5173
# - –ü—Ä–æ–≤–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
# - –ü–æ—Å–º–æ—Ç—Ä–∏ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
```

### –≠–¢–ê–ü 2: Commit –∏ push –≤ dev

```bash
# ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ push –Ω–∞ GitHub - –í–°–ï–ì–î–ê –ø—É—à–∏—Ç—å –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è!

# 1. –ü—Ä–æ–≤–µ—Ä—å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
git status

# 2. –î–æ–±–∞–≤—å –í–°–ï —Ñ–∞–π–ª—ã (–ù–ï –¥–æ–±–∞–≤–ª—è–π .env!)
git add .

# 3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ .env –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω
git status | grep .env  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ!

# 4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã
git status  # –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Changes not staged for commit" –∏–ª–∏ "Untracked files"

# 5. Commit —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
git commit -m "feat: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# 6. Push –≤ dev –≤–µ—Ç–∫—É (–∏–ª–∏ main, –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—à—å –Ω–∞–ø—Ä—è–º—É—é)
git push origin dev

# 7. –°–¢–û–ü! –ù–ï –¥–µ–ø–ª–æ–π –Ω–∞ production –µ—â—ë!
```

**–ö–†–ò–¢–ò–ß–ù–û:** –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç —Å–¥–µ–ª–∞—Ç—å push –Ω–∞ GitHub - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—É—à–∏—Ç—å –í–°–ï –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ push. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∞—Ç—å push —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π!

### –≠–¢–ê–ü 3: –î–µ–ø–ª–æ–π backend –Ω–∞ Digital Ocean

```bash
# ‚ö†Ô∏è –í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø –¢–û–õ–¨–ö–û –ü–û –Ø–í–ù–û–ú–£ –ó–ê–ü–†–û–°–£ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø!

# 1. SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh root@207.154.231.30

# 2. –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/onai-integrator-login-main/backend

# 3. –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
git branch  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: main

# 4. Backup —Ç–µ–∫—É—â–µ–≥–æ .env (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
cp .env .env.backup-$(date +%Y%m%d-%H%M%S)

# 5. Pull –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ GitHub
git pull origin main

# 6. –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ .env –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω!
cat .env | grep OPENAI_API_KEY
# –ï—Å–ª–∏ –∫–ª—é—á –ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏ –∏–∑ backup!

# 7. –£—Å—Ç–∞–Ω–æ–≤–∏ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
npm install

# 8. –°–æ–±–µ—Ä–∏ TypeScript (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm run build

# 9. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ PM2 —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º .env
pm2 reload onai-backend --update-env

# 10. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
pm2 status

# 11. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
pm2 logs onai-backend --lines 50

# 12. –ü—Ä–æ–≤–µ—Ä—å health endpoint
curl http://localhost:3000/api/health

# 13. –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ - –æ—Ç–∫–∞—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
git reset --hard HEAD~1
pm2 restart onai-backend

# 14. –í—ã—Ö–æ–¥ —Å —Å–µ—Ä–≤–µ—Ä–∞
exit
```

### –≠–¢–ê–ü 4: –î–µ–ø–ª–æ–π frontend –Ω–∞ Vercel

```bash
# ‚ö†Ô∏è Vercel –¥–µ–ø–ª–æ–∏—Ç –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ø—Ä–∏ push –≤ main!

# 1. Merge dev ‚Üí main (—á–µ—Ä–µ–∑ GitHub PR –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
git checkout main
git merge dev

# 2. Push –≤ main
git push origin main

# 3. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π commit
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç build: npm run build
   - –î–µ–ø–ª–æ–∏—Ç –≤ production
   - URL: https://onai.academy

# 4. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:
   - –ó–∞–π–¥–∏ –Ω–∞ https://vercel.com/dashboard
   - –ù–∞–π–¥–∏ –ø—Ä–æ–µ–∫—Ç: onai-academy
   - –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è

# 5. –ï—Å–ª–∏ –¥–µ–ø–ª–æ–π failed:
   - –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
   - –ò—Å–ø—Ä–∞–≤—å –ø—Ä–æ–±–ª–µ–º—É
   - –°–¥–µ–ª–∞–π –Ω–æ–≤—ã–π commit –∏ push
```

### –≠–¢–ê–ü 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ production

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å backend
curl https://api.onai.academy/api/health

# 2. –ü—Ä–æ–≤–µ—Ä—å frontend
# –û—Ç–∫—Ä–æ–π https://onai.academy –≤ –±—Ä–∞—É–∑–µ—Ä–µ

# 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
   - [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –ö—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
   - [ ] –í–∏–¥–µ–æ –∏–≥—Ä–∞–µ—Ç
   - [ ] AI —á–∞—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
   - [ ] –ö–æ–Ω—Å–æ–ª—å –±–µ–∑ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫

# 4. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ PM2 —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç:
ssh root@207.154.231.30 'pm2 logs onai-backend --lines 100'

# 5. –ï—Å–ª–∏ –≤—Å—ë –û–ö ‚Üí –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω! ‚úÖ
# 6. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –æ—Ç–∫–∞—Ç—ã–≤–∞–π –∏–∑–º–µ–Ω–µ–Ω–∏—è! ‚ùå
```

---

## üîÑ –û–¢–ö–ê–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫):

### –û—Ç–∫–∞—Ç backend (Digital Ocean):

```bash
ssh root@207.154.231.30

cd /var/www/onai-integrator-login-main/backend

# –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π commit
git reset --hard HEAD~1
pm2 restart onai-backend

# –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫–∞—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π commit
git log --oneline -10  # –ù–∞–π–¥–∏ —Ö–æ—Ä–æ—à–∏–π commit
git reset --hard <commit-hash>
pm2 restart onai-backend

# –í–∞—Ä–∏–∞–Ω—Ç 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ .env –∏–∑ backup
ls .env.backup-*  # –ù–∞–π–¥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup
cp .env.backup-YYYYMMDD-HHMMSS .env
pm2 reload onai-backend --update-env
```

### –û—Ç–∫–∞—Ç frontend (Vercel):

```bash
# –ß–µ—Ä–µ–∑ Vercel Dashboard:
1. –ó–∞–π–¥–∏ –Ω–∞ https://vercel.com/dashboard
2. –ù–∞–π–¥–∏ –ø—Ä–æ–µ–∫—Ç: onai-academy
3. Deployments ‚Üí –ù–∞–π–¥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–±–æ—á–∏–π –¥–µ–ø–ª–æ–π
4. –ö–Ω–æ–ø–∫–∞ "Promote to Production"

# –ß–µ—Ä–µ–∑ Git:
git revert HEAD
git push origin main
# Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç revert
```

---

## üîê –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø .env –ú–ï–ñ–î–£ –û–ö–†–£–ñ–ï–ù–ò–Ø–ú–ò:

### –í–ê–ñ–ù–û: .env —Ñ–∞–π–ª—ã –†–ê–ó–ù–´–ï –≤ –∫–∞–∂–¥–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏!

```
# Localhost .env:
- –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å dev –∫–ª—é—á–∏
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git

# Digital Ocean .env:
- Production –∫–ª—é—á–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –í–†–£–ß–ù–£–Æ
- –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ git pull

# Vercel .env:
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Dashboard
- –§–æ—Ä–º–∞—Ç: VITE_–ò–ú–Ø_–ü–ï–†–ï–ú–ï–ù–ù–û–ô
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI
```

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ production:

```bash
# 1. –ù–ï –¥–µ–ª–∞–π git add .env!
# 2. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@207.154.231.30

# 3. –û–±–Ω–æ–≤–∏ .env –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ nano
cd /var/www/onai-integrator-login-main/backend
nano .env
# –í–Ω–µ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–∏ (Ctrl+O, Enter, Ctrl+X)

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ PM2 —Å --update-env
pm2 reload onai-backend --update-env

# 5. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
curl http://localhost:3000/api/debug/env
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø:

```bash
# –ü–µ—Ä–≤—ã–µ 5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
# (–Ω–∞ Windows –∏—Å–ø–æ–ª—å–∑—É–π PowerShell)
while ($true) {
    ssh root@207.154.231.30 "pm2 status && pm2 logs onai-backend --lines 5"
    Start-Sleep -Seconds 10
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫:
ssh root@207.154.231.30 'pm2 monit'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:
ssh root@207.154.231.30 'htop'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Nginx (–µ—Å–ª–∏ –µ—Å—Ç—å):
ssh root@207.154.231.30 'tail -f /var/log/nginx/error.log'
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ö–ê–ñ–î–´–ú –î–ï–ü–õ–û–ï–ú:

### Localhost:

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –ö–æ–Ω—Å–æ–ª—å –±–µ–∑ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [ ] Git —Å—Ç–∞—Ç—É—Å —á–∏—Å—Ç—ã–π (–Ω–µ—Ç uncommitted —Ñ–∞–π–ª–æ–≤)
- [ ] .env –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ git
- [ ] Commit message –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

### Backend –¥–µ–ø–ª–æ–π:

- [ ] SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Backup .env —Å–¥–µ–ª–∞–Ω
- [ ] Git pull —É—Å–ø–µ—à–µ–Ω
- [ ] .env –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω
- [ ] npm install –ø—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] PM2 reload —É—Å–ø–µ—à–µ–Ω
- [ ] Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç 200
- [ ] –õ–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫

### Frontend –¥–µ–ø–ª–æ–π:

- [ ] Vercel build —É—Å–ø–µ—à–µ–Ω
- [ ] Production URL –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ö–æ–Ω—Å–æ–ª—å –±–µ–∑ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫

### Post-deploy:

- [ ] Production —Ä–∞–±–æ—Ç–∞–µ—Ç 5+ –º–∏–Ω—É—Ç
- [ ] –ù–µ—Ç memory leaks
- [ ] –ù–µ—Ç critical errors –≤ –ª–æ–≥–∞—Ö
- [ ] Users –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

---

## üö® –ö–†–ò–¢–ò–ß–ù–´–ï –ü–†–ê–í–ò–õ–ê:

1. ‚ö†Ô∏è **–ù–ï –¥–µ–ø–ª–æ–π –≤ production –±–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ localhost**
2. ‚ö†Ô∏è **–í–°–ï–ì–î–ê –¥–µ–ª–∞–π backup .env –ø–µ—Ä–µ–¥ git pull**
3. ‚ö†Ô∏è **–ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å .env —Ñ–∞–π–ª—ã**
4. ‚ö†Ô∏è **–í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**
5. ‚ö†Ô∏è **–í–°–ï–ì–î–ê –∏–º–µ–π –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
6. ‚ö†Ô∏è **Production –¥–µ–ø–ª–æ–π –¢–û–õ–¨–ö–û –ø–æ —è–≤–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É**
7. ‚ö†Ô∏è **–í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–≤–∞–π MD –æ—Ç—á—ë—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**
8. ‚ö†Ô∏è **–ü–†–ò –ó–ê–ü–†–û–°–ï PUSH –ù–ê GITHUB - –í–°–ï–ì–î–ê –ü–£–®–ò–¢–¨ –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø** (–Ω–µ —á–∞—Å—Ç–∏—á–Ω–æ!)

---

## üîß –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:

```bash
# Backend —Å—Ç–∞—Ç—É—Å
ssh root@207.154.231.30 'pm2 status'

# Backend –ª–æ–≥–∏
ssh root@207.154.231.30 'pm2 logs onai-backend --lines 50'

# Git —Å—Ç–∞—Ç—É—Å
git status
git log --oneline -5

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ (Windows)
netstat -ano | findstr "LISTENING" | findstr ":3000 :5173 :8080"
```

### –ë—ã—Å—Ç—Ä—ã–π deploy backend (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞):

```bash
# –ù–∞ localhost:
git add . && \
git commit -m "update" && \
git push origin dev && \
ssh root@207.154.231.30 'cd /var/www/onai-integrator-login-main/backend && git pull && pm2 reload onai-backend --update-env'
```

---

## üìù –§–û–†–ú–ê–¢ COMMIT MESSAGES:

- `feat:` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `fix:` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs:` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `style:` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `refactor:` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- `test:` - —Ç–µ—Å—Ç—ã
- `chore:` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
git commit -m "feat: –¥–æ–±–∞–≤–∏–ª —Ñ—É–Ω–∫—Ü–∏—é —É–¥–∞–ª–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π"
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–∏–ª –±–∞–≥ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–¥–∞–ª–µ–Ω–∏—è"
git commit -m "docs: –æ–±–Ω–æ–≤–∏–ª deployment workflow"
```

---

## üéØ –ö–û–ù–¢–†–û–õ–¨–ù–´–ï –í–û–ü–†–û–°–´ –î–õ–Ø –ü–†–û–í–ï–†–ö–ò –ü–û–ù–ò–ú–ê–ù–ò–Ø:

1. **–û–±—ä—è—Å–Ω–∏ –º–Ω–µ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–µ–ø–ª–æ—è –æ—Ç localhost –¥–æ production**
   - ‚úÖ Localhost —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Üí Git commit ‚Üí Push –≤ dev ‚Üí –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí Merge –≤ main ‚Üí Deploy backend (SSH) ‚Üí Deploy frontend (Vercel auto) ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ production

2. **–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è backend —É–ø–∞–ª?**
   - ‚úÖ SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ PM2 ‚Üí –û—Ç–∫–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `git reset --hard HEAD~1` ‚Üí –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2 ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoint

3. **–ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å OpenAI –∫–ª—é—á –Ω–∞ production –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö?**
   - ‚úÖ SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Üí Backup .env ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —á–µ—Ä–µ–∑ nano ‚Üí `pm2 reload onai-backend --update-env` ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `/api/debug/env`

4. **–ö–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω—É–∂–Ω—ã –¥–ª—è –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π?**
   - ‚úÖ Backend: `git reset --hard HEAD~1` + `pm2 restart onai-backend`
   - ‚úÖ Frontend: Vercel Dashboard ‚Üí Promote previous deployment –ò–õ–ò `git revert HEAD` + push

5. **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω backup .env –ø–µ—Ä–µ–¥ git pull?**
   - ‚úÖ –ü–æ—Ç–æ–º—É —á—Ç–æ git pull –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å .env —Ñ–∞–π–ª, –∏ –º—ã –ø–æ—Ç–µ—Ä—è–µ–º production –∫–ª—é—á–∏. Backup –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.

---

**–î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–µ–Ω –Ω–∞:** 2025-11-18  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-18  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–Ω—è—Ç–æ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

