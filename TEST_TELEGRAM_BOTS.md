# üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï TELEGRAM –ë–û–¢–û–í

**–î–∞—Ç–∞**: 13 –Ω–æ—è–±—Ä—è 2025  
**–¶–µ–ª—å**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ Backend API

---

## üìã –ü–û–î–ì–û–¢–û–í–ö–ê

### 1Ô∏è‚É£ –ü–æ–ª—É—á–∏ JWT —Ç–æ–∫–µ–Ω

1. –û—Ç–∫—Ä–æ–π: http://localhost:8080
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
3. –û—Ç–∫—Ä–æ–π DevTools (F12) ‚Üí Console
4. –í—ã–ø–æ–ª–Ω–∏:
```javascript
localStorage.getItem('supabase_token')
```
5. –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ...`)

---

## üß™ –¢–ï–°–¢–´

### ‚úÖ –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤

**URL**: http://localhost:3000/api/telegram/templates

**–ú–µ—Ç–æ–¥**: GET

**Headers**:
```
Authorization: Bearer <—Ç–≤–æ–π_JWT_—Ç–æ–∫–µ–Ω>
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```json
{
  "mentor": {
    "templates": ["motivation", "reminder", "help", "achievement", "streak", "warning"]
  },
  "admin": {
    "templates": ["dailyReport", "weeklyReport", "alert"]
  }
}
```

---

### üéì –¢–µ—Å—Ç 2: AI-–ù–∞—Å—Ç–∞–≤–Ω–∏–∫ ‚Üí –ú–æ—Ç–∏–≤–∞—Ü–∏—è —Å—Ç—É–¥–µ–Ω—Ç—É

**URL**: http://localhost:3000/api/telegram/mentor/send

**–ú–µ—Ç–æ–¥**: POST

**Headers**:
```
Authorization: Bearer <—Ç–≤–æ–π_JWT_—Ç–æ–∫–µ–Ω>
Content-Type: application/json
```

**Body**:
```json
{
  "chatId": "–¢–£–¢_–¢–í–û–ô_TELEGRAM_CHAT_ID",
  "template": "motivation",
  "templateData": ["–ê–ª–µ–∫—Å–∞–Ω–¥—Ä", 75]
}
```

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å chatId**:
1. –û—Ç–∫—Ä–æ–π Telegram
2. –ù–∞–π–¥–∏ –±–æ—Ç–∞: @onaimentor_bot
3. –û—Ç–ø—Ä–∞–≤—å: /start
4. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://api.telegram.org/bot8380600260:AAGtuSG9GqFOmkyThhWqRzilHi3gKdKiOSo/getUpdates
```
5. –ù–∞–π–¥–∏ –≤ –æ—Ç–≤–µ—Ç–µ: `"chat": { "id": 123456789 }`
6. –≠—Ç–æ —Ç–≤–æ–π chatId!

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram –ø—Ä–∏–¥—ë—Ç: "–ü—Ä–∏–≤–µ—Ç, –ê–ª–µ–∫—Å–∞–Ω–¥—Ä! üí™ –¢—ã —É–∂–µ –Ω–∞ 75% –∫—É—Ä—Å–∞ - –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! üöÄ"
- ‚úÖ API –≤–µ—Ä–Ω—ë—Ç: `{ "success": true, "chatId": "...", "sentAt": "..." }`

---

### üéì –¢–µ—Å—Ç 3: AI-–ù–∞—Å—Ç–∞–≤–Ω–∏–∫ ‚Üí –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

**URL**: http://localhost:3000/api/telegram/mentor/send

**–ú–µ—Ç–æ–¥**: POST

**Headers**:
```
Authorization: Bearer <—Ç–≤–æ–π_JWT_—Ç–æ–∫–µ–Ω>
Content-Type: application/json
```

**Body**:
```json
{
  "chatId": "–¢–£–¢_–¢–í–û–ô_TELEGRAM_CHAT_ID",
  "template": "reminder",
  "templateData": ["–ê–ª–µ–∫—Å–∞–Ω–¥—Ä", 3]
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä, –¥–∞–≤–Ω–æ –Ω–µ –≤–∏–¥–µ–ª–∏—Å—å! üòä –ü—Ä–æ—à–ª–æ —É–∂–µ 3 –¥–Ω—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Ä–æ–∫–∞. –ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ? üìö"

---

### üéì –¢–µ—Å—Ç 4: AI-–ù–∞—Å—Ç–∞–≤–Ω–∏–∫ ‚Üí –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ

**URL**: http://localhost:3000/api/telegram/mentor/send

**–ú–µ—Ç–æ–¥**: POST

**Body**:
```json
{
  "chatId": "–¢–£–¢_–¢–í–û–ô_TELEGRAM_CHAT_ID",
  "template": "achievement",
  "templateData": ["–ê–ª–µ–∫—Å–∞–Ω–¥—Ä", "–ü–µ—Ä–≤—ã–π –º–æ–¥—É–ª—å –∑–∞–≤–µ—Ä—à—ë–Ω"]
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram: "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –ê–ª–µ–∫—Å–∞–Ω–¥—Ä! üéâ –¢—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: \"–ü–µ—Ä–≤—ã–π –º–æ–¥—É–ª—å –∑–∞–≤–µ—Ä—à—ë–Ω\"! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! ‚≠ê"

---

### üéì –¢–µ—Å—Ç 5: AI-–ù–∞—Å—Ç–∞–≤–Ω–∏–∫ ‚Üí –°—Ç—Ä–∏–∫

**URL**: http://localhost:3000/api/telegram/mentor/send

**–ú–µ—Ç–æ–¥**: POST

**Body**:
```json
{
  "chatId": "–¢–£–¢_–¢–í–û–ô_TELEGRAM_CHAT_ID",
  "template": "streak",
  "templateData": ["–ê–ª–µ–∫—Å–∞–Ω–¥—Ä", 7]
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram: "–û–≥–æ–Ω—å, –ê–ª–µ–∫—Å–∞–Ω–¥—Ä! üî• 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —á–µ–º–ø–∏–æ–Ω! üèÜ"

---

### üìä –¢–µ—Å—Ç 6: AI-–ê–Ω–∞–ª–∏—Ç–∏–∫ ‚Üí –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç –∞–¥–º–∏–Ω—É

**URL**: http://localhost:3000/api/telegram/admin/send

**–ú–µ—Ç–æ–¥**: POST

**Headers**:
```
Authorization: Bearer <—Ç–≤–æ–π_JWT_—Ç–æ–∫–µ–Ω>
Content-Type: application/json
```

**Body**:
```json
{
  "template": "dailyReport",
  "templateData": {
    "activeStudents": 45,
    "completedLessons": 123,
    "newRegistrations": 5
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ –≤ `backend/.env` –Ω–∞—Å—Ç—Ä–æ–µ–Ω `TELEGRAM_ADMIN_CHAT_ID`, —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–µ–±–µ!

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram –æ—Ç @onaianalyst_bot:
```
üìä –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç

üë• –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: 45
‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Ä–æ–∫–æ–≤: 123
üÜï –ù–æ–≤—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π: 5

13.11.2025
```

---

### üìä –¢–µ—Å—Ç 7: AI-–ê–Ω–∞–ª–∏—Ç–∏–∫ ‚Üí –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç

**URL**: http://localhost:3000/api/telegram/admin/send

**–ú–µ—Ç–æ–¥**: POST

**Body**:
```json
{
  "template": "weeklyReport",
  "templateData": {
    "totalStudents": 150,
    "activePercentage": 65,
    "avgProgress": 42,
    "topCourse": "AI/ML Basics"
  }
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram –æ—Ç @onaianalyst_bot:
```
üìà –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç

üë• –í—Å–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: 150
üî• –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 65%
üìä –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 42%
‚≠ê –¢–æ–ø –∫—É—Ä—Å: AI/ML Basics

13.11.2025
```

---

### üìä –¢–µ—Å—Ç 8: AI-–ê–Ω–∞–ª–∏—Ç–∏–∫ ‚Üí –ê–ª–µ—Ä—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

**URL**: http://localhost:3000/api/telegram/admin/send

**–ú–µ—Ç–æ–¥**: POST

**Body**:
```json
{
  "template": "alert",
  "templateData": {
    "message": "üöÄ Backend Telegram API —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω!"
  }
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –í Telegram –æ—Ç @onaianalyst_bot:
```
‚ö†Ô∏è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

üöÄ Backend Telegram API —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω!

13.11.2025, 15:30
```

---

## üõ†Ô∏è –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Postman/Thunder Client

1. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Request
2. –ú–µ—Ç–æ–¥: POST
3. URL: `http://localhost:3000/api/telegram/mentor/send`
4. Headers:
   - `Authorization`: `Bearer <—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω>`
   - `Content-Type`: `application/json`
5. Body: JSON –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤—ã—à–µ
6. Send!

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ curl (PowerShell)

```powershell
$token = "—Ç–≤–æ–π_JWT_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å"
$chatId = "—Ç–≤–æ–π_telegram_chat_id"

# –¢–µ—Å—Ç 1: –ú–æ—Ç–∏–≤–∞—Ü–∏—è
$body = @{
    chatId = $chatId
    template = "motivation"
    templateData = @("–ê–ª–µ–∫—Å–∞–Ω–¥—Ä", 75)
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:3000/api/telegram/mentor/send" `
    -Method POST `
    -Headers @{ Authorization = "Bearer $token"; "Content-Type" = "application/json" } `
    -Body $body
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Browser Console

1. –û—Ç–∫—Ä–æ–π: http://localhost:8080
2. –û—Ç–∫—Ä–æ–π DevTools (F12) ‚Üí Console
3. –í—ã–ø–æ–ª–Ω–∏:

```javascript
// –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω
const token = localStorage.getItem('supabase_token');

// –¢–µ—Å—Ç: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é
fetch('http://localhost:3000/api/telegram/mentor/send', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    chatId: '–¢–£–¢_–¢–í–û–ô_CHAT_ID',
    template: 'motivation',
    templateData: ['–ê–ª–µ–∫—Å–∞–Ω–¥—Ä', 75]
  })
})
.then(r => r.json())
.then(d => console.log('‚úÖ –£—Å–ø–µ—Ö:', d))
.catch(e => console.error('‚ùå –û—à–∏–±–∫–∞:', e));
```

---

## üìä –ß–ï–ö–õ–ò–°–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### AI-–ù–∞—Å—Ç–∞–≤–Ω–∏–∫ (Mentor Bot):
- [ ] –¢–µ—Å—Ç 1: –®–∞–±–ª–æ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –¢–µ—Å—Ç 2: –ú–æ—Ç–∏–≤–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç 3: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç 4: –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç 5: –°—Ç—Ä–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç 6: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

### AI-–ê–Ω–∞–ª–∏—Ç–∏–∫ (Admin Bot):
- [ ] –¢–µ—Å—Ç 7: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç 8: –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç 9: –ê–ª–µ—Ä—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

–ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏:
- ‚úÖ Backend Telegram API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –¢–æ–∫–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ë–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç
- ‚úÖ –®–∞–±–ª–æ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç

**–ì–æ—Ç–æ–≤–æ –∫ production!** üöÄ


