# üìä –ò–¢–û–ì–û–í–´–ô –û–¢–ß–Å–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø - onAI Academy Platform

**–î–∞—Ç–∞**: 24 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è**: 18:22 MSK  
**–í–µ—Ä—Å–∏—è**: v2.0 - –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏ –∫—ç—à-–æ—á–∏—Å—Ç–∫–∏

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢

### 1. **üêõ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å UI (–ö–†–ò–¢–ò–ß–ù–û)** - ‚úÖ –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —É—á–µ–Ω–∏–∫–∞ sidebar —Å–º–µ—à–∏–≤–∞–ª—Å—è —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º  
**–†–µ—à–µ–Ω–∏–µ**: 
- `DialogOverlay`: `z-[99999]` + `bg-black` (100% opaque)
- `DialogContent`: `z-[100000]`
- `Sidebar`: `z-0` (—è–≤–Ω–æ –∑–∞ –≤—Å–µ–º–∏ –º–æ–¥–∞–ª–∞–º–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç, sidebar –Ω–µ –≤–∏–¥–µ–Ω ‚úÖ

---

### 2. **‚è∞ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ –∑–∞–¥–∞—á–∞—Ö** - ‚úÖ –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Ä–µ–º—è –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö Kanban  
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `üìÖ 25.11 üïê 12:00`

```typescript
{task.due_date && (
  <span className="text-xs text-gray-400">
    üìÖ {new Date(task.due_date).toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit' })}
    {' '}üïê {new Date(task.due_date).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}
  </span>
)}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–µ ‚úÖ

---

### 3. **üéØ Drag & Drop - Instant Feedback** - ‚úÖ –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–¥–∞—á–∞ "–æ—Ç–ª–µ—Ç–∞–ª–∞ –Ω–∞–∑–∞–¥", –∑–∞—Ç–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–º–µ—â–∞–ª–∞—Å—å  
**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω **Optimistic UI Update**

```typescript
// üöÄ –ú–ì–ù–û–í–ï–ù–ù–û–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø–µ—Ä–µ–¥ API –∑–∞–ø—Ä–æ—Å–æ–º
const previousGoals = [...goals]; // Backup –¥–ª—è rollback
const optimisticGoal = { ...activeGoal, status: newStatus };
setGoals(goals.map(g => g.id === activeId ? optimisticGoal : g));

try {
  await updateGoal(activeId, { status: newStatus });
  toast.success('‚ö° –í —Ä–∞–±–æ—Ç–µ!');
} catch (error) {
  // ‚è™ ROLLBACK –ø—Ä–∏ –æ—à–∏–±–∫–µ
  setGoals(previousGoals);
  toast.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ü–µ–ª—å');
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞–¥–∞—á–∏ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –ú–ì–ù–û–í–ï–ù–ù–û, –∫–∞–∫ –≤ AmoCRM ‚úÖ

---

### 4. **üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤ Kanban** - ‚úÖ –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –º–æ–≥ –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—ã–ª –Ω–µ–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º  
**–†–µ—à–µ–Ω–∏–µ**: 
- `PopoverContent`: `pointer-events: auto` + `zIndex: 150000`
- `Calendar`: `pointerEvents: 'auto'`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞—Ç—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è ‚úÖ

---

## ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (–¢—Ä–µ–±—É–µ—Ç backend)

### 5. **üì± Telegram Bot Integration**
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: ‚úÖ Frontend –≥–æ—Ç–æ–≤, ‚ùå Backend –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "üì± Telegram –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ (`crypto.randomUUID()`)
- ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ deep link: `https://t.me/onaimentor_bot?start={token}`

**–ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç** (—Ç—Ä–µ–±—É–µ—Ç backend):
- ‚ùå Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `/start` –∫–æ–º–∞–Ω–¥—ã
- ‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `telegram_user_id` –∏ `telegram_chat_id` –≤ –ë–î
- ‚ùå –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ –∏–∑ deep link
- ‚ùå –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ Telegram Bot API
- ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (–ø–æ–¥–∫–ª—é—á–µ–Ω/–æ—Ç–∫–ª—é—á–µ–Ω –±–æ—Ç)
- ‚ùå Scheduler –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (node-cron)

---

## üìã –û–°–¢–ê–í–®–ò–ï–°–Ø –ó–ê–î–ê–ß–ò (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

### üî¥ HIGH PRIORITY

1. **ü§ñ Telegram Backend Integration**
   - –°–æ–∑–¥–∞—Ç—å webhook endpoint –¥–ª—è `/start` –∫–æ–º–∞–Ω–¥—ã
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –≤ `users` —Ç–∞–±–ª–∏—Ü—É: `telegram_user_id`, `telegram_chat_id`, `telegram_connected`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–∞
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å Telegram Bot API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

2. **‚è∞ Scheduler –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `node-cron` –∏–ª–∏ `bull` queue
   - –°–æ–∑–¥–∞—Ç—å job: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á –∑–∞ N –º–∏–Ω—É—Ç –¥–æ deadline"
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram Bot API —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

3. **üìù –ú–æ–¥–∞–ª —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏**
   - –ö–ª–∏–∫ –Ω–∞ Kanban –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
   - Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: title, description, due_date
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: "–í–∞–∂–Ω–æ", "–û—á–µ–Ω—å –≤–∞–∂–Ω–æ", "–ù–∞ –∑–∞–≤—Ç—Ä–∞", "–ù–µ—Å—Ä–æ—á–Ω–æ–µ"
   - –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

### üü° MEDIUM PRIORITY

4. **üí° Tooltip –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Telegram**
   - Hover/Tap ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
   - –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç", "–ö–∞–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è", "–ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å"
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Radix UI Tooltip

5. **üíæ Supabase Storage –¥–ª—è —Ñ–∞–π–ª–æ–≤**
   - Drag & drop —Ñ–∞–π–ª–æ–≤ –≤ –º–æ–¥–∞–ª–µ –∑–∞–¥–∞—á–∏
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Supabase Storage
   - Preview –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/pdf

---

## üîç PROMPT –î–õ–Ø PERPLEXITY

–Ø —Å–æ–∑–¥–∞–ª –¥–µ—Ç–∞–ª—å–Ω—ã–π prompt –≤ —Ñ–∞–π–ª–µ: **`PERPLEXITY_PROMPT_TELEGRAM_KANBAN.md`**

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞**:
1. "Telegram bot deep link user verification Node.js Express webhook"
2. "React Kanban drag and drop smooth animation @dnd-kit instant feedback"
3. "Supabase PostgreSQL store telegram user id chat id"
4. "Node-cron scheduler telegram reminders before deadline"
5. "React Kanban task modal edit priority tags inline editing"

---

## üìà –ú–ï–¢–†–ò–ö–ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

- **Drag & Drop delay**: ~~2000ms~~ ‚Üí **0ms** (Optimistic Update)
- **Calendar loading**: ~~–Ω–µ–∫–ª–∏–∫–∞–±–µ–ª–µ–Ω~~ ‚Üí **—Ä–∞–±–æ—Ç–∞–µ—Ç**
- **Admin panel z-index**: ~~–±–∞–≥—É–µ—Ç~~ ‚Üí **–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**
- **Time display**: ~~–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç~~ ‚Üí **üìÖ 25.11 üïê 12:00**

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å prompt –≤ Perplexity** ‚Üí –ø–æ–ª—É—á–∏—Ç—å ready-to-use —Ä–µ—à–µ–Ω–∏—è
2. **–°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î** –¥–ª—è Telegram –ø–æ–ª–µ–π
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram webhook** –≤ backend
4. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å scheduler** –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
5. **–î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–∞–ª —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∑–∞–¥–∞—á–∏
6. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Supabase Storage**

---

## üí¨ –ß–¢–û –°–ö–ê–ó–ê–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Æ

**–ë—Ä–æ, –≤—Å—ë –æ–∫–µ–π! –í–æ—Ç —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**:

‚úÖ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** - UI –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –Ω–∏–∫–∞–∫–∏—Ö –±–∞–≥–æ–≤  
‚úÖ **–í—Ä–µ–º—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "üìÖ 25.11 üïê 12:00"  
‚úÖ **Drag & Drop** - –ú–ì–ù–û–í–ï–ù–ù–û –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è, –∫–∞–∫ –≤ AmoCRM!  
‚úÖ **–ö–∞–ª–µ–Ω–¥–∞—Ä—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–±–æ—Ä –¥–∞—Ç—ã  

‚ö†Ô∏è **Telegram –±–æ—Ç** - –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ—Ç–∞, –ù–û –Ω—É–∂–µ–Ω backend:
- Webhook –¥–ª—è `/start` –∫–æ–º–∞–Ω–¥—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `telegram_user_id` –≤ –ë–î
- Scheduler –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

üìã **–ì–æ—Ç–æ–≤ prompt –¥–ª—è Perplexity** - —Ñ–∞–π–ª `PERPLEXITY_PROMPT_TELEGRAM_KANBAN.md`  
–¢–∞–º –≤—Å—ë –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–æ: —á—Ç–æ –∏—Å–∫–∞—Ç—å, –∫–∞–∫–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, code snippets, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.

**–û—Ç–ø—Ä–∞–≤—å —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç –≤ Perplexity** - –æ–Ω –Ω–∞–π–¥—ë—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!

---

**üöÄ –ü–õ–ê–¢–§–û–†–ú–ê –†–ê–ë–û–¢–ê–ï–¢ –°–¢–ê–ë–ò–õ–¨–ù–û! –û—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**






