# üöÄ –§–ò–ù–ê–õ–¨–ù–´–ô –î–ï–ü–õ–û–ô - –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

**–î–∞—Ç–∞:** 7 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é  

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ API key –≤ headers
2. ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `VITE_SUPABASE_ANON_KEY`
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
4. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è .env
5. ‚úÖ –ó–∞–º–µ–Ω—ë–Ω –¥–æ–º–µ–Ω –Ω–∞ onai.academy

---

## üéØ –ü–õ–ê–ù –î–ï–ü–õ–û–Ø (3 –®–ê–ì–ê)

### –®–ê–ì 1: –ö–æ–º–º–∏—Ç –∏ –ø—É—à –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
cd "/Users/miso/Documents/MVP onAI Academy Platform/onai-integrator-login"

git add -A
git commit -m "fix: –æ–±–Ω–æ–≤–ª–µ–Ω—ã Supabase –∫–ª—é—á–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VITE_SUPABASE_ANON_KEY"
git push origin main
```

### –®–ê–ì 2: –û–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
./update-env.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- –°–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π .env —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
- –ü–æ–∫–∞–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –®–ê–ì 3: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥

```bash
./deploy.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–∫–∞—á–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥ —Å GitHub
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°–æ–±–µ—Ä—ë—Ç production –±–∏–ª–¥
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç PM2

---

## üë§ –ü–†–û–í–ï–†–ö–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –í SUPABASE

### –û—Ç–∫—Ä–æ–π Supabase Dashboard:

```
https://supabase.com/dashboard/project/capdjvokjdivxjfdddmx/auth/users
```

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –£–ñ–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å `saint@onaiacademy.kz` –≤ —Å–ø–∏—Å–∫–µ:

1. **–ü—Ä–æ–≤–µ—Ä—å "Email Confirmed"**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–∞–ª–æ—á–∫–∞ ‚úÖ
   - –ï—Å–ª–∏ –ù–ï–¢ - –Ω–∞–∂–º–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí "Confirm email"

2. **–ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä–æ–ª—å**
   - –ï—Å–ª–∏ –Ω–µ –ø–æ–º–Ω–∏—à—å - —Å–±—Ä–æ—Å—å: "Send Password Recovery"
   - –ò–ª–∏ —Å–º–µ–Ω–∏ –ø–∞—Ä–æ–ª—å: –Ω–∞–∂–º–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí "Reset password"

3. **–ü—Ä–æ–≤–µ—Ä—å —Ä–æ–ª—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –ü–µ—Ä–µ–π–¥–∏ –≤ SQL Editor
   - –í—ã–ø–æ–ª–Ω–∏ —Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞: `–ü–†–û–í–ï–†–ö–ê_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø.sql`

### –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–°–æ–∑–¥–∞–π –Ω–æ–≤–æ–≥–æ:**

1. –ù–∞–∂–º–∏ **"+ Add user"**
2. –í—ã–±–µ—Ä–∏ **"Create new user"**
3. –ó–∞–ø–æ–ª–Ω–∏:
   ```
   Email: saint@onaiacademy.kz
   Password: Onai2134!
   ‚úÖ Auto Confirm User (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
   ```
4. –ù–∞–∂–º–∏ **"Create user"**

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏ SQL:**

```sql
-- –ü–µ—Ä–µ–π–¥–∏ –≤ SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏:
-- (–ó–∞–º–µ–Ω–∏ USER_ID –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π UUID –∏–∑ auth.users)

INSERT INTO public.users (id, email, role, is_ceo, created_at)
SELECT 
  au.id,
  'saint@onaiacademy.kz',
  'admin',
  true,
  NOW()
FROM auth.users au
WHERE au.email = 'saint@onaiacademy.kz'
ON CONFLICT (id) DO UPDATE SET
  role = 'admin',
  is_ceo = true;
```

---

## üß™ –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

### 1. –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç

```
https://onai.academy
```

### 2. –û—Ç–∫—Ä–æ–π DevTools (F12)

### 3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+Shift+R –∏–ª–∏ Cmd+Shift+R)

### 4. –í Console –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üîç SUPABASE –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê
  –í—Å–µ VITE –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: {
    VITE_SUPABASE_URL: "https://capdjvokjdivxjfdddmx.supabase.co"
    VITE_SUPABASE_ANON_KEY: "eyJhbGciOiJIUzI1NiIs..."
    VITE_SUPABASE_PUBLISHABLE_KEY: "eyJhbGciOiJIUzI1NiIs..."
    MODE: "production"
  }
  ‚úÖ Supabase config: {
    url: "https://capdjvokjdivxjfdddmx.supabase.co"
    keyLength: 208
    keyFull: "eyJhbGciOiJIUzI1NiIs..."
  }
```

### 5. –ü–æ–ø—Ä–æ–±—É–π –≤–æ–π—Ç–∏:

```
Email: saint@onaiacademy.kz
Password: Onai2134!
```

### 6. –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:

‚úÖ –í Console: `üîê –ü–û–ü–´–¢–ö–ê –í–•–û–î–ê`  
‚úÖ –í Network ‚Üí Headers: `apikey: eyJhbGci...`  
‚úÖ Toast: "‚úÖ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"  
‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/courses`  

---

## üêõ –ï–°–õ–ò –í–°–Å –ï–©–Å –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–±–ª–µ–º–∞: "No API key found"

**–ü—Ä–æ–≤–µ—Ä—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
ssh root@178.128.203.40
cat /var/www/onai-integrator-login/.env | grep VITE_SUPABASE_ANON_KEY
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIs...
```

**–ï—Å–ª–∏ –ø—É—Å—Ç–æ - –∑–∞–ø—É—Å—Ç–∏:**
```bash
./update-env.sh
./deploy.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid login credentials"

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç API key —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:

1. –ü—Ä–æ–≤–µ—Ä—å email/–ø–∞—Ä–æ–ª—å
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –≤ Supabase
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ Email Auth –≤–∫–ª—é—á—ë–Ω: Authentication ‚Üí Providers ‚Üí Email

### –ü—Ä–æ–±–ª–µ–º–∞: "Email not confirmed"

–í Supabase Dashboard:
1. Authentication ‚Üí Users
2. –ù–∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ
4. "Confirm email"

---

## üìã –ü–û–õ–ù–´–ô –ß–ï–ö–õ–ò–°–¢

- [ ] –ö–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –∏ –∑–∞–ø—É—à–µ–Ω –Ω–∞ GitHub
- [ ] `.env` –æ–±–Ω–æ–≤–ª—ë–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á–µ—Ä–µ–∑ `./update-env.sh`)
- [ ] –î–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω (—á–µ—Ä–µ–∑ `./deploy.sh`)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ Supabase Dashboard
- [ ] Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω (Auto Confirm –∏–ª–∏ –≤—Ä—É—á–Ω—É—é)
- [ ] –†–æ–ª—å `admin` –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –≤ `public.users`
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è: https://onai.academy
- [ ] –í Console –≤–∏–¥–Ω–æ: "‚úÖ Supabase config"
- [ ] –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `saint@onaiacademy.kz`
- [ ] –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/courses`

---

## üöÄ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –î–ï–ü–õ–û–Ø (–ö–û–ü–ò–†–£–ô –ò –í–°–¢–ê–í–¨)

```bash
# 1. –ö–æ–º–º–∏—Ç –∏ –ø—É—à
cd "/Users/miso/Documents/MVP onAI Academy Platform/onai-integrator-login"
git add -A
git commit -m "fix: –æ–±–Ω–æ–≤–ª–µ–Ω—ã Supabase –∫–ª—é—á–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VITE_SUPABASE_ANON_KEY"
git push origin main

# 2. –û–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
./update-env.sh

# 3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
./deploy.sh
```

---

## üéâ –í–°–Å –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å!

**–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã - –ø—Ä–∏—à–ª–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–∑ DevTools (Console –∏ Network).**

**–£–¥–∞—á–∏! üöÄ**

