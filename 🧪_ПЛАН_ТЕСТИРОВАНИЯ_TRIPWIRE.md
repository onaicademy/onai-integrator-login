# üß™ –ü–û–õ–ù–´–ô –ü–õ–ê–ù E2E –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø TRIPWIRE PLATFORM

**–î–∞—Ç–∞:** 14 –¥–µ–∫–∞–±—Ä—è 2025  
**–¶–µ–ª—å:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Tripwire —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä  
**–¢–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç:** smmmcwin@gmail.com / +7 777 3886880

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ –£–∂–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:
1. Login/Auth - —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
2. Dashboard –∑–∞–≥—Ä—É–∑–∫–∞ - —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
3. Email/SMS –æ—Ç–ø—Ä–∞–≤–∫–∞ - —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
4. Backend API - —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

### üîç –ù–£–ñ–ù–û –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨:

---

## üéØ TEST SUITE 1: –£–†–û–ö–ò –ò –ú–û–î–£–õ–ò

### 1.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—Ä–æ–∫–æ–≤ –≤ –ë–î

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```
–ú–æ–¥—É–ª—å 16 (ID: 16):
  - –£—Ä–æ–∫ 67: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏" 
    Video: 9d9fe01c-e060-4182-b382-65ddc52b67ed (9 —Å–µ–∫)

–ú–æ–¥—É–ª—å 17 (ID: 17):
  - –£—Ä–æ–∫ 68: "–°–æ–∑–¥–∞–Ω–∏–µ GPT-–±–æ—Ç–∞ –¥–ª—è Instagram"
    Video: f68ff8f3-c683-4010-9ed9-74431c2a1f23 (14 —Å–µ–∫)

–ú–æ–¥—É–ª—å 18 (ID: 18):
  - –£—Ä–æ–∫ 69: "–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—É—Å–Ω–æ–≥–æ Reels —Å –ø–æ–º–æ—â—å—é AI"
    Video: 7a045a57-371d-4268-8a03-9829b7526b54 (1 —Å–µ–∫)
```

### 1.2 –¢–µ—Å—Ç: –û—Ç–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–∫–∞

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å https://onai.academy/tripwire/dashboard
2. –ù–∞–π—Ç–∏ –ú–æ–¥—É–ª—å 1 (ID: 16)
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —É—Ä–æ–∫ "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏"
4. **–û–ñ–ò–î–ê–ï–ú:**
   - –£—Ä–æ–∫ –æ—Ç–∫—Ä—ã–ª—Å—è ‚úÖ
   - –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è ‚úÖ
   - Bunny.net Player —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è ‚úÖ

**DevTools –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- Network ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ Bunny CDN
- Console ‚Üí –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫
- Application ‚Üí LocalStorage ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

### 1.3 –¢–µ—Å—Ç: –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å

**–®–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏–¥–µ–æ —É—Ä–æ–∫–∞
2. –î–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ –∫–æ–Ω—Ü–∞ (–∏–ª–∏ –¥–æ 80%+)
3. **–û–ñ–ò–î–ê–ï–ú:**
   - Progress bar –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚úÖ
   - API –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ `video_tracking` ‚úÖ
   - –£—Ä–æ–∫ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ "completed" ‚úÖ

**SQL –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞):**
```sql
SELECT * FROM video_tracking 
WHERE user_id = '<—Ç–≤–æ–π_user_id>' 
ORDER BY updated_at DESC;
```

---

### 1.4 –¢–µ—Å—Ç: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–æ–¥—É–ª—è

**–®–∞–≥–∏:**
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ 67 (–ú–æ–¥—É–ª—å 1)
2. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—å –ú–æ–¥—É–ª—å 2 (—É—Ä–æ–∫ 68)
3. **–û–ñ–ò–î–ê–ï–ú:**
   - –ú–æ–¥—É–ª—å 2 **—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω** ‚úÖ
   - –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä ‚úÖ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç):**
- –ú–æ–¥—É–ª—å 2 **–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω** –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ú–æ–¥—É–ª—è 1 üîí

---

## üéì TEST SUITE 2: –°–ï–†–¢–ò–§–ò–ö–ê–¢–´

### 2.1 –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

**–£—Å–ª–æ–≤–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
```typescript
const isEligibleForCertificate = modules_completed >= 3;
```

**3 —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
1. **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω** (< 3 –º–æ–¥—É–ª–µ–π) üîí
2. **–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å** (3 –º–æ–¥—É–ª—è, –Ω–æ PDF –Ω–µ—Ç) ‚úÖ ‚Üí –∫–Ω–æ–ø–∫–∞ "–ü–û–õ–£–ß–ò–¢–¨"
3. **–í—ã–¥–∞–Ω** (3 –º–æ–¥—É–ª—è + PDF –µ—Å—Ç—å) ‚úÖ ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–ö–ê–ß–ê–¢–¨"

---

### 2.2 –¢–µ—Å—Ç: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (0/3 –º–æ–¥—É–ª–µ–π)

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å Dashboard
2. –ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é "–°–ï–†–¢–ò–§–ò–ö–ê–¢"
3. **–û–ñ–ò–î–ê–ï–ú:**
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ **blur** (—Ä–∞–∑–º—ã—Ç) üîí
   - –¢–µ–∫—Å—Ç: "/// –ó–ê–í–ï–†–®–ò–¢–ï –í–°–ï –ú–û–î–£–õ–ò –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø" ‚úÖ
   - –ö–Ω–æ–ø–∫–∞ "–ü–û–õ–£–ß–ò–¢–¨" **–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞** ‚ùå
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: "0 / 3 –º–æ–¥—É–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ" ‚úÖ

---

### 2.3 –¢–µ—Å—Ç: –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (3/3 –º–æ–¥—É–ª–µ–π)

**–®–∞–≥–∏:**
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ 3 —É—Ä–æ–∫–∞ (67, 68, 69)
2. –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ Dashboard
3. **–û–ñ–ò–î–ê–ï–ú:**
   - üéâ –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (3 —Å–µ–∫) ‚úÖ
   - –¢–µ–∫—Å—Ç: "–°–ï–†–¢–ò–§–ò–ö–ê–¢ –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ê–ù!" ‚úÖ
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±–æ–ª—å—à–µ –Ω–µ blur ‚úÖ
   - –ö–Ω–æ–ø–∫–∞ "–ü–û–õ–£–ß–ò–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢" **–∞–∫—Ç–∏–≤–Ω–∞** ‚úÖ

---

### 2.4 –¢–µ—Å—Ç: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å Progress Bar

**–®–∞–≥–∏:**
1. –ö–ª–∏–∫–Ω—É—Ç—å "–ü–û–õ–£–ß–ò–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢"
2. **–û–ñ–ò–î–ê–ï–ú:**
   - Progress bar –ø–æ—è–≤–∏–ª—Å—è ‚úÖ
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: 0% ‚Üí 10% ‚Üí 25% ‚Üí 50% ‚Üí 75% ‚Üí 90% ‚Üí 100% ‚úÖ
   - –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã –º–µ–Ω—è—é—Ç—Å—è:
     - "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–∞..." (10%)
     - "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞..." (20%)
     - "–°–æ–∑–¥–∞–Ω–∏–µ PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞..." (25-50%)
     - "–ó–∞–≥—Ä—É–∑–∫–∞ –≤ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ..." (60%)
     - "–ì–æ—Ç–æ–≤–æ! üéâ" (100%)
   - –ü–æ—Å–ª–µ 100% –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "–°–ö–ê–ß–ê–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢" ‚úÖ

**DevTools –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- Network ‚Üí **SSE stream** –∫ `/api/tripwire/certificates/issue-stream` ‚úÖ
- Console ‚Üí –ª–æ–≥–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º: `üìä [SSE] 25% - –°–æ–∑–¥–∞–Ω–∏–µ PDF...` ‚úÖ
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ ‚ùå

**–ß–ê–°–¢–´–ï –ë–ê–ì–ò:**
- ‚ùå Progress bar –∑–∞—Å—Ç—Ä—è–ª –Ω–∞ 0%
- ‚ùå SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞–ª–æ—Å—å
- ‚ùå PDF –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –≤ Supabase Storage
- ‚ùå –û—à–∏–±–∫–∞: "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ..."

---

### 2.5 –¢–µ—Å—Ç: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

**–®–∞–≥–∏:**
1. –ö–ª–∏–∫–Ω—É—Ç—å "–°–ö–ê–ß–ê–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢"
2. **–û–ñ–ò–î–ê–ï–ú:**
   - PDF —Ñ–∞–π–ª —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é ‚úÖ
   - –ò–º—è —Ñ–∞–π–ª–∞: `Certificate-{–ò–ú–Ø}.pdf` ‚úÖ
   - PDF –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ PDF —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:**
- –¢–≤–æ–µ –∏–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞: "–ò–ù–¢–ï–ì–†–ê–¢–û–† (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)" ‚úÖ
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è ‚úÖ
- –ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞: `TW-USER-XXXXXXXX-NNNNNN` ‚úÖ
- –ü–æ–¥–ø–∏—Å–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ –≤–∏–¥–Ω—ã ‚úÖ
- –õ–æ–≥–æ—Ç–∏–ø onAI Academy –≤–∏–¥–µ–Ω ‚úÖ

---

### 2.6 –¢–µ—Å—Ç: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

**–®–∞–≥–∏:**
1. –°–Ω–æ–≤–∞ –∫–ª–∏–∫–Ω—É—Ç—å "–ü–û–õ–£–ß–ò–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢" (–∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É)
2. **–û–ñ–ò–î–ê–ï–ú:**
   - Progress bar **–º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ** 100% ‚úÖ
   - –°–æ–æ–±—â–µ–Ω–∏–µ: "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É–∂–µ –≥–æ—Ç–æ–≤!" ‚úÖ
   - –ö–Ω–æ–ø–∫–∞ "–°–ö–ê–ß–ê–¢–¨" –∞–∫—Ç–∏–≤–Ω–∞ —Å—Ä–∞–∑—É ‚úÖ

**Backend –ª–æ–≥–∏–∫–∞:**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–∫—ç—à)
if (existing?.pdf_url) {
  return { progress: 100, cached: true };
}
```

---

### 2.7 –¢–µ—Å—Ç: –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–¥–ª—è –ø–µ—á–∞—Ç–∏)

**URL —Ñ–æ—Ä–º–∞—Ç:**
```
https://onai.academy/tripwire/certificate/{CERTIFICATE_NUMBER}
```

**–®–∞–≥–∏:**
1. –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `TW-USER-31E5D5E5-666609`)
2. –û—Ç–∫—Ä—ã—Ç—å: https://onai.academy/tripwire/certificate/TW-USER-31E5D5E5-666609
3. **–û–ñ–ò–î–ê–ï–ú:**
   - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è A4-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ ‚úÖ
   - –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–¥–Ω—ã (–∏–º—è, –¥–∞—Ç–∞, –Ω–æ–º–µ—Ä) ‚úÖ
   - –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å Print (Ctrl+P / Cmd+P) ‚úÖ
   - –ú–æ–∂–Ω–æ "Save as PDF" ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—á–∞—Ç–∏:**
- Layout: A4 Landscape (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π) ‚úÖ
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–ª–µ–∑–∞—é—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚úÖ
- –¶–≤–µ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ ‚úÖ

---

## üìà TEST SUITE 3: –ü–†–û–ì–†–ï–°–° –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### 3.1 –¢–µ—Å—Ç: –ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ—Ñ–∏–ª—è

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å Dashboard
2. –ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é "–ü–†–û–ì–†–ï–°–°"
3. **–û–ñ–ò–î–ê–ï–ú:**
   - –ú–æ–¥—É–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ: `X / 3` ‚úÖ
   - Completion percentage: `X%` ‚úÖ
   - Progress bar –≤–∏–∑—É–∞–ª—å–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω ‚úÖ

**SQL –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
SELECT * FROM tripwire_user_profile 
WHERE user_id = '<—Ç–≤–æ–π_user_id>';
```

---

### 3.2 –¢–µ—Å—Ç: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (Achievements)

**–®–∞–≥–∏:**
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å –º–æ–¥—É–ª—å 1
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
3. **–û–ñ–ò–î–ê–ï–ú:**
   - Achievement notification –ø–æ—è–≤–∏–ª–∞—Å—å ‚úÖ
   - Badge –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ ‚úÖ
   - Sound effect (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚úÖ

**SQL –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
SELECT * FROM user_achievements 
WHERE user_id = '<—Ç–≤–æ–π_user_id>'
ORDER BY created_at DESC;
```

---

## üîÑ TEST SUITE 4: EDGE CASES

### 4.1 –¢–µ—Å—Ç: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**–®–∞–≥–∏:**
1. Logout
2. Login —Å–Ω–æ–≤–∞
3. **–û–ñ–ò–î–ê–ï–ú:**
   - –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω ‚úÖ
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Å–µ –µ—â–µ –¥–æ—Å—Ç—É–ø–µ–Ω ‚úÖ
   - –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏ –ø–æ–º–µ—á–µ–Ω—ã ‚úÖ

---

### 4.2 –¢–µ—Å—Ç: –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å Dashboard –≤ 2 –≤–∫–ª–∞–¥–∫–∞—Ö
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ –≤ –æ–¥–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
3. –û–±–Ω–æ–≤–∏—Ç—å –≤—Ç–æ—Ä—É—é –≤–∫–ª–∞–¥–∫—É (F5)
4. **–û–ñ–ò–î–ê–ï–ú:**
   - –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω ‚úÖ
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–µ—Ç ‚úÖ

---

### 4.3 –¢–µ—Å—Ç: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ 2+ —Ä–∞–∑–∞ (race condition)

**–®–∞–≥–∏:**
1. –ö–ª–∏–∫–Ω—É—Ç—å "–ü–û–õ–£–ß–ò–¢–¨" –¥–≤–∞–∂–¥—ã –±—ã—Å—Ç—Ä–æ
2. **–û–ñ–ò–î–ê–ï–ú:**
   - –ö–Ω–æ–ø–∫–∞ **disabled** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞ ‚úÖ
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –û–î–ò–ù —Ä–∞–∑ ‚úÖ
   - –ù–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥—É–±–ª–∏–∫–∞—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ ‚úÖ

---

## ‚ùå –ò–ó–í–ï–°–¢–ù–´–ï –ë–ê–ì–ò (–ö–û–¢–û–†–´–ï –ú–û–ì–£–¢ –°–õ–û–ú–ê–¢–¨–°–Ø)

### 1. SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º—ã:**
- Progress bar –∑–∞—Å—Ç—Ä—è–ª –Ω–∞ X%
- –û—à–∏–±–∫–∞ –≤ Console: "Failed to fetch"

**–ü—Ä–∏—á–∏–Ω—ã:**
- Nginx timeout (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60 —Å–µ–∫)
- Cloudflare timeout
- Backend crash

**Fix:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `pm2 logs onai-backend`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `pm2 restart onai-backend`

---

### 2. PDF –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Supabase Storage
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞: "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ..."
- Progress bar –¥–æ—à–µ–ª –¥–æ 60% –∏ —É–ø–∞–ª

**–ü—Ä–∏—á–∏–Ω—ã:**
- Supabase Storage bucket –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- RLS policy –±–ª–æ–∫–∏—Ä—É–µ—Ç upload

**Fix:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å bucket
SELECT * FROM storage.buckets WHERE name = 'tripwire-certificates';

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏
SELECT * FROM storage.policies WHERE bucket_id = 'tripwire-certificates';
```

---

### 3. –í–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (Bunny CDN)
**–°–∏–º–ø—Ç–æ–º—ã:**
- –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –≤–º–µ—Å—Ç–æ –≤–∏–¥–µ–æ
- –û—à–∏–±–∫–∞: "Failed to load video"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `bunny_video_id`
- Bunny CDN API key –∏—Å—Ç–µ–∫

**Fix:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å video ID –≤ –ë–î
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `BUNNY_CDN_API_KEY` –≤ `.env`

---

## üìù –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï–ú

- [ ] Backend online: `pm2 status` ‚Üí `onai-backend: online` ‚úÖ
- [ ] Database –¥–æ—Å—Ç—É–ø–Ω–∞: `psql -h ... -U postgres` ‚úÖ
- [ ] –£—Ä–æ–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î (3 —É—Ä–æ–∫–∞) ‚úÖ
- [ ] Bunny CDN –≤–∏–¥–µ–æ –¥–æ—Å—Ç—É–ø–Ω—ã ‚úÖ
- [ ] Supabase Storage bucket `tripwire-certificates` –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ
- [ ] Email/SMS –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

---

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (MUST HAVE):
- ‚úÖ –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£—Ä–æ–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∏ –≤–∏–¥–µ–æ –∏–≥—Ä–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (—Å progress bar)
- ‚úÖ PDF —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (NICE TO HAVE):
- ‚úÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üì∏ –°–ö–†–ò–ù–®–û–¢–´ –î–õ–Ø –û–¢–ß–ï–¢–ê

1. Dashboard (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
2. –£—Ä–æ–∫ —Å –≤–∏–¥–µ–æ (Bunny Player)
3. –°–µ–∫—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
4. Progress bar –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (50%)
5. –ì–æ—Ç–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∫–Ω–æ–ø–∫–∞ –°–ö–ê–ß–ê–¢–¨)
6. PDF —Ñ–∞–π–ª (–æ—Ç–∫—Ä—ã—Ç—ã–π)
7. –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

---

## üöÄ –ù–ê–ß–ê–õ–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?** 

1. –û—Ç–∫—Ä–æ–π https://onai.academy/tripwire/login
2. –õ–æ–≥–∏–Ω: smmmcwin@gmail.com
3. Phone: +7 777 3886880
4. –°–ª–µ–¥—É–π –ø–ª–∞–Ω—É –≤—ã—à–µ

**–î–∞–π –º–Ω–µ –∑–Ω–∞—Ç—å –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤, –∏ —è –±—É–¥—É —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!** üéØ
