-- üéØ –ü–†–û–°–¢–û–ï –°–û–ó–î–ê–ù–ò–ï –ê–î–ú–ò–ù–ê (–£–ù–ò–í–ï–†–°–ê–õ–¨–ù–û)
-- –í—ã–ø–æ–ª–Ω–∏ –≤ Supabase Dashboard ‚Üí SQL Editor
-- –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –õ–Æ–ë–û–ô —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã!

-- ============================================================
-- –®–ê–ì 1: –ü–û–ö–ê–ó–ê–¢–¨ –í–°–ï EMAIL –ò–ó public.users
-- ============================================================

SELECT 
  email,
  created_at
FROM public.users
ORDER BY created_at DESC;

-- ============================================================
-- –®–ê–ì 2: –í–´–ë–ï–†–ò EMAIL –ò –û–ë–ù–û–í–ò –ï–ì–û –†–û–õ–¨
-- ============================================================

-- –°–ü–û–°–û–ë 1: –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞ "role"
-- –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –∑–∞–º–µ–Ω–∏ email:

/*
UPDATE public.users 
SET role = 'admin'
WHERE email = '–ó–ê–ú–ï–ù–ò_–ù–ê_–ù–£–ñ–ù–´–ô_EMAIL@gmail.com';
*/

-- –°–ü–û–°–û–ë 2: –ï—Å–ª–∏ –ù–ï–¢ –∫–æ–ª–æ–Ω–∫–∏ "role", –¥–æ–±–∞–≤–∏–º –µ—ë!
-- –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:

/*
-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–æ–Ω–∫—É role –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
ALTER TABLE public.users 
ADD COLUMN IF NOT EXISTS role TEXT DEFAULT 'student';

-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–æ–Ω–∫—É is_ceo –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç  
ALTER TABLE public.users
ADD COLUMN IF NOT EXISTS is_ceo BOOLEAN DEFAULT false;

-- –¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ–º —Ä–æ–ª—å
UPDATE public.users 
SET 
  role = 'admin',
  is_ceo = true
WHERE email = '–ó–ê–ú–ï–ù–ò_–ù–ê_–ù–£–ñ–ù–´–ô_EMAIL@gmail.com';
*/

-- ============================================================
-- –®–ê–ì 3: –ü–†–û–í–ï–†–ö–ê - –ö—Ç–æ —Ç–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω?
-- ============================================================

-- –ü—Ä–æ–≤–µ—Ä—å –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ
SELECT column_name 
FROM information_schema.columns 
WHERE table_name = 'users' AND table_schema = 'public';

-- –ü–æ–∫–∞–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–±–Ω–æ–≤–∏–ª
SELECT * 
FROM public.users 
WHERE email = '–ó–ê–ú–ï–ù–ò_–ù–ê_–ù–£–ñ–ù–´–ô_EMAIL@gmail.com';

-- ============================================================
-- ‚úÖ –ò–ù–°–¢–†–£–ö–¶–ò–Ø:
-- ============================================================
-- 
-- 1. –ó–∞–ø—É—Å—Ç–∏ –®–ê–ì 1 - –ø–æ—Å–º–æ—Ç—Ä–∏ —Å–ø–∏—Å–æ–∫ email
-- 2. –í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–π email
-- 3. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –°–ü–û–°–û–ë 1 –∏–ª–∏ 2 (—Å–º–æ—Ç—Ä—è —á—Ç–æ –Ω—É–∂–Ω–æ)
-- 4. –ó–∞–º–µ–Ω–∏ email –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π
-- 5. –ó–∞–ø—É—Å—Ç–∏ —Å–Ω–æ–≤–∞
-- 6. –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ –®–ê–ì 3
-- 7. –ü–æ–ø—Ä–æ–±—É–π –≤–æ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç —Å —ç—Ç–∏–º email

