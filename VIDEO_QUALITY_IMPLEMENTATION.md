# üé¨ –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –ö–ê–ß–ï–°–¢–í–ê –í–ò–î–ï–û - –ü–õ–ê–ù

## üéØ –¶–ï–õ–¨:
–î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä –∫–∞—á–µ—Å—Ç–≤–∞ –≤–∏–¥–µ–æ: 480p, 720p, 1080p, 2K (–µ—Å–ª–∏ –≤–∏–¥–µ–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç)

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ Cloudflare R2 –∫–∞–∫ **–û–î–ò–ù —Ñ–∞–π–ª**
- –ù–µ—Ç —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π (480p, 720p, 1080p)
- –î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –Ω—É–∂–Ω—ã **–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –≤–∏–¥–µ–æ**

---

## üîÑ –í–ê–†–ò–ê–ù–¢–´ –†–ï–®–ï–ù–ò–Ø:

### –í–∞—Ä–∏–∞–Ω—Ç A: Cloudflare Stream (–†–ï–ö–û–ú–ï–ù–î–£–Æ) üí∞

**–ü–ª—é—Å—ã:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (480p, 720p, 1080p, 4K)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç (HLS/DASH)
- ‚úÖ –ì–æ—Ç–æ–≤—ã–π –ø–ª–µ–µ—Ä —Å –≤—ã–±–æ—Ä–æ–º –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ CDN –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ç—Ä–∞–Ω—Å–∫–æ–¥–µ—Ä

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ü–ª–∞—Ç–Ω–æ: $1 –∑–∞ 1000 –º–∏–Ω—É—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ + $5 –∑–∞ 1000 –º–∏–Ω—É—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚ùå –ù—É–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å R2 –Ω–∞ Stream

**–°—Ç–æ–∏–º–æ—Å—Ç—å (–ø—Ä–∏–º–µ—Ä–Ω–æ):**
- 100 —É—Ä–æ–∫–æ–≤ –ø–æ 10 –º–∏–Ω—É—Ç = 1000 –º–∏–Ω—É—Ç = $5/–º–µ—Å—è—Ü —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- 1000 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ = 10,000 –º–∏–Ω—É—Ç = $10
- **–ò—Ç–æ–≥–æ: ~$15-20/–º–µ—Å—è—Ü**

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ó–∞–≥—Ä—É–∂–∞–µ—à—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Stream API
2. Stream –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç 480p, 720p, 1080p
3. –ü–æ–ª—É—á–∞–µ—à—å video_id
4. –í—Å—Ç—Ä–∞–∏–≤–∞–µ—à—å –≥–æ—Ç–æ–≤—ã–π –ø–ª–µ–µ—Ä —Å –≤—ã–±–æ—Ä–æ–º –∫–∞—á–µ—Å—Ç–≤–∞

---

### –í–∞—Ä–∏–∞–Ω—Ç B: FFmpeg —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Backend üõ†Ô∏è

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–∫—Ä–æ–º–µ —Å–µ—Ä–≤–µ—Ä–∞)
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –•—Ä–∞–Ω–∏–º –Ω–∞ —Å–≤–æ–µ–º R2

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å FFmpeg –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ùå –¢—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è (5-10 –º–∏–Ω—É—Ç –Ω–∞ –≤–∏–¥–µ–æ)
- ‚ùå –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU —Å–µ—Ä–≤–µ—Ä–∞
- ‚ùå –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å 3-4 –≤–µ—Ä—Å–∏–∏ –≤–∏–¥–µ–æ (–º–µ—Å—Ç–æ x3-4)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. Backend –ø–æ–ª—É—á–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ
2. FFmpeg —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä—É–µ—Ç –≤ 480p, 720p, 1080p
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞ R2
4. Frontend –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

---

### –í–∞—Ä–∏–∞–Ω—Ç C: –¢–æ–ª—å–∫–æ UI (–ø–æ–∫–∞) - –ë–ï–ó–û–ü–ê–°–ù–û ‚úÖ

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è
- ‚úÖ UI –≥–æ—Ç–æ–≤ –∫ –±—É–¥—É—â–µ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ü–æ–∫–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ (–æ—Ä–∏–≥–∏–Ω–∞–ª)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ UI
2. –ü–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ê–≤—Ç–æ" (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ)
3. –ü–æ—Ç–æ–º –¥–æ–±–∞–≤–∏–º —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üéØ –ú–û–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:

### –≠–¢–ê–ü 1: UI –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (–°–ï–ô–ß–ê–°) ‚úÖ

–î–æ–±–∞–≤–ª—é –∫–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ –ø–ª–µ–µ—Ä, –Ω–æ –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ "–ê–≤—Ç–æ" (–æ—Ä–∏–≥–∏–Ω–∞–ª).

**–ü–ª—é—Å:**
- –ù–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è
- UI –≥–æ—Ç–æ–≤
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –µ—Å—Ç—å

### –≠–¢–ê–ü 2: –†–µ—à–∏—Ç—å –ø—Ä–æ —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ü–û–¢–û–ú)

–¢—ã –≤—ã–±–∏—Ä–∞–µ—à—å:
- **Cloudflare Stream** ($15-20/–º–µ—Å, –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
- **FFmpeg –Ω–∞ backend** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ)

---

## üí° –ß–¢–û –Ø –ü–†–ï–î–õ–ê–ì–ê–Æ –°–î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°:

### 1Ô∏è‚É£ –î–æ–±–∞–≤–ª—é –∫–Ω–æ–ø–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ –≤ –ø–ª–µ–µ—Ä

```tsx
// –í Lesson.tsx
<div className="quality-selector">
  <button>–ö–∞—á–µ—Å—Ç–≤–æ: –ê–≤—Ç–æ</button>
  {/* –ü–æ–∑–∂–µ: 480p, 720p, 1080p */}
</div>
```

### 2Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–ª—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –±—É–¥—É—â–µ–≥–æ

```typescript
// Backend: lessons table
video_url: string           // –û—Ä–∏–≥–∏–Ω–∞–ª
video_url_480p?: string     // –ë—É–¥—É—â–µ–µ
video_url_720p?: string     // –ë—É–¥—É—â–µ–µ
video_url_1080p?: string    // –ë—É–¥—É—â–µ–µ
```

### 3Ô∏è‚É£ –°–¥–µ–ª–∞—é —Ç–∞–∫ —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å

- ‚úÖ –¢–µ–∫—É—â–∏–µ –≤–∏–¥–µ–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ UI –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∑–∞–≥—Ä—É–∑–∫–µ (–ø–æ–∫–∞)

---

## ü§î –ß–¢–û –í–´–ë–ò–†–ê–ï–®–¨?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–ª—è—é —Ç–æ–ª—å–∫–æ UI (–ë–ï–ó–û–ü–ê–°–ù–û)
```
‚úÖ –ö–Ω–æ–ø–∫–∞ "–ö–∞—á–µ—Å—Ç–≤–æ: –ê–≤—Ç–æ" –≤ –ø–ª–µ–µ—Ä–µ
‚úÖ –ù–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è
‚è≥ –¢—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–∏–º –ø–æ—Ç–æ–º
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Cloudflare Stream (–ü–õ–ê–¢–ù–û –Ω–æ –ì–û–¢–û–í–û)
```
üí∞ $15-20/–º–µ—Å—è—Ü
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (480p, 720p, 1080p)
‚úÖ –ì–æ—Ç–æ–≤—ã–π –ø–ª–µ–µ—Ä
‚ö†Ô∏è –ù—É–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ —Å R2 –Ω–∞ Stream
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: FFmpeg —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–°–õ–û–ñ–ù–û –Ω–æ –ë–ï–°–ü–õ–ê–¢–ù–û)
```
üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg –Ω–∞ —Å–µ—Ä–≤–µ—Ä
‚è≥ –¢—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ 5-10 –º–∏–Ω—É—Ç –Ω–∞ –≤–∏–¥–µ–æ
üíæ x3-4 –º–µ—Å—Ç–∞ –Ω–∞ R2
‚öôÔ∏è –°–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```

---

## üìã –¢–í–û–ô –í–´–ë–û–†:

–ù–∞–ø–∏—à–∏ –º–Ω–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

**A)** –¢–æ–ª—å–∫–æ UI —Å–µ–π—á–∞—Å, —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–º
**B)** Cloudflare Stream (–ø–ª–∞—Ç–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç)
**C)** FFmpeg —Ç—Ä–∞–Ω—Å–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–ª–æ–∂–Ω–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

---

## üöÄ –ï–°–õ–ò –í–´–ë–ï–†–ï–®–¨ "–ê" - –°–î–ï–õ–ê–Æ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:

1. –î–æ–±–∞–≤–ª—é –∫–Ω–æ–ø–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ –≤ –ø–ª–µ–µ—Ä
2. –ü–æ–∫–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "–ê–≤—Ç–æ" (–æ—Ä–∏–≥–∏–Ω–∞–ª)
3. –ù–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è
4. UI –≥–æ—Ç–æ–≤ –∫ –±—É–¥—É—â–µ–º—É

**–í—Ä–µ–º—è: 10-15 –º–∏–Ω—É—Ç**

---

## üí° –ï–°–õ–ò –í–´–ë–ï–†–ï–®–¨ "B" (Stream):

1. –°–æ–∑–¥–∞–º –∞–∫–∫–∞—É–Ω—Ç Cloudflare Stream
2. –ù–∞—Å—Ç—Ä–æ—é Stream API –∫–ª—é—á–∏
3. –ò–∑–º–µ–Ω—é backend –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Stream
4. –í—Å—Ç—Ä–æ—é –≥–æ—Ç–æ–≤—ã–π Stream –ø–ª–µ–µ—Ä
5. –ú–∏–≥—Ä–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–∏–¥–µ–æ

**–í—Ä–µ–º—è: 1-2 —á–∞—Å–∞ + –º–∏–≥—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ**

---

## üõ†Ô∏è –ï–°–õ–ò –í–´–ë–ï–†–ï–®–¨ "C" (FFmpeg):

1. –£—Å—Ç–∞–Ω–æ–≤–∏–º FFmpeg –Ω–∞ DigitalOcean
2. –°–æ–∑–¥–∞–º —Ç—Ä–∞–Ω—Å–∫–æ–¥–µ—Ä –Ω–∞ backend
3. –ù–∞—Å—Ç—Ä–æ—é –æ—á–µ—Ä–µ–¥–∏ (Bull/RabbitMQ)
4. –ò–∑–º–µ–Ω—é UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—á–µ—Å—Ç–≤–∞
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º

**–í—Ä–µ–º—è: 3-4 —á–∞—Å–∞ + —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

---

# ü§î –ß–¢–û –í–´–ë–ò–†–ê–ï–®–¨? –ù–ê–ü–ò–®–ò A, B –ò–õ–ò C!

