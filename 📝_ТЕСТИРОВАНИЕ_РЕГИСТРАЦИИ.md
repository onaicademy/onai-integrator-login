# üìù –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –ù–û–í–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

## üéØ –¶–ï–õ–¨ –¢–ï–°–¢–ê:
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç:
1. ‚úÖ –í–æ–π—Ç–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
2. ‚úÖ –í–∏–¥–µ—Ç—å –∫—É—Ä—Å—ã, –ø—Ä–æ—Ñ–∏–ª—å, —Å–æ–æ–±—â–µ–Ω–∏—è
3. ‚ùå –ù–ï –≤–∏–¥–µ—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

## üß™ –¢–ï–°–¢ 1: –°–û–ó–î–ê–¢–¨ –°–¢–£–î–ï–ù–¢–ê –ß–ï–†–ï–ó DASHBOARD

### –®–ê–ì 1: –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û—Ç–∫—Ä–æ–π:**
```
https://supabase.com/dashboard/project/capdjvokjdivxjfdddmx/auth/users
```

**–ù–∞–∂–º–∏: "+ Add user" ‚Üí "Create new user"**

**–ó–∞–ø–æ–ª–Ω–∏:**
```
Email: test.student@gmail.com
Password: Test1234!
‚úÖ Auto Confirm User (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
```

**–ù–∞–∂–º–∏: "Create user"**

---

### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–ª—Å—è –≤ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö

**–í—ã–ø–æ–ª–Ω–∏ SQL:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ auth.users
SELECT id, email, email_confirmed_at 
FROM auth.users 
WHERE email = 'test.student@gmail.com';

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ public.users (–¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)
SELECT id, email, role 
FROM public.users 
WHERE email = 'test.student@gmail.com';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ï—Å—Ç—å –≤ `auth.users` —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º email
- ‚è≥ –ú–æ–∂–µ—Ç –µ—â—ë –ù–ï–¢ –≤ `public.users` (—Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)

---

### –®–ê–ì 3: –í–æ–π–¥–∏ –Ω–∞ —Å–∞–π—Ç –ø–æ–¥ —ç—Ç–∏–º —Å—Ç—É–¥–µ–Ω—Ç–æ–º

1. **–û—Ç–∫—Ä–æ–π –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ:** `https://onai.academy`
2. **–í–æ–π–¥–∏:**
   ```
   Email: test.student@gmail.com
   Password: Test1234!
   ```

**–î–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
- ‚úÖ –í—Ö–æ–¥ —É—Å–ø–µ—à–µ–Ω
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/courses`
- ‚úÖ –í Console: "‚úÖ –í–•–û–î –£–°–ü–ï–®–ï–ù"

---

### –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å—Ç—É–¥–µ–Ω—Ç —Å–æ–∑–¥–∞–ª—Å—è –≤ public.users

**–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –≤—ã–ø–æ–ª–Ω–∏ SQL:**
```sql
SELECT id, email, role 
FROM public.users 
WHERE email = 'test.student@gmail.com';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
email: test.student@gmail.com
role: student (–∏–ª–∏ NULL)
```

---

### –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø—ã —Å—Ç—É–¥–µ–Ω—Ç–∞

**–î–æ–ª–∂–Ω—ã –†–ê–ë–û–¢–ê–¢–¨ (–¥–æ—Å—Ç—É–ø–Ω—ã):**
- ‚úÖ `/courses` - –ö—É—Ä—Å—ã
- ‚úÖ `/profile` - –ü—Ä–æ—Ñ–∏–ª—å
- ‚úÖ `/messages` - –°–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ `/neurohub` - –ù–µ–π—Ä–æ—Ö–∞–±
- ‚úÖ `/achievements` - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- ‚úÖ `/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏

**–î–æ–ª–∂–Ω—ã –ù–ï –†–ê–ë–û–¢–ê–¢–¨ (—Ä–µ–¥–∏—Ä–µ–∫—Ç –∏–ª–∏ 403):**
- ‚ùå `/admin` - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
- ‚ùå `/admin/activity` - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚ùå `/admin/students-activity` - –°—Ç—É–¥–µ–Ω—Ç—ã

**–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞:**

–í –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ –ø–æ–ø—Ä–æ–±—É–π –æ—Ç–∫—Ä—ã—Ç—å:
```
https://onai.academy/admin
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/access-denied` –∏–ª–∏ `/courses`
- –ò–õ–ò –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –∞–¥–º–∏–Ω–∫–∏

---

## üß™ –¢–ï–°–¢ 2: –ü–†–û–í–ï–†–ò–¢–¨ –ß–¢–û –¢–û–õ–¨–ö–û –¢–´ –ê–î–ú–ò–ù

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ—é —Ä–æ–ª—å

**–í—ã–ø–æ–ª–Ω–∏ SQL:**
```sql
SELECT email, role 
FROM public.users 
WHERE email = 'saint@onaiacademy.kz';
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
email: saint@onaiacademy.kz
role: admin
```

---

### –®–ê–ì 2: –í–æ–π–¥–∏ –ø–æ–¥ —Å–≤–æ–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º

1. **–û—Ç–∫—Ä–æ–π –æ–±—ã—á–Ω–æ–µ –æ–∫–Ω–æ:** `https://onai.academy`
2. **–í–æ–π–¥–∏:**
   ```
   Email: saint@onaiacademy.kz
   Password: Onai2134!
   ```

---

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ

**–ü–æ–ø—Ä–æ–±—É–π –æ—Ç–∫—Ä—ã—Ç—å:**
```
https://onai.academy/admin
```

**–î–æ–ª–∂–Ω–æ:**
- ‚úÖ –ü–æ–∫–∞–∑–∞—Ç—å—Å—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –í–∏–¥–Ω—ã –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã –∞–¥–º–∏–Ω–∫–∏
- ‚úÖ –ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏

---

## üß™ –¢–ï–°–¢ 3: –°–û–ó–î–ê–¢–¨ –°–¢–£–î–ï–ù–¢–ê –ß–ï–†–ï–ó –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ (–ï–°–õ–ò –ï–°–¢–¨)

–ï—Å–ª–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:

1. **–í–æ–π–¥–∏ –∫–∞–∫ –∞–¥–º–∏–Ω**
2. **–ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏**
3. **–°–æ–∑–¥–∞–π –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞**
4. **–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏**

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –£–°–ü–ï–®–ù–û–ì–û –¢–ï–°–¢–ê:

- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ Dashboard
- [ ] –°—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
- [ ] –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å–æ–∑–¥–∞–ª–∞—Å—å –∑–∞–ø–∏—Å—å –≤ `public.users`
- [ ] –£ —Å—Ç—É–¥–µ–Ω—Ç–∞ `role = 'student'` –∏–ª–∏ `NULL`
- [ ] –°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç –∫—É—Ä—Å—ã –∏ –ø—Ä–æ—Ñ–∏–ª—å
- [ ] –°—Ç—É–¥–µ–Ω—Ç –ù–ï –≤–∏–¥–∏—Ç `/admin`
- [ ] –¢–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç `role = 'admin'`
- [ ] –¢—ã –≤–∏–¥–∏—à—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin`
- [ ] –î—Ä—É–≥–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –ù–ï –≤–∏–¥—è—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

## üêõ –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°—Ç—É–¥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏

**–ü—Ä–æ–≤–µ—Ä—å:**
```sql
SELECT email, email_confirmed_at 
FROM auth.users 
WHERE email = 'test.student@gmail.com';
```

–ï—Å–ª–∏ `email_confirmed_at = NULL`:
```sql
-- –í Dashboard ‚Üí Authentication ‚Üí Users
-- –ù–∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí "Confirm email"
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –°—Ç—É–¥–µ–Ω—Ç –Ω–µ —Å–æ–∑–¥–∞–ª—Å—è –≤ public.users

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–¥ –≤ `src/lib/supabase.ts` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–π –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL:
```sql
INSERT INTO public.users (id, email, role, created_at)
SELECT id, email, 'student', NOW()
FROM auth.users
WHERE email = 'test.student@gmail.com'
ON CONFLICT (id) DO NOTHING;
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–ü—Ä–æ–≤–µ—Ä—å —Ä–æ–ª—å:**
```sql
SELECT email, role FROM public.users WHERE email = 'test.student@gmail.com';
```

–ï—Å–ª–∏ `role = 'admin'`, –∏—Å–ø—Ä–∞–≤—å:
```sql
UPDATE public.users 
SET role = 'student' 
WHERE email = 'test.student@gmail.com';
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –¢—ã –ù–ï –≤–∏–¥–∏—à—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–ü—Ä–æ–≤–µ—Ä—å —Ä–æ–ª—å:**
```sql
SELECT email, role FROM public.users WHERE email = 'saint@onaiacademy.kz';
```

–ï—Å–ª–∏ –Ω–µ `admin`, –∏—Å–ø—Ä–∞–≤—å:
```sql
UPDATE public.users 
SET role = 'admin' 
WHERE email = 'saint@onaiacademy.kz';
```

–ü–æ—Ç–æ–º –ø–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ.

---

## üéØ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê:

**–í—ã–ø–æ–ª–Ω–∏ SQL —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö —Ä–æ–ª–∏:**

```sql
SELECT 
  u.email,
  u.role,
  au.email_confirmed_at IS NOT NULL as confirmed,
  au.last_sign_in_at
FROM public.users u
JOIN auth.users au ON au.id = u.id
ORDER BY u.created_at DESC;
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ –û–¥–∏–Ω email —Å `role = 'admin'` (—Ç–≤–æ–π)
- ‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å `role = 'student'` –∏–ª–∏ `NULL`
- ‚úÖ –í—Å–µ —Å `confirmed = true`

---

## üìä –û–¢–ß–Å–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò:

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–æ–ª–Ω–∏:

```
–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: ___________

–¢–ï–°–¢ 1 - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞:
[ ] PASSED / [ ] FAILED
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: ________________

–¢–ï–°–¢ 2 - –†–æ–ª—å –∞–¥–º–∏–Ω–∞:
[ ] PASSED / [ ] FAILED
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: ________________

–¢–ï–°–¢ 3 - –î–æ—Å—Ç—É–ø—ã —Å—Ç—É–¥–µ–Ω—Ç–∞:
[ ] PASSED / [ ] FAILED
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: ________________

–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [ ] –í–°–Å –†–ê–ë–û–¢–ê–ï–¢ / [ ] –ï–°–¢–¨ –ü–†–û–ë–õ–ï–ú–´
```

---

**–ù–ê–ß–ù–ò –° –¢–ï–°–¢–ê 1! –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å –≤—Å—ë –ø–æ —à–∞–≥–∞–º! üöÄ**

