# üöÄ –î–ï–ü–õ–û–ô –ù–ê PRODUCTION

## ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê:**

–¢—ã —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ **PRODUCTION** (api.onai.academy), –∞ –Ω–µ –Ω–∞ localhost!

Backend –Ω–∞ DigitalOcean **–ù–ï –û–ë–ù–û–í–õ–ï–ù** —Å –Ω–∞—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- Math.ceil –≤–º–µ—Å—Ç–æ Math.round
- video_content –∫–∞–∫ object

---

## üìã **–ù–£–ñ–ù–û –ó–ê–î–ï–ü–õ–û–ò–¢–¨:**

### –í–∞—Ä–∏–∞–Ω—Ç 1: –Ø –¥–µ–ª–∞—é —á–µ—Ä–µ–∑ SSH (–ù–ï –†–ê–ë–û–¢–ê–ï–¢ - –¢–ê–ô–ú–ê–£–¢)

SSH –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å –º–æ–µ–≥–æ IP. –ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–´ –î–ï–õ–ê–ï–®–¨ –í–†–£–ß–ù–£–Æ

–ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@188.166.22.89

# 2. –ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /root/onai-integrator-login

# 3. Pull –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
git pull origin main

# 4. –ü–µ—Ä–µ–π–¥–∏ –≤ backend
cd backend

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm install

# 6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ TypeScript
npm run build

# 7. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ PM2
pm2 reload onai-backend

# 8. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
pm2 status

# 9. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs onai-backend --lines 50
```

---

## ‚úÖ **–ü–û–°–õ–ï –î–ï–ü–õ–û–Ø –ü–†–û–í–ï–†–¨:**

1. –û—Ç–∫—Ä–æ–π: https://onai.academy/course/1/module/2
2. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: **"20 —Å–µ–∫—É–Ω–¥"** (–Ω–µ "0 –º–∏–Ω—É—Ç")
3. –ó–∞–≥—Ä—É–∑–∏ –µ—â—ë –≤–∏–¥–µ–æ –∏ –ø—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ—Å—á—ë—Ç

---

## üìä **–ß–¢–û –ë–£–î–ï–¢ –ó–ê–î–ï–ü–õ–û–ï–ù–û:**

### Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. `backend/src/routes/lessons.ts` - Math.ceil, video_content –∫–∞–∫ object
2. `backend/src/routes/videos.ts` - Math.ceil, –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. `backend/src/config/supabase.ts` - Authorization header

### Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è (Vercel auto-deploy –ø–æ—Å–ª–µ git push):
1. `src/pages/Module.tsx` - —Ä–∞—Å—á—ë—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–∫—É–Ω–¥/–º–∏–Ω—É—Ç/—á–∞—Å–æ–≤
2. `src/components/admin/LessonEditDialog.tsx` - onVideoUploaded callback

---

## üîë **–ï–°–õ–ò –ù–£–ñ–ï–ù SSH –î–û–°–¢–£–ü:**

–î–∞–π –º–Ω–µ:
1. IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å—Ç—å: 188.166.22.89)
2. SSH –∫–ª—é—á –∏–ª–∏ –ø–∞—Ä–æ–ª—å
3. –ò–ª–∏ –¥–æ–±–∞–≤—å –º–æ–π IP –≤ whitelist firewall

---

**–ü–æ–∫–∞ SSH –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –¥–µ–ø–ª–æ–π –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é!** üéØ

