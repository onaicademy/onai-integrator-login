# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —É—Ä–æ–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

## üî¥ –ü–†–û–ë–õ–ï–ú–ê:

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ **"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–∫"** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Ä–æ–∫–∞:
- ‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: **"–£—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è..."**
- ‚ùå –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: **"–î–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API"**
- ‚ùå –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–æ–±–ª–µ–º—ã:**
- –ü–æ–ª–µ "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞" –ø—É—Å—Ç–æ–µ –∏–ª–∏ —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–º
- –ü–æ–ª–µ "–û–ø–∏—Å–∞–Ω–∏–µ" —Å placeholder —Ç–µ–∫—Å—Ç–æ–º
- –ü–æ–ª–µ "–°–æ–≤–µ—Ç" –ø—É—Å—Ç–æ–µ

---

## üîç –ü–†–ò–ß–ò–ù–ê:

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API endpoint
**–ë—ã–ª–æ:**
```typescript
const lessonRes = await api.get(`/api/lessons/${lessonId}`);
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–∞–∫–æ–≥–æ —Ä–æ—É—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ backend!

**Backend —Ä–æ—É—Ç—ã:**
- ‚ùå `/api/lessons/${lessonId}` - –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ `/api/lessons/single/${lessonId}` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–æ—É—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —É—Ä–æ–∫–∞

### 2. Fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ
–ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–ø—Ä–æ—Å–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª fallback:
```typescript
catch (error) {
  setLesson({
    id: parseInt(lessonId!),
    module_id: parseInt(moduleId!),
    title: "–£—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...", // ‚ùå –≠—Ç–æ –∏ –≤–∏–¥–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!
    description: "–î–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API",
    duration_minutes: 0
  });
}
```

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï:

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω API endpoint

**–§–∞–π–ª:** `src/pages/Lesson.tsx`

**–ë—ã–ª–æ:**
```typescript
const lessonRes = await api.get(`/api/lessons/${lessonId}`);
```

**–°—Ç–∞–ª–æ:**
```typescript
const lessonRes = await api.get(`/api/lessons/single/${lessonId}`);
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –£–ª—É—á—à–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ LessonEditDialog

**–§–∞–π–ª:** `src/pages/Lesson.tsx`

**–ë—ã–ª–æ:**
```typescript
{isAdmin && (
  <LessonEditDialog
    open={editDialogOpen}
    onClose={() => setEditDialogOpen(false)}
    onSave={handleUpdateLesson}
    lesson={lesson && lesson.id ? {
      id: lesson.id,
      title: lesson.title || '',
      description: lesson.description || '',
      duration_minutes: lesson.duration_minutes || 0
    } : null}
    moduleId={parseInt(moduleId!)}
  />
)}
```

**–°—Ç–∞–ª–æ:**
```typescript
{isAdmin && lesson && (
  <LessonEditDialog
    open={editDialogOpen}
    onClose={() => {
      setEditDialogOpen(false);
      loadLessonData(); // ‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è
    }}
    onSave={handleUpdateLesson}
    lesson={lesson.id ? {
      id: lesson.id,
      title: lesson.title || '',
      description: lesson.description || '',
      duration_minutes: lesson.duration_minutes || 0,
      tip: (lesson as any).tip || '' // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å–æ–≤–µ—Ç –ø–æ —É—Ä–æ–∫—É
    } : null}
    moduleId={parseInt(moduleId!)}
  />
)}
```

**–£–ª—É—á—à–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `lesson &&` - –¥–∏–∞–ª–æ–≥ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —É—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `tip` –≤ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –¥–∏–∞–ª–æ–≥–∞ (`loadLessonData()`)

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

### –¢–µ—Å—Ç 1: –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. –û—Ç–∫—Ä–æ–π –ª—é–±–æ–π —É—Ä–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä: http://localhost:8080/course/1/module/1/lesson/18)
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–∫"** (—Å –∏–∫–æ–Ω–∫–æ–π ‚úèÔ∏è)
3. –î–∏–∞–ª–æ–≥ –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏:
   - ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞:** —Ä–µ–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –ë–î
   - ‚úÖ **–û–ø–∏—Å–∞–Ω–∏–µ:** —Ä–µ–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –ë–î
   - ‚úÖ **–°–æ–≤–µ—Ç –ø–æ —É—Ä–æ–∫—É:** –µ—Å–ª–∏ –±—ã–ª –∑–∞–ø–æ–ª–Ω–µ–Ω

### –¢–µ—Å—Ç 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
1. –ò–∑–º–µ–Ω–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞
2. –ò–∑–º–µ–Ω–∏ –æ–ø–∏—Å–∞–Ω–∏–µ
3. –ò–∑–º–µ–Ω–∏ —Å–æ–≤–µ—Ç
4. –ù–∞–∂–º–∏ **"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"**
5. –î–∏–∞–ª–æ–≥ –¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã—Ç—å—Å—è
6. –î–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è

### –¢–µ—Å—Ç 3: Console –ø—Ä–æ–≤–µ—Ä–∫–∞
–û—Ç–∫—Ä–æ–π Console (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:

**–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —É—Ä–æ–∫–∞:**
```
üìö –ó–∞–≥—Ä—É–∑–∫–∞ —É—Ä–æ–∫–∞: 18
‚úÖ GET /api/lessons/single/18 200 OK
üé¨ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –¥–ª—è —É—Ä–æ–∫–∞: 18
üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è —É—Ä–æ–∫–∞: 18
```

**–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –¥–∏–∞–ª–æ–≥–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
üî• LessonEditDialog render
üî• open: true
üî• lesson: { id: 18, title: "...", description: "...", tip: "..." }
```

**–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚ùå –û—à–∏–±–æ–∫ 404 –∏–ª–∏ 500
- ‚ùå –¢–µ–∫—Å—Ç–∞ "–£—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è..."
- ‚ùå –ü—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π –≤ –¥–∏–∞–ª–æ–≥–µ

---

## üìä –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´:

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `src/pages/Lesson.tsx` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω API endpoint –Ω–∞ `/single/${lessonId}` |
| `src/pages/Lesson.tsx` | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–ª—è `tip` |
| `src/pages/Lesson.tsx` | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –¥–∏–∞–ª–æ–≥–∞ |

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û:

1. **Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω** –Ω–∞ `http://localhost:3000`
2. **Frontend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω** –Ω–∞ `http://localhost:8080`
3. **Hard Refresh –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** `Ctrl + Shift + R`

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

**–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –ü–æ–ª—è –ø—É—Å—Ç—ã–µ –∏–ª–∏ —Å placeholder —Ç–µ–∫—Å—Ç–æ–º
- ‚ùå "–£—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è..." –≤–º–µ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è
- ‚ùå –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è

**–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î
- ‚úÖ –°–æ–≤–µ—Ç –ø–æ —É—Ä–æ–∫—É –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ–ª—è
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

**–ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ!** üöÄ

