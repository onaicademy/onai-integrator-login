# üî• –ó–ê–ü–†–û–° –î–õ–Ø PERPLEXITY: –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –∏ —Ä–µ—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –ö–û–ù–¢–ï–ö–°–¢

–£ –Ω–∞—Å **–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞** –Ω–∞ —Å—Ç–µ–∫–µ:
- **Frontend**: Vite + React + TypeScript
- **Backend**: Express.js + Node.js  
- **Database**: Supabase (PostgreSQL)
- **Storage**: Supabase Storage (–¥–ª—è PDF —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)
- **Server**: Ubuntu 22.04 –Ω–∞ DigitalOcean (IP: 207.154.231.30)
- **Web Server**: Nginx
- **Process Manager**: PM2

---

## ‚ùå –¢–ï–ö–£–©–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### 1. **–°—Ç–∞—Ä—ã–π –∫–æ–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∫—ç—à)**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç **—Å—Ç–∞—Ä—ã–π –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É:

```
GET https://pjmvxecykysfrzppdcto.supabase.co/rest/v1/tripwire_certificates 
404 (Not Found)
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª–∏ `tripwire_certificates` ‚Üí `certificates`, –Ω–æ –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç–∞—Ä—ã–π JS –±–∞–Ω–¥–ª.

### 2. **–ß—Ç–æ –º—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏:**

‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª–∏ —Ç–∞–±–ª–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –û–±–Ω–æ–≤–∏–ª–∏ –≤–µ—Å—å –∫–æ–¥ (backend + frontend)  
‚úÖ –ü–µ—Ä–µ—Å–æ–±—Ä–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç (`npm run build`)  
‚úÖ –ó–∞–≥—Ä—É–∑–∏–ª–∏ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `rsync`

**–ù–û:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ –µ—â–µ –≤–∏–¥—è—Ç —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `tripwire_certificates`!

---

## üéØ –ó–ê–î–ê–ß–ê

–ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–ü–û–õ–ù–´–ô PRODUCTION DEPLOY** —Å –æ—á–∏—Å—Ç–∫–æ–π –≤—Å–µ—Ö –∫—ç—à–µ–π:

1. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å browser cache (force reload)
2. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è JS/CSS
3. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Vite –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Ö—ç—à–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –±–∏–ª–¥–µ
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ Cache-Control –∑–∞–≥–æ–ª–æ–≤–∫–∏

---

## üìÇ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê –ù–ê –°–ï–†–í–ï–†–ï

```
/var/www/onai-integrator-login-main/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ dist/               # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Node.js –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ src/                # TypeScript –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ dist/                   # Frontend build (Vite output)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îú‚îÄ‚îÄ index-[hash].js
‚îÇ       ‚îú‚îÄ‚îÄ TripwireProfile-[hash].js
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ nginx.conf              # –ö–æ–Ω—Ñ–∏–≥ Nginx (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

**PM2 –ø—Ä–æ—Ü–µ—Å—Å**: `onai-backend` (Express API)

---

## üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´

### –ü–æ—á–µ–º—É –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–¥?

1. **Vite —Ö—ç—à–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è?**
   - Vite –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `[name]-[hash].js`, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ö—ç—à –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
   - –ò–ª–∏ `index.html` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã

2. **Nginx –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏–∫—É?**
   - Nginx –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å `index.html`, `*.js`, `*.css`
   - –ù—É–∂–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ `Cache-Control` –∑–∞–≥–æ–ª–æ–≤–∫–∏

3. **Browser cache –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è?**
   - Service Worker –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å?
   - `localStorage` –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ?

4. **–°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?**
   - –ü—Ä–∏ `rsync` —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ù—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å `--delete` —Ñ–ª–∞–≥

---

## üí° –†–ï–®–ï–ù–ò–ï (–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨)

### 1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx**

–ù—É–∂–µ–Ω –∫–æ–Ω—Ñ–∏–≥ –∫–æ—Ç–æ—Ä—ã–π:
- **–ù–ï –∫—ç—à–∏—Ä—É–µ—Ç** `index.html` (–≤—Å–µ–≥–¥–∞ fresh)
- **–ö—ç—à–∏—Ä—É–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞** `assets/*.js` –∏ `assets/*.css` (—Ç.–∫. —Ö—ç—à–∏—Ä–æ–≤–∞–Ω—ã)
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞:**

```nginx
server {
    listen 80;
    server_name onai.academy;
    
    root /var/www/onai-integrator-login-main/dist;
    index index.html;

    # –ù–ò–ö–û–ì–î–ê –Ω–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å index.html
    location = /index.html {
        add_header Cache-Control "no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0";
        expires off;
        try_files $uri =404;
    }

    # –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (assets)
    location ~* ^/assets/.*\.(js|css|woff|woff2|ttf|eot|svg|png|jpg|jpeg|gif|ico)$ {
        add_header Cache-Control "public, max-age=31536000, immutable";
        expires 1y;
        try_files $uri =404;
    }

    # –ù–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ HTML —Ñ–∞–π–ª—ã
    location ~* \.html$ {
        add_header Cache-Control "no-store, no-cache, must-revalidate";
        try_files $uri =404;
    }

    # Fallback –¥–ª—è React Router (SPA)
    location / {
        try_files $uri $uri/ /index.html;
    }

    # –ü—Ä–æ–∫—Å–∏ –Ω–∞ backend API
    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

**–í–æ–ø—Ä–æ—Å**: –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è Nginx –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ? –ö–∞–∫ –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å?

---

### 2. **Vite Build —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ö—ç—à–∞–º–∏**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å `vite.config.ts`:

```typescript
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        // –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö—ç—à–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏–ª–¥–∞
        entryFileNames: 'assets/[name]-[hash].js',
        chunkFileNames: 'assets/[name]-[hash].js',
        assetFileNames: 'assets/[name]-[hash].[ext]'
      }
    }
  }
})
```

**–í–æ–ø—Ä–æ—Å**: –•—ç—à–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º `npm run build`?

---

### 3. **–î–µ–ø–ª–æ–π —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤**

–í–º–µ—Å—Ç–æ `rsync -avz` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```bash
rsync -avz --delete --exclude 'node_modules' \
  dist/ root@207.154.231.30:/var/www/onai-integrator-login-main/dist/
```

–§–ª–∞–≥ `--delete` **—É–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã**, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

**–ò–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ):

```bash
# 1. –°–æ–∑–¥–∞–µ–º backup —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏
ssh root@207.154.231.30 "cp -r /var/www/onai-integrator-login-main/dist /var/www/backup-$(date +%Y%m%d-%H%M%S)"

# 2. –£–¥–∞–ª—è–µ–º –≤—Å—ë –∫—Ä–æ–º–µ .gitkeep
ssh root@207.154.231.30 "find /var/www/onai-integrator-login-main/dist -type f ! -name '.gitkeep' -delete"

# 3. –ó–∞–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
rsync -avz dist/ root@207.154.231.30:/var/www/onai-integrator-login-main/dist/

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Nginx
ssh root@207.154.231.30 "nginx -t && systemctl reload nginx"
```

---

### 4. **–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é:

1. **Hard Reload**: `Ctrl+Shift+R` (Chrome/Firefox)
2. **Clear Site Data**: DevTools ‚Üí Application ‚Üí Clear storage
3. **Versioning**: –î–æ–±–∞–≤–∏—Ç—å `?v=timestamp` –∫ `index.html`?

**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—á–∏—Å—Ç–∫—É –∫—ç—à–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?

---

### 5. **Service Worker (–µ—Å–ª–∏ –µ—Å—Ç—å)**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Ç –ª–∏ Service Worker –∫–æ—Ç–æ—Ä—ã–π –∫—ç—à–∏—Ä—É–µ—Ç:

```javascript
// –í –±—Ä–∞—É–∑–µ—Ä–µ DevTools ‚Üí Application ‚Üí Service Workers
// –ï—Å–ª–∏ –µ—Å—Ç—å - Unregister
```

---

## üöÄ –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –î–ï–ü–õ–û–Ø

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd ~/onai-integrator-login

# 1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω
git status

# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend
cd backend
npm run build

# 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend (—Å –Ω–æ–≤—ã–º–∏ —Ö—ç—à–∞–º–∏!)
cd ..
npm run build

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ö—ç—à–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
ls -lh dist/assets/TripwireProfile-*.js
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ù–û–í–´–ô —Ö—ç—à!
```

---

### –®–∞–≥ 2: Backup –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
ssh root@207.154.231.30 "
  # Backup backend
  tar -czf /root/backup-backend-$(date +%Y%m%d-%H%M%S).tar.gz \
    /var/www/onai-integrator-login-main/backend/dist
  
  # Backup frontend
  tar -czf /root/backup-frontend-$(date +%Y%m%d-%H%M%S).tar.gz \
    /var/www/onai-integrator-login-main/dist
"
```

---

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π Backend

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PM2
ssh root@207.154.231.30 "pm2 stop onai-backend"

# –ó–∞–ª–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
rsync -avz --delete \
  backend/dist/ \
  root@207.154.231.30:/var/www/onai-integrator-login-main/backend/dist/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2
ssh root@207.154.231.30 "pm2 restart onai-backend && pm2 logs onai-backend --lines 20"
```

---

### –®–∞–≥ 4: –î–µ–ø–ª–æ–π Frontend (–ö–†–ò–¢–ò–ß–ù–û!)

```bash
# –£–î–ê–õ–Ø–ï–ú –í–°–ï —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã, –∑–∞–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–µ
ssh root@207.154.231.30 "rm -rf /var/www/onai-integrator-login-main/dist/*"

rsync -avz dist/ root@207.154.231.30:/var/www/onai-integrator-login-main/dist/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å
ssh root@207.154.231.30 "ls -lh /var/www/onai-integrator-login-main/dist/assets/TripwireProfile-*.js"
```

---

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ñ–∏–≥
ssh root@207.154.231.30 "cat /etc/nginx/sites-available/onai.academy"

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ (–¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Cache-Control)
# ... (–Ω—É–∂–µ–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É)

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥
ssh root@207.154.231.30 "nginx -t"

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º Nginx
ssh root@207.154.231.30 "systemctl reload nginx"
```

---

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞–µ—Ç –Ω–æ–≤—ã–π index.html
curl -I https://onai.academy/ | grep -i cache

# –û–∂–∏–¥–∞–µ—Ç—Å—è: Cache-Control: no-store, no-cache

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ assets
curl -I https://onai.academy/assets/index-NEWHASH.js | grep -i cache

# –û–∂–∏–¥–∞–µ—Ç—Å—è: Cache-Control: public, max-age=31536000
```

---

### –®–∞–≥ 7: –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä—ã—Ç—å **Incognito/Private** —Ä–µ–∂–∏–º
2. –ó–∞–π—Ç–∏ –Ω–∞ https://onai.academy/tripwire/profile
3. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Network
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –∫ **`certificates`**, –∞ –Ω–µ `tripwire_certificates`

---

## ‚ùì –í–û–ü–†–û–°–´ –ö PERPLEXITY

1. **Nginx –∫–æ–Ω—Ñ–∏–≥**: –ö–∞–∫–æ–π –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è SPA (Vite) —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º?
2. **rsync —Ñ–ª–∞–≥–∏**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--delete`? –ö–∞–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã?
3. **Vite —Ö—ç—à–∏**: –ö–∞–∫ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Vite –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ù–û–í–´–ï —Ö—ç—à–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –±–∏–ª–¥–µ?
4. **Browser cache**: –ö–∞–∫ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –±–µ–∑ Hard Reload?
5. **Rollback**: –ö–∞–∫ –±—ã—Å—Ç—Ä–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è?
6. **Health check**: –ö–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω?
7. **Zero downtime**: –ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –¥–µ–ø–ª–æ–π –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (—á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –°–ï–ô–ß–ê–°)

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1. –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –≤ dist/?
ssh root@207.154.231.30 "ls -lh /var/www/onai-integrator-login-main/dist/assets/ | grep TripwireProfile"

# 2. –ö–æ–≥–¥–∞ –æ–Ω–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã?
ssh root@207.154.231.30 "stat /var/www/onai-integrator-login-main/dist/index.html"

# 3. –ß—Ç–æ –≤ Nginx –∫–æ–Ω—Ñ–∏–≥–µ?
ssh root@207.154.231.30 "cat /etc/nginx/sites-enabled/* | grep -A 20 'server_name onai.academy'"

# 4. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ backend?
ssh root@207.154.231.30 "pm2 logs onai-backend --lines 30"
```

### –í –±—Ä–∞—É–∑–µ—Ä–µ:

```javascript
// DevTools Console
// 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage
console.log(Object.keys(localStorage))

// 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Service Worker
navigator.serviceWorker.getRegistrations().then(r => console.log(r))

// 3. –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
localStorage.clear()
sessionStorage.clear()
// Application ‚Üí Clear storage ‚Üí Clear site data
```

---

## üí° –ò–¢–û–ì–û–í–û–ï –†–ï–®–ï–ù–ò–ï (—á—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Perplexity)

–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ **–ü–û–õ–ù–´–ô –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù**:

1. ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è (—Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤)
2. ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è SPA
3. ‚úÖ Vite –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–æ–≤—ã—Ö —Ö—ç—à–µ–π
4. ‚úÖ –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–µ–ø–ª–æ—è
5. ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω
6. ‚úÖ –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è

**–¶–µ–ª—å**: –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ **`certificates`**, –∞ –Ω–µ `tripwire_certificates`, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —á–∏—Å—Ç–∏—Ç—å –∫—ç—à.

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

- ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `certificates` —Å–æ–∑–¥–∞–Ω–∞ –≤ –ë–î
- ‚úÖ Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
- ‚úÖ Frontend –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω (–Ω–æ —Å—Ç–∞—Ä—ã–π –±–∞–Ω–¥–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ!)
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç 404 –Ω–∞ `tripwire_certificates`
- ‚ùå Nginx –∫—ç—à –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã
- ‚ùå Vite —Ö—ç—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–º–æ–≥–∏—Ç–µ —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞!** üôè
