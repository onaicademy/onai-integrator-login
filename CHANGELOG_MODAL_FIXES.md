# üéØ CHANGELOG: Task Modal Fixes

## –î–∞—Ç–∞: 24 –Ω–æ—è–±—Ä—è 2025

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### 1. üé® **–¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ Kanban**
**–î–æ:**
- ‚ùå "–í —Ä–∞–±–æ—Ç–µ" = –∑–µ–ª—ë–Ω—ã–π (#00ff00)
- ‚ùå "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" = –∑–µ–ª—ë–Ω—ã–π (#00ff00)

**–ü–æ—Å–ª–µ:**
- ‚úÖ "–í —Ä–∞–±–æ—Ç–µ" üî• = –æ—Ä–∞–Ω–∂–µ–≤—ã–π (orange-500)
- ‚úÖ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" üéâ = –∑–µ–ª—ë–Ω—ã–π (#00ff00)

**–§–∞–π–ª—ã:**
- `src/components/goals/GoalsTodoSystemDB.tsx` (—Å—Ç—Ä–æ–∫–∏ 89-93, 769-786)

---

### 2. üö© **Priority Selector (–∫–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏)**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –∫–ª–∏–∫–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª `type="button"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—ã–ª submit)
- –î–∏–∑–∞–π–Ω –±—ã–ª "—Å—Ç—Ä–∞—à–Ω—ã–π" (—Å–ª–æ–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–∏–ª `type="button"` –Ω–∞ –≤—Å–µ –∫–Ω–æ–ø–∫–∏
- ‚úÖ –î–æ–±–∞–≤–∏–ª console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ Flag –∏–∫–æ–Ω–∫–∏ –æ—Ç Lucide
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ transition —ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚úÖ Hover states —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏

**–ö–æ–¥:**
```tsx
<button
  type="button"  // ‚Üê –ö–†–ò–¢–ò–ß–ù–û!
  onClick={() => {
    setPriority(p.value);
    setHasChanges(true);
  }}
  className={`transition-all ${priority === p.value ? 'scale-105' : ''}`}
>
  <Flag className="w-4 h-4" />
  {p.label}
</button>
```

---

### 3. üìÖ **Calendar Popover (–Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è)**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- Popover –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª –Ω–∞ –∫–ª–∏–∫–∏
- Calendar –±—ã–ª –∑–∞ –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ (z-index)
- –ó–∞–∫—Ä—ã–≤–∞–ª—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–∏–ª state control: `isCalendarOpen` + `setIsCalendarOpen`
- ‚úÖ –£–≤–µ–ª–∏—á–∏–ª z-index –¥–æ 100001
- ‚úÖ –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–∞—Ç—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π `align="start"` positioning

**–ö–æ–¥:**
```tsx
<Popover open={isCalendarOpen} onOpenChange={setIsCalendarOpen}>
  <PopoverContent style={{ zIndex: 100001 }}>
    <Calendar
      onSelect={(date) => {
        setDueDate(date);
        setIsCalendarOpen(false); // ‚Üê –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
      }}
    />
  </PopoverContent>
</Popover>
```

---

### 4. üïê **Time Picker (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª)**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- `<input type="time">` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ù–µ—É–¥–æ–±–Ω—ã–π UI (–Ω–∞—Ç–∏–≤–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π)
- –ù–µ–ª—å–∑—è –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ó–∞–º–µ–Ω–∏–ª –Ω–∞ **Select dropdown** —Å 48 –æ–ø—Ü–∏—è–º–∏
- ‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (00:00 - 23:30)
- ‚úÖ Scrollable —Å–ø–∏—Å–æ–∫
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI –≤ —Å—Ç–∏–ª–µ Todoist

**–ö–æ–¥:**
```tsx
const TIME_OPTIONS = [
  '00:00', '00:30', '01:00', ..., '23:30'
];

<Select value={dueTime} onValueChange={setDueTime}>
  <SelectContent className="max-h-[200px]">
    {TIME_OPTIONS.map(time => (
      <SelectItem key={time} value={time}>{time}</SelectItem>
    ))}
  </SelectContent>
</Select>
```

---

### 5. üîî **Telegram Reminder Select (—Ç–æ–ª—å–∫–æ 30 –º–∏–Ω—É—Ç)**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- Dropdown –ø–æ–∫–∞–∑—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ "30 –º–∏–Ω—É—Ç"
- –ù–µ–ª—å–∑—è –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –æ–ø—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–∏–ª **7 –æ–ø—Ü–∏–π** –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:
  - 5 –º–∏–Ω—É—Ç
  - 10 –º–∏–Ω—É—Ç
  - 15 –º–∏–Ω—É—Ç
  - 30 –º–∏–Ω—É—Ç
  - 1 —á–∞—Å (60 –º–∏–Ω)
  - 2 —á–∞—Å–∞ (120 –º–∏–Ω)
  - 1 –¥–µ–Ω—å (1440 –º–∏–Ω)
- ‚úÖ Value —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ string –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã

**–ö–æ–¥:**
```tsx
<Select value={reminderBefore} onValueChange={setReminderBefore}>
  <SelectContent>
    <SelectItem value="5">5 –º–∏–Ω—É—Ç</SelectItem>
    <SelectItem value="10">10 –º–∏–Ω—É—Ç</SelectItem>
    <SelectItem value="15">15 –º–∏–Ω—É—Ç</SelectItem>
    <SelectItem value="30">30 –º–∏–Ω—É—Ç</SelectItem>
    <SelectItem value="60">1 —á–∞—Å</SelectItem>
    <SelectItem value="120">2 —á–∞—Å–∞</SelectItem>
    <SelectItem value="1440">1 –¥–µ–Ω—å</SelectItem>
  </SelectContent>
</Select>
```

---

## üé® –£–õ–£–ß–®–ï–ù–ò–Ø –î–ò–ó–ê–ô–ù–ê

### Todoist-Style UI
1. **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω**
   - –ß–∏—Å—Ç—ã–π —Ñ–æ–Ω (zinc-950/zinc-900)
   - –¢–æ–Ω–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã (zinc-800)
   - –ê–∫—Ü–µ–Ω—Ç –Ω–∞ #00ff00 (–∑–µ–ª—ë–Ω—ã–π)

2. **Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Title –±–µ–∑ border, —Ç–æ–ª—å–∫–æ bottom border
   - –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
   - Focus state —Å –∑–µ–ª—ë–Ω—ã–º underline

3. **Flag –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤**
   - Lucide React `<Flag />` component
   - –¶–≤–µ—Ç–Ω—ã–µ —Ñ–ª–∞–≥–∏ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ
   - Scale —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ active state

4. **Auto-save –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä**
   - üü¢ –ó–µ–ª—ë–Ω–∞—è —Ç–æ—á–∫–∞ = –≥–æ—Ç–æ–≤–æ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é
   - üü° –ñ—ë–ª—Ç–∞—è —Ç–æ—á–∫–∞ (pulse) = —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...
   - –¢–µ–∫—Å—Ç: "–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"

5. **–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π**
   - "–£–¥–∞–ª–∏—Ç—å" - ghost, –∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç
   - "–ì–æ—Ç–æ–≤–æ" - –∑–µ–ª—ë–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (#00ff00)
   - "X" –≤ header –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è

---

## üìä –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### Debounce Auto-Save
```tsx
useEffect(() => {
  if (!hasChanges) return;
  const timer = setTimeout(() => handleSave(), 1500);
  return () => clearTimeout(timer);
}, [hasChanges, title, description, ...]);
```

### Priority State Management
```tsx
const [priority, setPriority] = useState(task.priority || 'none');

// Track changes
useEffect(() => {
  setHasChanges(priority !== (task.priority || 'none'));
}, [priority, task.priority]);
```

### Calendar State Control
```tsx
const [isCalendarOpen, setIsCalendarOpen] = useState(false);

<Calendar
  onSelect={(date) => {
    setDueDate(date);
    setIsCalendarOpen(false); // Close after selection
  }}
/>
```

---

## üß™ –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–¥–∞—á—É
```
http://localhost:8080/neurohub
‚Üí –ù–∞–∂–º–∏—Ç–µ "–ö–∞–Ω–±–∞–Ω"
‚Üí –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –∑–∞–¥–∞—á—É
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Priority
- [ ] –ù–∞–∂–º–∏—Ç–µ –Ω–∞ "–í–∞–∂–Ω–æ" (üü°) - –¥–æ–ª–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å—Å—è
- [ ] –ù–∞–∂–º–∏—Ç–µ –Ω–∞ "–ö—Ä–∏—Ç–∏—á–Ω–æ" (üî¥) - –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è
- [ ] –ß–µ—Ä–µ–∑ 1.5 —Å–µ–∫ –ø–æ—è–≤–∏—Ç—Å—è "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ..." –≤–≤–µ—Ä—Ö—É
- [ ] –ß–µ—Ä–µ–∑ 2 —Å–µ–∫ –ø–æ—è–≤–∏—Ç—Å—è toast "‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ"

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Calendar
- [ ] –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Å –¥–∞—Ç–æ–π
- [ ] –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–∫—Ä–æ–µ—Ç—Å—è
- [ ] –í—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ –∫–Ω–æ–ø–∫–µ

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Time Picker
- [ ] –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—Ä–µ–º—è (—Å–ø—Ä–∞–≤–∞ –æ—Ç –¥–∞—Ç—ã)
- [ ] –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è dropdown —Å –≤—Ä–µ–º–µ–Ω–∞–º–∏
- [ ] –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —Å–ø–∏—Å–æ–∫ - –≤–∏–¥–Ω—ã –≤—Å–µ –≤—Ä–µ–º–µ–Ω–∞ 00:00 - 23:30
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è - –æ–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram Reminder
- [ ] –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "Telegram –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"
- [ ] –ü–æ—è–≤–∏—Ç—Å—è dropdown "–ù–∞–ø–æ–º–Ω–∏—Ç—å –∑–∞:"
- [ ] –ù–∞–∂–º–∏—Ç–µ –Ω–∞ dropdown
- [ ] –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ü–∏–∏: 5/10/15/30/60/120 –º–∏–Ω + 1 –¥–µ–Ω—å
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é - –æ–Ω–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] –í Kanban –∫–æ–ª–æ–Ω–∫–∞ "–í —Ä–∞–±–æ—Ç–µ" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ä–∞–Ω–∂–µ–≤–æ–π üî•
- [ ] –ö–æ–ª–æ–Ω–∫–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–µ–ª—ë–Ω–æ–π üéâ
- [ ] –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∑–∞–¥–∞—á—É –≤ "–í —Ä–∞–±–æ—Ç–µ" - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞–Ω–µ—Ç –æ—Ä–∞–Ω–∂–µ–≤–æ–π

---

## üìÅ –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

1. **src/components/goals/TaskEditModal.tsx** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω
2. **src/components/goals/GoalsTodoSystemDB.tsx** - –∏–∑–º–µ–Ω–µ–Ω—ã —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
3. **PERPLEXITY_PROMPT_TODOIST_DESIGN.md** - prompt –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (—Å–æ–∑–¥–∞–Ω)
4. **CHANGELOG_MODAL_FIXES.md** - —ç—Ç–æ—Ç —Ñ–∞–π–ª (—Å–æ–∑–¥–∞–Ω)

---

## üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢

**–î–û:**
- ‚ùå –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏
- ‚ùå Calendar –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è
- ‚ùå Time picker –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
- ‚ùå Telegram reminder –ø–æ–∫–∞–∑—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ 30 –º–∏–Ω—É—Ç
- ‚ùå –î–∏–∑–∞–π–Ω –±—ã–ª "—Å—Ç—Ä–∞—à–Ω—ã–π"
- ‚ùå –û–±–∞ —Å—Ç–∞—Ç—É—Å–∞ –±—ã–ª–∏ –∑–µ–ª—ë–Ω—ã–º–∏

**–ü–û–°–õ–ï:**
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
- ‚úÖ Calendar –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Time picker - —É–¥–æ–±–Ω—ã–π dropdown
- ‚úÖ Telegram reminder - 7 –æ–ø—Ü–∏–π
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π Todoist-style –¥–∏–∑–∞–π–Ω
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞: –æ—Ä–∞–Ω–∂–µ–≤—ã–π + –∑–µ–ª—ë–Ω—ã–π

---

**üéâ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢!**

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π:** http://localhost:8080/neurohub ‚Üí –ö–∞–Ω–±–∞–Ω ‚Üí –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∑–∞–¥–∞—á—É!






