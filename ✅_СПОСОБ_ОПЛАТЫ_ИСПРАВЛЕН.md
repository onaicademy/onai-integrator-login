# ‚úÖ –°–ü–û–°–û–ë –û–ü–õ–ê–¢–´ –í TELEGRAM - –ò–°–ü–†–ê–í–õ–ï–ù–û!

## üêõ –ü–†–û–ë–õ–ï–ú–ê (–±—ã–ª–∞):

**–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –≤ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è—Ö:**
- –ò–Ω–æ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è, –∏–Ω–æ–≥–¥–∞ –Ω–µ—Ç
- –î–ª—è ProfTest –≤–æ–æ–±—â–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª
- –î–∞–∂–µ "–ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º" –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. ‚ùå –£—Å–ª–æ–≤–∏–µ `if (paymentMethod)` —Å–∫—Ä—ã–≤–∞–ª–æ –ø–æ–ª–µ –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–æ
2. ‚ùå ProfTest route –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª `paymentMethod` –≤–æ–æ–±—â–µ

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï:

### **1. telegramService.ts - –£–±—Ä–∞–Ω–æ —É—Å–ª–æ–≤–∏–µ**

**–ë—ã–ª–æ:**
```typescript
`${leadData.paymentMethod ? `üí≥ <b>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</b> ${paymentMethodText}\n` : ''}`
```

**–°—Ç–∞–ª–æ:**
```typescript
`üí≥ <b>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</b> ${paymentMethodText}\n` // –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ–º!
```

### **2. landing.ts (ProfTest) - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä**

**–ë—ã–ª–æ:**
```typescript
const { name, email, phone, ... } = req.body;

sendLeadNotification({
  name,
  phone,
  email,
  source, // paymentMethod –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª!
});
```

**–°—Ç–∞–ª–æ:**
```typescript
const { name, email, phone, ..., paymentMethod } = req.body;

sendLeadNotification({
  name,
  phone,
  email,
  paymentMethod: paymentMethod as 'kaspi' | 'card' | 'manager' | undefined,
  source,
});
```

---

## üì± –†–ï–ó–£–õ–¨–¢–ê–¢ –í TELEGRAM:

### **–¢–µ–ø–µ—Ä—å –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**

```
üéØ –ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê - üéì –≠–ö–°–ü–†–ï–°–° –ö–£–†–°

üë§ –ò–º—è: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 777 123 45 67
üìß Email: ivan@mail.ru
üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí¨ –ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º  ‚Üê ‚úÖ –í–°–ï–ì–î–ê!
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: expresscourse

‚è∞ 16.12.2025, 17:30:00
```

### **–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

| –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Telegram |
|--------------------|------------------------|
| Kaspi –±–∞–Ω–∫ | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí≥ Kaspi –±–∞–Ω–∫` |
| –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí∞ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞` |
| –ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí¨ –ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º` |
| –ù–µ –≤—ã–±—Ä–∞–Ω–æ | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: ‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω` |

**–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!** ‚úÖ

---

## üöÄ DEPLOY:

**–ö–æ–º–º–∏—Ç:** `b50046a`  
**–§–∞–π–ª—ã:**
- `backend/src/services/telegramService.ts`
- `backend/src/routes/landing.ts`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ production  
**–î–∞—Ç–∞:** 16.12.2025

---

## üß™ –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨:

### **1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É:**

```bash
curl -X POST https://api.onai.academy/api/landing/submit \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–µ—Å—Ç",
    "phone": "+7 777 777 77 77",
    "email": "test@onai.academy",
    "source": "expresscourse",
    "paymentMethod": "manager"
  }'
```

### **2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram:**

–î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å:
```
üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí¨ –ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
```

### **3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑ paymentMethod:**

```bash
curl -X POST https://api.onai.academy/api/landing/submit \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–µ—Å—Ç",
    "phone": "+7 777 777 77 77",
    "email": "test@onai.academy",
    "source": "expresscourse"
  }'
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: ‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω
```

---

## üìä –ó–ê–¢–†–û–ù–£–¢–´–ï –≠–ù–î–ü–û–ò–ù–¢–´:

- ‚úÖ `/api/landing/submit` (ExpressCourse) - –±—ã–ª–æ —á–∞—Å—Ç–∏—á–Ω–æ, —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞
- ‚úÖ `/api/landing/proftest` (ProfTest) - –Ω–µ –±—ã–ª–æ –≤–æ–æ–±—â–µ, —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å

---

## üéØ –ü–†–û–í–ï–†–ö–ê –ü–ï–†–ï–î COMMIT:

- [x] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω
- [x] –õ–æ–≥–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- [x] –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- [x] –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [x] ExpressCourse —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- [x] ProfTest —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- [x] –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω
- [x] Push –≤—ã–ø–æ–ª–Ω–µ–Ω
- [x] Deploy –Ω–∞ production
- [x] –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

---

## ‚úÖ –°–¢–ê–¢–£–°: –ì–û–¢–û–í–û!

**–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã —Ç–µ–ø–µ—Ä—å –í–°–ï–ì–î–ê –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö!** üéâ

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ:
- –ö–∞–∫–æ–π source (expresscourse / proftest)
- –í—ã–±—Ä–∞–Ω –ª–∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- –ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —Å–ø–æ—Å–æ–± –≤—ã–±—Ä–∞–Ω

**–í—Å–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!** ‚úÖ



