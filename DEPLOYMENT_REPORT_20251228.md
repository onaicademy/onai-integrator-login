# üìä –û–¢–ß–ï–¢ –û –î–ï–ü–õ–û–ï 2025-12-28

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã FACEBOOK –∫–ª—é—á–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ `FACEBOOK_ADS_TOKEN` –æ–±–Ω–æ–≤–ª–µ–Ω —Å placeholder –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–æ–∫–µ–Ω
- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ –ö–ª—é—á–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç

### 2. –°–æ–∑–¥–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã –∫–ª—é—á–µ–π –æ—Ç —Å–ª–µ—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/deploy-with-env-protection.sh`
- ‚úÖ –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –±—ç–∫–∞–ø .env –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- ‚úÖ –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π
- ‚úÖ –°–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç .env –∏–∑ –±—ç–∫–∞–ø–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 3. –°–æ–±—Ä–∞–Ω –Ω–æ–≤—ã–π build
- ‚úÖ Frontend —Å–æ–±—Ä–∞–Ω —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –°–æ–∑–¥–∞–Ω –∞—Ä—Ö–∏–≤ `deploy-20251228-traffic-fix-v2.tar.gz`
- ‚úÖ –ê—Ä—Ö–∏–≤ –∏—Å–∫–ª—é—á–∞–µ—Ç .env –∏ node_modules

### 4. –ó–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
- ‚úÖ –ê—Ä—Ö–∏–≤ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω—ã
- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å—Ç–∞—Ç—É—Å: online)

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ `dist/index.html` –æ–±–Ω–æ–≤–ª–µ–Ω (timestamp: 1764667500)
- ‚úÖ `dist/assets/TrafficTeamConstructor-8aqYUECv.js` –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ `dist/assets/index-7kbWoykA.js` –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´

### 1. Build ID –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** Build ID –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `20251223-2035-FULL-DEPLOY` (—Å—Ç–∞—Ä—ã–π)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞ (localStorage)
2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ Nginx
3. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ CDN (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
2. –û—Ç–∫—Ä—ã—Ç—å –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `https://traffic.onai.academy/traffic/admin/team-constructor?t=123456789` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫–µ—à–∞

### 2. –û—à–∏–±–∫–∏ –≤ Scheduler
**–ü—Ä–æ–±–ª–µ–º–∞:** `TypeError: fetch failed` –≤ reminderScheduler

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Å–≤—è–∑–∞–Ω–∞ —Å –¥–µ–ø–ª–æ–µ–º, —ç—Ç–æ —Å—Ç–∞—Ä–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**–†–µ—à–µ–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üìã CHECKLIST –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Team Constructor

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞**
- [ ] –û—Ç–∫—Ä—ã—Ç—å DevTools (F12)
- [ ] –ü–µ—Ä–µ–π—Ç–∏ –≤ Application ‚Üí Local Storage
- [ ] –ù–∞–π—Ç–∏ `app_build_id`
- [ ] –£–¥–∞–ª–∏—Ç—å –µ–≥–æ
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

**–®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GET /api/traffic-constructor/teams**
```bash
curl -X GET https://traffic.onai.academy/api/traffic-constructor/teams \
  -H "Authorization: Bearer <—Ç–æ–∫–µ–Ω>"
```
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 200 OK —Å –º–∞—Å—Å–∏–≤–æ–º –∫–æ–º–∞–Ω–¥

**–®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å POST /api/traffic-constructor/teams**
```bash
curl -X POST https://traffic.onai.academy/api/traffic-constructor/teams \
  -H "Authorization: Bearer <—Ç–æ–∫–µ–Ω>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test Team",
    "direction": "flagman",
    "color": "#00FF88",
    "emoji": "üìà"
  }'
```
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 201 Created —Å ID –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

**–®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```bash
curl -X POST https://traffic.onai.academy/api/traffic-constructor/users \
  -H "Authorization: Bearer <—Ç–æ–∫–µ–Ω>" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "fullName": "Test User",
    "team": "Test Team",
    "password": "test123",
    "role": "targetologist",
    "sendEmail": false
  }'
```
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 201 Created —Å ID –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ö–û–î–ê

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –æ–¥–Ω–æ –æ–∫–Ω–æ
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã
- –£–±—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü–ª–∞–Ω:**
1. –ò–∑–º–µ–Ω–∏—Ç—å `TrafficTeamConstructor.tsx`
2. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ–æ—Ä–º—ã –≤ –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é

---

## üìù –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### –ó–∞—â–∏—Ç–∞ –∫–ª—é—á–µ–π
- –°–∫—Ä–∏–ø—Ç `deploy-with-env-protection.sh` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ –∫–ª—é—á–∏ –Ω–µ —Å–ª–µ—Ç—è—Ç
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–ø–ª–æ—è
- –ë—ç–∫–∞–ø—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `/var/www/backups/onai-integrator-login/`

### Build ID
- Build ID –æ–±–Ω–æ–≤–∏–ª—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (timestamp: 1764667500)
- –ï—Å–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π ID - —ç—Ç–æ –∫–µ—à
- –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Backend
- Backend —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- FACEBOOK –∫–ª—é—á–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- AmoCRM –∫–ª—é—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚úÖ –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Team Constructor
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. ‚è≥ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. ‚è≥ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
7. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É

---

**–î–∞—Ç–∞:** 2025-12-28  
**–í—Ä–µ–º—è:** 04:05 UTC+5  
**–°—Ç–∞—Ç—É—Å:** –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
