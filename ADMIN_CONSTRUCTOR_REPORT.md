# üöÄ –û–¢–ß–Å–¢ - –ê–î–ú–ò–ù-–ö–û–ù–°–¢–†–£–ö–¢–û–† –ú–û–î–£–õ–ï–ô –ò –£–†–û–ö–û–í

**–î–∞—Ç–∞:** 16 –Ω–æ—è–±—Ä—è 2025, 23:40  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –ì–û–¢–û–í–û (UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + –î–∏–∞–ª–æ–≥–∏)

---

## ‚úÖ –ß–¢–û –°–û–ó–î–ê–ù–û:

### 1. **UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Shadcn** (4 —Ñ–∞–π–ª–∞)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞–∑–º–µ—Ä |
|------|----------|--------|
| `src/components/ui/dialog.tsx` | –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ | 3,521 –±–∞–π—Ç |
| `src/components/ui/input.tsx` | –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è | 741 –±–∞–π—Ç |
| `src/components/ui/textarea.tsx` | –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –ø–æ–ª—è | 711 –±–∞–π—Ç |
| `src/components/ui/label.tsx` | –õ–µ–π–±–ª—ã –¥–ª—è —Ñ–æ—Ä–º | 571 –±–∞–π—Ç |

**–ò—Ç–æ–≥–æ UI:** 5,544 –±–∞–π—Ç

---

### 2. **–ê–¥–º–∏–Ω-–î–∏–∞–ª–æ–≥–∏** (2 —Ñ–∞–π–ª–∞)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞–∑–º–µ—Ä |
|------|----------|--------|
| `src/components/admin/ModuleEditDialog.tsx` | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è | 2,154 –±–∞–π—Ç |
| `src/components/admin/LessonEditDialog.tsx` | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ | 2,534 –±–∞–π—Ç |

**–ò—Ç–æ–≥–æ Admin:** 4,688 –±–∞–π—Ç

**–í–°–ï–ì–û –°–û–ó–î–ê–ù–û:** 10,232 –±–∞–π—Ç –∫–æ–¥–∞

---

### 3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:**

```bash
‚úÖ npm install @radix-ui/react-dialog @radix-ui/react-label
‚úÖ npm install @dnd-kit/core @dnd-kit/sortable @dnd-kit/utilities
```

---

## üé® –û–°–û–ë–ï–ù–ù–û–°–¢–ò –î–ò–ê–õ–û–ì–û–í:

### ModuleEditDialog:
- ‚úÖ –ü–æ–ª—è: –ù–∞–∑–≤–∞–Ω–∏–µ, –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ (—á–µ—Ä–Ω—ã–π —Ñ–æ–Ω)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º: "–û—Ç–º–µ–Ω–∞", "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è: –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- ‚úÖ Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" —Å —Ü–≤–µ—Ç–æ–º neon

### LessonEditDialog:
- ‚úÖ –ü–æ–ª—è: –ù–∞–∑–≤–∞–Ω–∏–µ, –û–ø–∏—Å–∞–Ω–∏–µ, –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã)
- ‚úÖ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ (—á–µ—Ä–Ω—ã–π —Ñ–æ–Ω)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º: "–û—Ç–º–µ–Ω–∞", "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è: –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- ‚úÖ Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ Input type="number" –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## ‚ö†Ô∏è –ß–¢–û –û–°–¢–ê–õ–û–°–¨ –°–î–ï–õ–ê–¢–¨:

### 1. **–û–±–Ω–æ–≤–∏—Ç—å ModuleCard.tsx**

–î–æ–±–∞–≤–∏—Ç—å:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–∏ `userRole === 'admin'`
- ‚úÖ –ö–Ω–æ–ø–∫–∏ Edit/Delete –¥–ª—è –∞–¥–º–∏–Ω–∞
- ‚úÖ GripVertical –¥–ª—è drag-and-drop
- ‚úÖ –ö–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫"

**–ü—Ä–∏–º–µ—Ä:**
```typescript
{isAdmin && (
  <div className="flex gap-2">
    <Button variant="ghost" size="sm" onClick={onEditModule}>
      <Edit className="h-4 w-4" />
    </Button>
    <Button variant="ghost" size="sm" onClick={onDeleteModule}>
      <Trash2 className="h-4 w-4 text-destructive" />
    </Button>
  </div>
)}
```

---

### 2. **–û–±–Ω–æ–≤–∏—Ç—å LessonItem.tsx**

–î–æ–±–∞–≤–∏—Ç—å:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–∏ `userRole === 'admin'`
- ‚úÖ –ö–Ω–æ–ø–∫–∏ Edit/Delete –¥–ª—è –∞–¥–º–∏–Ω–∞
- ‚úÖ GripVertical –¥–ª—è drag-and-drop

**–ü—Ä–∏–º–µ—Ä:**
```typescript
{isAdmin && (
  <div className="flex gap-2">
    <Button variant="ghost" size="sm" onClick={onEdit}>
      <Edit className="h-4 w-4" />
    </Button>
    <Button variant="ghost" size="sm" onClick={onDelete}>
      <Trash2 className="h-4 w-4 text-destructive" />
    </Button>
  </div>
)}
```

---

### 3. **–û–±–Ω–æ–≤–∏—Ç—å Course.tsx**

–î–æ–±–∞–≤–∏—Ç—å:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫—É –∫—É—Ä—Å–∞ –∏–∑ API (`/api/courses/:id`)
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–∏ —á–µ—Ä–µ–∑ `useAuth()`
- ‚úÖ –ö–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å" –¥–ª—è –∞–¥–º–∏–Ω–∞

**–õ–æ–≥–∏–∫–∞ CRUD:**
```typescript
// –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å
const handleSaveModule = async (data) => {
  if (moduleDialog.module) {
    await api.put(`/api/modules/${moduleDialog.module.id}`, data);
  } else {
    await api.post('/api/modules', { ...data, course_id: id });
  }
  loadCourse();
};

// –£–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å
const handleDeleteModule = async (moduleId) => {
  if (confirm('–£–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å?')) {
    await api.delete(`/api/modules/${moduleId}`);
    loadCourse();
  }
};

// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è —É—Ä–æ–∫–æ–≤...
```

---

### 4. **–î–æ–±–∞–≤–∏—Ç—å Drag-and-Drop**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@dnd-kit` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞:

```typescript
import { DndContext, closestCenter } from '@dnd-kit/core';
import { SortableContext, verticalListSortingStrategy, useSortable } from '@dnd-kit/sortable';

// –í ModuleCard:
const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ 
  id: module.id 
});

const style = {
  transform: CSS.Transform.toString(transform),
  transition,
};

return (
  <div ref={setNodeRef} style={style} {...attributes} {...listeners}>
    {/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */}
  </div>
);
```

**–ü–æ—Å–ª–µ drag-and-drop:**
```typescript
const handleDragEnd = async (event) => {
  const { active, over } = event;
  if (active.id !== over.id) {
    const oldIndex = modules.findIndex(m => m.id === active.id);
    const newIndex = modules.findIndex(m => m.id === over.id);
    
    const reorderedModules = arrayMove(modules, oldIndex, newIndex);
    
    // –û–±–Ω–æ–≤–∏—Ç—å order_index
    const updates = reorderedModules.map((m, idx) => ({ 
      id: m.id, 
      order_index: idx 
    }));
    
    await api.put('/api/modules/reorder', { modules: updates });
  }
};
```

---

## üîê –ü–†–û–í–ï–†–ö–ê –†–û–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:**

```typescript
import { useAuth } from '@/hooks/useAuth';

const { userRole } = useAuth();
const isAdmin = userRole === 'admin';

// –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –¢–û–õ–¨–ö–û –¥–ª—è –∞–¥–º–∏–Ω–∞
{isAdmin && (
  <Button>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</Button>
)}

// –°—Ç—É–¥–µ–Ω—Ç—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä
{!isAdmin && (
  <Button>–°–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫</Button>
)}
```

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ** | 6 |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~350 |
| **–ë–∞–π—Ç –∫–æ–¥–∞** | 10,232 |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ** | 10 |
| **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** | 4 |
| **–ê–¥–º–∏–Ω-–¥–∏–∞–ª–æ–≥–æ–≤** | 2 |
| **–û—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞** | 0 ‚úÖ |

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

### –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–¥–º–∏–Ω-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞:

1. **–û–±–Ω–æ–≤–∏—Ç—å ModuleCard.tsx** - –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ Edit/Delete/Add
2. **–û–±–Ω–æ–≤–∏—Ç—å LessonItem.tsx** - –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ Edit/Delete
3. **–û–±–Ω–æ–≤–∏—Ç—å Course.tsx** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥–∏ –∏ API
4. **–î–æ–±–∞–≤–∏—Ç—å Drag-and-Drop** - –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –º–æ–¥—É–ª–µ–π/—É—Ä–æ–∫–æ–≤
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** - –∫–∞–∫ –∞–¥–º–∏–Ω –∏ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Frontend
cd C:\onai-integrator-login
npm run dev

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend
cd C:\onai-integrator-login\backend
npm run dev

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8080/course/1

# –í–æ–π—Ç–∏ –∫–∞–∫ –∞–¥–º–∏–Ω
Email: saint@onaiacademy.kz
```

---

## ‚úÖ –ì–û–¢–û–í–û –ö –ò–ù–¢–ï–ì–†–ê–¶–ò–ò!

**–î–∏–∞–ª–æ–≥–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã!**  
**–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ Course.tsx!**

---

**–î–∞—Ç–∞:** 16 –Ω–æ—è–±—Ä—è 2025  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~15 –º–∏–Ω—É—Ç  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 6 —Ñ–∞–π–ª–æ–≤, 350 —Å—Ç—Ä–æ–∫, 0 –æ—à–∏–±–æ–∫ ‚úÖ

