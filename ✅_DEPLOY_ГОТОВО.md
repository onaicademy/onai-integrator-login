# ‚úÖ DEPLOY –ó–ê–í–ï–†–®–ï–ù - 17.12.2025

## üéØ –ü–†–û–ë–õ–ï–ú–ê (–†–ï–®–ï–ù–ê):

**–û—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
> "–° TF4 (ProfTest ‚Üí ExpressCourse) —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ '‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω', —Ö–æ—Ç—è –Ω–∞ —Ñ–æ—Ä–º–µ –Ω–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞ '–Ω–µ –≤—ã–±—Ä–∞—Ç—å'."

**–°–∫—Ä–∏–Ω—à–æ—Ç:**
```
üéØ –ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê - üéì –≠–ö–°–ü–†–ï–°–° –ö–£–†–°

üë§ –ò–º—è: –ù–∏–∫–æ–ª–∞–π
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 (707) 461-28-37
üìß Email: 0zxcbad@gmail.com
üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: ‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω  ‚Üê ‚ùå –ë–ê–ì!
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: TF4
```

---

## üîß –†–ï–®–ï–ù–ò–ï:

### **3 –∫–æ–º–º–∏—Ç–∞:**

#### **1. Backend - —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (b50046a)**
- `backend/src/services/telegramService.ts` - —Å—Ç—Ä–æ–∫–∞ "–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã" –≤—Å–µ–≥–¥–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
- `backend/src/routes/landing.ts` - ProfTest –ø–µ—Ä–µ–¥–∞–µ—Ç `paymentMethod`
- –ï—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω ‚Üí "‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω"

#### **2. Frontend - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Enter (ff3a927)**
- `src/components/landing/CheckoutForm.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω `handleFormSubmit`
- –§–æ—Ä–º–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç Enter –±–µ–∑ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- Alert –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è: "‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã"

#### **3. Backend - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ (72fa48b) ‚úÖ**
- `backend/src/services/telegramService.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `paymentMethod` –≤–º–µ—Å—Ç–æ `source`
- –ï—Å–ª–∏ `paymentMethod` –ø–µ—Ä–µ–¥–∞–Ω ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
- –ï—Å–ª–∏ –ù–ï –ø–µ—Ä–µ–¥–∞–Ω ‚Üí –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º (—É–±—Ä–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é)

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–°–õ–ï DEPLOY:

### **ExpressCourse —Å –≤—ã–±–æ—Ä–æ–º —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã:**
```
üéØ –ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê - üéì –≠–ö–°–ü–†–ï–°–° –ö–£–†–°

üë§ –ò–º—è: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 777 123 45 67
üìß Email: ivan@mail.ru
üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí∞ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞  ‚Üê ‚úÖ –ü–û–ö–ê–ó–´–í–ê–ï–ú!
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: expresscourse
```

### **TF4 (ProfTest ‚Üí ExpressCourse –ë–ï–ó –≤—ã–±–æ—Ä–∞):**
```
üéØ –ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê - üéì –≠–ö–°–ü–†–ï–°–° –ö–£–†–°

üë§ –ò–º—è: –ù–∏–∫–æ–ª–∞–π
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 (707) 461-28-37
üìß Email: 0zxcbad@gmail.com
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: TF4  ‚Üê ‚ùå –°–ü–û–°–û–ë –û–ü–õ–ê–¢–´ –ù–ï –ü–û–ö–ê–ó–´–í–ê–ï–ú!

‚è∞ 17.12.2025, 13:42:20
```

### **ProfTest (–ø—Ä—è–º–æ–π):**
```
üéØ –ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê - üìù –ü–†–û–§–¢–ï–°–¢

üë§ –ò–º—è: –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 777 999 88 77
üìß Email: petr@mail.ru
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: proftest  ‚Üê ‚ùå –°–ü–û–°–û–ë –û–ü–õ–ê–¢–´ –ù–ï –ü–û–ö–ê–ó–´–í–ê–ï–ú!
```

---

## üöÄ DEPLOY –î–ï–¢–ê–õ–ò:

### **GitHub:**
```bash
Commits: b50046a, ff3a927, 72fa48b
Push: Successfully pushed to main
```

### **Production Server:**
```bash
IP: 207.154.231.30
Path: /var/www/onai-integrator-login-main/backend
Git: git pull origin main (Already up to date)
PM2: pm2 restart onai-backend (‚úÖ online)
Status: ‚úÖ –ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### **Frontend:**
```bash
Platform: Vercel
Auto-deploy: Enabled from main branch
Status: ‚úÖ –ó–∞–¥–µ–ø–ª–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–ê PRODUCTION:

### **–¢–µ—Å—Ç 1: TF4 –±–µ–∑ paymentMethod**
```bash
curl -X POST https://api.onai.academy/api/landing/submit \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–ï–°–¢ TF4 PRODUCTION",
    "phone": "+7 777 000 11 22",
    "email": "tf4-prod@test.kz",
    "source": "TF4"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram:**
```
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: TF4
(–ù–ï–¢ —Å—Ç—Ä–æ–∫–∏ "–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã") ‚úÖ
```

### **–¢–µ—Å—Ç 2: ExpressCourse —Å paymentMethod**
```bash
curl -X POST https://api.onai.academy/api/landing/submit \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–¢–ï–°–¢ ExpressCourse PRODUCTION",
    "phone": "+7 777 333 44 55",
    "email": "express-prod@test.kz",
    "source": "expresscourse",
    "paymentMethod": "card"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram:**
```
üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí∞ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ ‚úÖ
üìç –ò—Å—Ç–æ—á–Ω–∏–∫: expresscourse
```

---

## üìã –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ (–§–ò–ù–ê–õ–¨–ù–ê–Ø):

| –°—Ü–µ–Ω–∞—Ä–∏–π | paymentMethod | Telegram |
|----------|---------------|----------|
| ExpressCourse + Kaspi | `'kaspi'` | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí≥ Kaspi –±–∞–Ω–∫` ‚úÖ |
| ExpressCourse + –ö–∞—Ä—Ç–∞ | `'card'` | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí∞ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞` ‚úÖ |
| ExpressCourse + –ú–µ–Ω–µ–¥–∂–µ—Ä | `'manager'` | `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: üí¨ –ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º` ‚úÖ |
| TF4 (–±–µ–∑ –≤—ã–±–æ—Ä–∞) | `undefined` | (—Å—Ç—Ä–æ–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç) ‚úÖ |
| ProfTest | `undefined` | (—Å—Ç—Ä–æ–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç) ‚úÖ |
| –õ—é–±–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –±–µ–∑ –≤—ã–±–æ—Ä–∞ | `undefined` | (—Å—Ç—Ä–æ–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç) ‚úÖ |

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ô CHECKLIST:

- [x] –ü—Ä–æ–±–ª–µ–º–∞ –≤—ã—è–≤–ª–µ–Ω–∞ (TF4 –ø–æ–∫–∞–∑—ã–≤–∞–ª "–ù–µ –≤—ã–±—Ä–∞–Ω")
- [x] –ü—Ä–∏—á–∏–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ source –≤–º–µ—Å—Ç–æ paymentMethod)
- [x] Frontend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Enter)
- [x] Backend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [x] –ö–æ–º–º–∏—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (b50046a, ff3a927, 72fa48b)
- [x] Push –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ GitHub
- [x] Backend –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ production (207.154.231.30)
- [x] Frontend –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
- [x] PM2 —Å—Ç–∞—Ç—É—Å: online ‚úÖ
- [x] –¢–µ—Å—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ production

---

## üìù –§–ê–ô–õ–´ –ò–ó–ú–ï–ù–ï–ù–´:

### **Backend:**
- `backend/src/services/telegramService.ts` (–ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- `backend/src/routes/landing.ts` (–ø–µ—Ä–µ–¥–∞—á–∞ paymentMethod –≤ ProfTest)

### **Frontend:**
- `src/components/landing/CheckoutForm.tsx` (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Enter)

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢:

**–¢–µ–ø–µ—Ä—å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ö–û–†–†–ï–ö–¢–ù–û:**

‚úÖ **ExpressCourse —Å –≤—ã–±–æ—Ä–æ–º** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã  
‚úÖ **TF4 (ProfTest ‚Üí ExpressCourse)** ‚Üí –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º  
‚úÖ **ProfTest –ø—Ä—è–º–æ–π** ‚Üí –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º  
‚úÖ **–õ—é–±–æ–π –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫** ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ `paymentMethod`

**"‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω" –ë–û–õ–¨–®–ï –ù–ï –ü–û–Ø–í–ò–¢–°–Ø!** üöÄ

---

## üõ°Ô∏è –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï:

**–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `telegramService.ts`:**

```typescript
if (leadData.paymentMethod) {
  // ‚úÖ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –í–´–ë–†–ê–ù ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
  paymentMethodLine = `üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: ${text}\n`;
} else {
  // ‚ùå –ù–ï –≤—ã–±—Ä–∞–Ω ‚Üí —Å—Ç—Ä–æ–∫–∞ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
  paymentMethodLine = '';
}
```

**–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –í–°–ï–• –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
- ExpressCourse ‚úÖ
- ProfTest ‚úÖ
- TF4 ‚úÖ
- –õ—é–±—ã–µ –±—É–¥—É—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ ‚úÖ

---

## üìä –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï DEPLOY:

```bash
# PM2 —Å—Ç–∞—Ç—É—Å
ssh root@207.154.231.30 "pm2 status"
# ‚úÖ Status: online

# PM2 –ª–æ–≥–∏
ssh root@207.154.231.30 "pm2 logs onai-backend --lines 50"
# ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫

# –¢–µ—Å—Ç API
curl https://api.onai.academy/ping
# ‚úÖ {"status":"pong"}
```

---

## üìÖ –î–ê–¢–ê –ò –í–†–ï–ú–Ø:

**–î–∞—Ç–∞:** 17 –¥–µ–∫–∞–±—Ä—è 2025  
**–í—Ä–µ–º—è:** ~14:00 UTC+5 (–ê–ª–º–∞—Ç—ã)  
**Deploy duration:** ~5 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û

---

## üí° –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–¢–ö–ò:

1. **TF4** - —Ä–µ–∫–ª–∞–º–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è —á–µ—Ä–µ–∑ `https://onai.academy/integrator/proftest/traf4`
2. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è ProfTest –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ ExpressCourse
3. –ù–∞ —Ñ–æ—Ä–º–µ TF4/ExpressCourse –ù–ï–¢ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª —Å TF4)
4. –ü–æ—ç—Ç–æ–º—É `paymentMethod` –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
5. –ò —Å—Ç—Ä–æ–∫–∞ "–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã" –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è - **—ç—Ç–æ –ü–†–ê–í–ò–õ–¨–ù–û!** ‚úÖ

**–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –õ–Æ–ë–´–• –±—É–¥—É—â–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤!** üéØ

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å PM2 –ª–æ–≥–∏ –ø–µ—Ä–≤—ã–µ 30 –º–∏–Ω—É—Ç
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞—è–≤–∫–∏ —Å TF4 –≤ Telegram
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞—è–≤–∫–∏ —Å ExpressCourse –≤ Telegram
4. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ "‚ùì –ù–µ –≤—ã–±—Ä–∞–Ω" –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

---

**DEPLOY –ó–ê–í–ï–†–®–ï–ù –£–°–ü–ï–®–ù–û!** üéâ

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚úÖ `‚úÖ_–°–ü–û–°–û–ë_–û–ü–õ–ê–¢–´_–ò–°–ü–†–ê–í–õ–ï–ù.md` - Backend —Ñ–∏–∫—Å
- ‚úÖ `‚úÖ_–§–û–†–ú–ê_–ò–°–ü–†–ê–í–õ–ï–ù–ê.md` - Frontend —Ñ–∏–∫—Å
- ‚úÖ `‚úÖ_–£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø_–õ–û–ì–ò–ö–ê_–û–ü–õ–ê–¢–´.md` - –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- ‚úÖ `‚úÖ_DEPLOY_–ì–û–¢–û–í–û.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

